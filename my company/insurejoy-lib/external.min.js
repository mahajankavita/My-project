//Angular 1.3.14
(function(P,X,u){'use strict';function M(b){return function(){var a=arguments[0],c;c="["+(b?b+":":"")+a+"] http://errors.angularjs.org/1.3.14/"+(b?b+"/":"")+a;for(a=1;a<arguments.length;a++){c=c+(1==a?"?":"&")+"p"+(a-1)+"=";var d=encodeURIComponent,e;e=arguments[a];e="function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e;c+=d(e)}return Error(c)}}function Ta(b){if(null==b||Ua(b))return!1;var a=b.length;return b.nodeType===na&&a?!0:x(b)||E(b)||0===a||"number"===typeof a&&0<a&&a-1 in b}function s(b,a,c){var d,e;if(b)if(G(b))for(d in b)"prototype"==d||"length"==d||"name"==d||b.hasOwnProperty&&!b.hasOwnProperty(d)||a.call(c,b[d],d,b);else if(E(b)||Ta(b)){var f="object"!==typeof b;d=0;for(e=b.length;d<e;d++)(f||d in b)&&a.call(c,b[d],d,b)}else if(b.forEach&&b.forEach!==s)b.forEach(a,c,b);else for(d in b)b.hasOwnProperty(d)&&a.call(c,b[d],d,b);return b}function Ed(b,a,c){for(var d=Object.keys(b).sort(),e=0;e<d.length;e++)a.call(c,b[d[e]],d[e]);return d}function lc(b){return function(a,c){b(c,a)}}function Fd(){return++ob}function mc(b,a){a?b.$$hashKey=a:delete b.$$hashKey}function w(b){for(var a=b.$$hashKey,c=1,d=arguments.length;c<d;c++){var e=arguments[c];if(e)for(var f=Object.keys(e),g=0,h=f.length;g<h;g++){var l=f[g];b[l]=e[l]}}mc(b,a);return b}function $(b){return parseInt(b,10)}function Pb(b,a){return w(Object.create(b),a)}function B(){}function oa(b){return b}function da(b){return function(){return b}}function z(b){return"undefined"===typeof b}function y(b){return"undefined"!==typeof b}function J(b){return null!==b&&"object"===typeof b}function x(b){return"string"===typeof b}function V(b){return"number"===typeof b}function pa(b){return"[object Date]"===Da.call(b)}function G(b){return"function"===typeof b}function pb(b){return"[object RegExp]"===Da.call(b)}function Ua(b){return b&&b.window===b}function Va(b){return b&&b.$evalAsync&&b.$watch}function Wa(b){return"boolean"===typeof b}function nc(b){return!(!b||!(b.nodeName||b.prop&&b.attr&&b.find))}function Gd(b){var a={};b=b.split(",");var c;for(c=0;c<b.length;c++)a[b[c]]=!0;return a}function ta(b){return R(b.nodeName||b[0]&&b[0].nodeName)}function Xa(b,a){var c=b.indexOf(a);0<=c&&b.splice(c,1);return a}function Ea(b,a,c,d){if(Ua(b)||Va(b))throw Ka("cpws");if(a){if(b===a)throw Ka("cpi");c=c||[];d=d||[];if(J(b)){var e=c.indexOf(b);if(-1!==e)return d[e];c.push(b);d.push(a)}if(E(b))for(var f=a.length=0;f<b.length;f++)e=Ea(b[f],null,c,d),J(b[f])&&(c.push(b[f]),d.push(e)),a.push(e);else{var g=a.$$hashKey;E(a)?a.length=0:s(a,function(b,c){delete a[c]});for(f in b)b.hasOwnProperty(f)&&(e=Ea(b[f],null,c,d),J(b[f])&&(c.push(b[f]),d.push(e)),a[f]=e);mc(a,g)}}else if(a=b)E(b)?a=Ea(b,[],c,d):pa(b)?a=new Date(b.getTime()):pb(b)?(a=new RegExp(b.source,b.toString().match(/[^\/]*$/)[0]),a.lastIndex=b.lastIndex):J(b)&&(e=Object.create(Object.getPrototypeOf(b)),a=Ea(b,e,c,d));return a}function qa(b,a){if(E(b)){a=a||[];for(var c=0,d=b.length;c<d;c++)a[c]=b[c]}else if(J(b))for(c in a=a||{},b)if("$"!==c.charAt(0)||"$"!==c.charAt(1))a[c]=b[c];return a||b}function ea(b,a){if(b===a)return!0;if(null===b||null===a)return!1;if(b!==b&&a!==a)return!0;var c=typeof b,d;if(c==typeof a&&"object"==c)if(E(b)){if(!E(a))return!1;if((c=b.length)==a.length){for(d=0;d<c;d++)if(!ea(b[d],a[d]))return!1;return!0}}else{if(pa(b))return pa(a)?ea(b.getTime(),a.getTime()):!1;if(pb(b)&&pb(a))return b.toString()==a.toString();if(Va(b)||Va(a)||Ua(b)||Ua(a)||E(a))return!1;c={};for(d in b)if("$"!==d.charAt(0)&&!G(b[d])){if(!ea(b[d],a[d]))return!1;c[d]=!0}for(d in a)if(!c.hasOwnProperty(d)&&"$"!==d.charAt(0)&&a[d]!==u&&!G(a[d]))return!1;return!0}return!1}function Ya(b,a,c){return b.concat(Za.call(a,c))}function oc(b,a){var c=2<arguments.length?Za.call(arguments,2):[];return!G(a)||a instanceof RegExp?a:c.length?function(){return arguments.length?a.apply(b,Ya(c,arguments,0)):a.apply(b,c)}:function(){return arguments.length?a.apply(b,arguments):a.call(b)}}function Hd(b,a){var c=a;"string"===typeof b&&"$"===b.charAt(0)&&"$"===b.charAt(1)?c=u:Ua(a)?c="$WINDOW":a&&X===a?c="$DOCUMENT":Va(a)&&(c="$SCOPE");return c}function $a(b,a){if("undefined"===typeof b)return u;V(a)||(a=a?2:null);return JSON.stringify(b,Hd,a)}function pc(b){return x(b)?JSON.parse(b):b}function ua(b){b=C(b).clone();try{b.empty()}catch(a){}var c=C("<div>").append(b).html();try{return b[0].nodeType===qb?R(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+R(b)})}catch(d){return R(c)}}function qc(b){try{return decodeURIComponent(b)}catch(a){}}function rc(b){var a={},c,d;s((b||"").split("&"),function(b){b&&(c=b.replace(/\+/g,"%20").split("="),d=qc(c[0]),y(d)&&(b=y(c[1])?qc(c[1]):!0,sc.call(a,d)?E(a[d])?a[d].push(b):a[d]=[a[d],b]:a[d]=b))});return a}function Qb(b){var a=[];s(b,function(b,d){E(b)?s(b,function(b){a.push(Fa(d,!0)+(!0===b?"":"="+Fa(b,!0)))}):a.push(Fa(d,!0)+(!0===b?"":"="+Fa(b,!0)))});return a.length?a.join("&"):""}function rb(b){return Fa(b,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Fa(b,a){return encodeURIComponent(b).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,a?"%20":"+")}function Id(b,a){var c,d,e=sb.length;b=C(b);for(d=0;d<e;++d)if(c=sb[d]+a,x(c=b.attr(c)))return c;return null}function Jd(b,a){var c,d,e={};s(sb,function(a){a+="app";!c&&b.hasAttribute&&b.hasAttribute(a)&&(c=b,d=b.getAttribute(a))});s(sb,function(a){a+="app";var e;!c&&(e=b.querySelector("["+a.replace(":","\\:")+"]"))&&(c=e,d=e.getAttribute(a))});c&&(e.strictDi=null!==Id(c,"strict-di"),a(c,d?[d]:[],e))}function tc(b,a,c){J(c)||(c={});c=w({strictDi:!1},c);var d=function(){b=C(b);if(b.injector()){var d=b[0]===X?"document":ua(b);throw Ka("btstrpd",d.replace(/</,"&lt;").replace(/>/,"&gt;"));}a=a||[];a.unshift(["$provide",function(a){a.value("$rootElement",b)}]);c.debugInfoEnabled&&a.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]);a.unshift("ng");d=ab(a,c.strictDi);d.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d);c(b)(a)})}]);return d},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;P&&e.test(P.name)&&(c.debugInfoEnabled=!0,P.name=P.name.replace(e,""));if(P&&!f.test(P.name))return d();P.name=P.name.replace(f,"");aa.resumeBootstrap=function(b){s(b,function(b){a.push(b)});return d()};G(aa.resumeDeferredBootstrap)&&aa.resumeDeferredBootstrap()}function Kd(){P.name="NG_ENABLE_DEBUG_INFO!"+P.name;P.location.reload()}function Ld(b){b=aa.element(b).injector();if(!b)throw Ka("test");return b.get("$$testability")}
function uc(b,a){a=a||"_";return b.replace(Md,function(b,d){return(d?a:"")+b.toLowerCase()})}function Nd(){var b;vc||((ra=P.jQuery)&&ra.fn.on?(C=ra,w(ra.fn,{scope:La.scope,isolateScope:La.isolateScope,controller:La.controller,injector:La.injector,inheritedData:La.inheritedData}),b=ra.cleanData,ra.cleanData=function(a){var c;if(Rb)Rb=!1;else for(var d=0,e;null!=(e=a[d]);d++)(c=ra._data(e,"events"))&&c.$destroy&&ra(e).triggerHandler("$destroy");b(a)}):C=Q,aa.element=C,vc=!0)}function Sb(b,a,c){if(!b)throw Ka("areq",a||"?",c||"required");return b}function tb(b,a,c){c&&E(b)&&(b=b[b.length-1]);Sb(G(b),a,"not a function, got "+(b&&"object"===typeof b?b.constructor.name||"Object":typeof b));return b}function Ma(b,a){if("hasOwnProperty"===b)throw Ka("badname",a);}function wc(b,a,c){if(!a)return b;a=a.split(".");for(var d,e=b,f=a.length,g=0;g<f;g++)d=a[g],b&&(b=(e=b)[d]);return!c&&G(b)?oc(e,b):b}function ub(b){var a=b[0];b=b[b.length-1];var c=[a];do{a=a.nextSibling;if(!a)break;c.push(a)}while(a!==b);return C(c)}function fa(){return Object.create(null)}
function Od(b){function a(a,b,c){return a[b]||(a[b]=c())}var c=M("$injector"),d=M("ng");b=a(b,"angular",Object);b.$$minErr=b.$$minErr||M;return a(b,"module",function(){var b={};return function(f,g,h){if("hasOwnProperty"===f)throw d("badname","module");g&&b.hasOwnProperty(f)&&(b[f]=null);return a(b,f,function(){function a(c,d,e,f){f||(f=b);return function(){f[e||"push"]([c,d,arguments]);return t}}if(!g)throw c("nomod",f);var b=[],d=[],e=[],q=a("$injector","invoke","push",d),t={_invokeQueue:b,_configBlocks:d,_runBlocks:e,requires:g,name:f,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:q,run:function(a){e.push(a);return this}};h&&q(h);return t})}})}function Pd(b){w(b,{bootstrap:tc,copy:Ea,extend:w,equals:ea,element:C,forEach:s,injector:ab,noop:B,bind:oc,toJson:$a,fromJson:pc,identity:oa,isUndefined:z,isDefined:y,isString:x,isFunction:G,isObject:J,isNumber:V,isElement:nc,isArray:E,version:Qd,isDate:pa,lowercase:R,uppercase:vb,callbacks:{counter:0},getTestability:Ld,$$minErr:M,$$csp:bb,reloadWithDebugInfo:Kd});cb=Od(P);try{cb("ngLocale")}catch(a){cb("ngLocale",[]).provider("$locale",Rd)}cb("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Sd});a.provider("$compile",xc).directive({a:Td,input:yc,textarea:yc,form:Ud,script:Vd,select:Wd,style:Xd,option:Yd,ngBind:Zd,ngBindHtml:$d,ngBindTemplate:ae,ngClass:be,ngClassEven:ce,ngClassOdd:de,ngCloak:ee,ngController:fe,ngForm:ge,ngHide:he,ngIf:ie,ngInclude:je,ngInit:ke,ngNonBindable:le,ngPluralize:me,ngRepeat:ne,ngShow:oe,ngStyle:pe,ngSwitch:qe,ngSwitchWhen:re,ngSwitchDefault:se,ngOptions:te,ngTransclude:ue,ngModel:ve,ngList:we,ngChange:xe,pattern:zc,ngPattern:zc,required:Ac,ngRequired:Ac,minlength:Bc,ngMinlength:Bc,maxlength:Cc,ngMaxlength:Cc,ngValue:ye,ngModelOptions:ze}).directive({ngInclude:Ae}).directive(wb).directive(Dc);a.provider({$anchorScroll:Be,$animate:Ce,$browser:De,$cacheFactory:Ee,$controller:Fe,$document:Ge,$exceptionHandler:He,$filter:Ec,$interpolate:Ie,$interval:Je,$http:Ke,$httpBackend:Le,$location:Me,$log:Ne,$parse:Oe,$rootScope:Pe,$q:Qe,$$q:Re,$sce:Se,$sceDelegate:Te,$sniffer:Ue,$templateCache:Ve,$templateRequest:We,$$testability:Xe,$timeout:Ye,$window:Ze,$$rAF:$e,$$asyncCallback:af,$$jqLite:bf})}])}function db(b){return b.replace(cf,function(a,b,d,e){return e?d.toUpperCase():d}).replace(df,"Moz$1")}function Fc(b){b=b.nodeType;return b===na||!b||9===b}function Gc(b,a){var c,d,e=a.createDocumentFragment(),f=[];if(Tb.test(b)){c=c||e.appendChild(a.createElement("div"));d=(ef.exec(b)||["",""])[1].toLowerCase();d=ga[d]||ga._default;c.innerHTML=d[1]+b.replace(ff,"<$1></$2>")+d[2];for(d=d[0];d--;)c=c.lastChild;f=Ya(f,c.childNodes);c=e.firstChild;c.textContent=""}else f.push(a.createTextNode(b));e.textContent="";e.innerHTML="";s(f,function(a){e.appendChild(a)});return e}function Q(b){if(b instanceof Q)return b;var a;x(b)&&(b=T(b),a=!0);if(!(this instanceof Q)){if(a&&"<"!=b.charAt(0))throw Ub("nosel");return new Q(b)}if(a){a=X;var c;b=(c=gf.exec(b))?[a.createElement(c[1])]:(c=Gc(b,a))?c.childNodes:[]}Hc(this,b)}function Vb(b){return b.cloneNode(!0)}function xb(b,a){a||yb(b);if(b.querySelectorAll)for(var c=b.querySelectorAll("*"),d=0,e=c.length;d<e;d++)yb(c[d])}function Ic(b,a,c,d){if(y(d))throw Ub("offargs");var e=(d=zb(b))&&d.events,f=d&&d.handle;if(f)if(a)s(a.split(" "),function(a){if(y(c)){var d=e[a];Xa(d||[],c);if(d&&0<d.length)return}b.removeEventListener(a,f,!1);delete e[a]});else for(a in e)"$destroy"!==a&&b.removeEventListener(a,f,!1),delete e[a]}function yb(b,a){var c=b.ng339,d=c&&Ab[c];d&&(a?delete d.data[a]:(d.handle&&(d.events.$destroy&&d.handle({},"$destroy"),Ic(b)),delete Ab[c],b.ng339=u))}function zb(b,a){var c=b.ng339,c=c&&Ab[c];a&&!c&&(b.ng339=c=++hf,c=Ab[c]={events:{},data:{},handle:u});return c}function Wb(b,a,c){if(Fc(b)){var d=y(c),e=!d&&a&&!J(a),f=!a;b=(b=zb(b,!e))&&b.data;if(d)b[a]=c;else{if(f)return b;if(e)return b&&b[a];w(b,a)}}}function Bb(b,a){return b.getAttribute?-1<(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+a+" "):!1}function Cb(b,a){a&&b.setAttribute&&s(a.split(" "),function(a){b.setAttribute("class",T((" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+T(a)+" "," ")))})}function Db(b,a){if(a&&b.setAttribute){var c=(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");s(a.split(" "),function(a){a=T(a);-1===c.indexOf(" "+a+" ")&&(c+=a+" ")});b.setAttribute("class",T(c))}}function Hc(b,a){if(a)if(a.nodeType)b[b.length++]=a;else{var c=a.length;if("number"===typeof c&&a.window!==a){if(c)for(var d=0;d<c;d++)b[b.length++]=a[d]}else b[b.length++]=a}}function Jc(b,a){return Eb(b,"$"+(a||"ngController")+"Controller")}function Eb(b,a,c){9==b.nodeType&&(b=b.documentElement);for(a=E(a)?a:[a];b;){for(var d=0,e=a.length;d<e;d++)if((c=C.data(b,a[d]))!==u)return c;b=b.parentNode||11===b.nodeType&&b.host}}function Kc(b){for(xb(b,!0);b.firstChild;)b.removeChild(b.firstChild)}function Lc(b,a){a||xb(b);var c=b.parentNode;c&&c.removeChild(b)}function jf(b,a){a=a||P;if("complete"===a.document.readyState)a.setTimeout(b);else C(a).on("load",b)}function Mc(b,a){var c=Fb[a.toLowerCase()];return c&&Nc[ta(b)]&&c}function kf(b,a){var c=b.nodeName;return("INPUT"===c||"TEXTAREA"===c)&&Oc[a]}function lf(b,a){var c=function(c,e){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=a[e||c.type],g=f?f.length:0;if(g){if(z(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0;c.stopPropagation&&c.stopPropagation();h&&h.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};1<g&&(f=qa(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||f[l].call(b,c)}};c.elem=b;return c}function bf(){this.$get=function(){return w(Q,{hasClass:function(b,a){b.attr&&(b=b[0]);return Bb(b,a)},addClass:function(b,a){b.attr&&(b=b[0]);return Db(b,a)},removeClass:function(b,a){b.attr&&(b=b[0]);return Cb(b,a)}})}}function Na(b,a){var c=b&&b.$$hashKey;if(c)return"function"===typeof c&&(c=b.$$hashKey()),c;c=typeof b;return c="function"==c||"object"==c&&null!==b?b.$$hashKey=c+":"+(a||Fd)():c+":"+b}function eb(b,a){if(a){var c=0;this.nextUid=function(){return++c}}s(b,this.put,this)}function mf(b){return(b=b.toString().replace(Pc,"").match(Qc))?"function("+(b[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function ab(b,a){function c(a){return function(b,c){if(J(b))s(b,lc(a));else return a(b,c)}}function d(a,b){Ma(a,"service");if(G(b)||E(b))b=q.instantiate(b);if(!b.$get)throw Ga("pget",a);return p[a+"Provider"]=b}function e(a,b){return function(){var c=r.invoke(b,this);if(z(c))throw Ga("undef",a);return c}}function f(a,b,c){return d(a,{$get:!1!==c?e(a,b):b})}function g(a){var b=[],c;s(a,function(a){function d(a){var b,c;b=0;for(c=a.length;b<c;b++){var e=a[b],f=q.get(e[0]);f[e[1]].apply(f,e[2])}}if(!m.get(a)){m.put(a,!0);try{x(a)?(c=cb(a),b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):G(a)?b.push(q.invoke(a)):E(a)?b.push(q.invoke(a)):tb(a,"module")}catch(e){throw E(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Ga("modulerr",a,e.stack||e.message||e);}}});return b}function h(b,c){function d(a,e){if(b.hasOwnProperty(a)){if(b[a]===l)throw Ga("cdep",a+" <- "+k.join(" <- "));return b[a]}try{return k.unshift(a),b[a]=l,b[a]=c(a,e)}catch(f){throw b[a]===l&&delete b[a],f;}finally{k.shift()}}function e(b,c,f,g){"string"===typeof f&&(g=f,f=null);var h=[],k=ab.$$annotate(b,a,g),l,q,p;q=0;for(l=k.length;q<l;q++){p=k[q];if("string"!==typeof p)throw Ga("itkn",p);h.push(f&&f.hasOwnProperty(p)?f[p]:d(p,g))}E(b)&&(b=b[l]);return b.apply(c,h)}return{invoke:e,instantiate:function(a,b,c){var d=Object.create((E(a)?a[a.length-1]:a).prototype||null);a=e(a,d,b,c);return J(a)||G(a)?a:d},get:d,annotate:ab.$$annotate,has:function(a){return p.hasOwnProperty(a+"Provider")||b.hasOwnProperty(a)}}}a=!0===a;var l={},k=[],m=new eb([],!0),p={$provide:{provider:c(d),factory:c(f),service:c(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:c(function(a,b){return f(a,da(b),!1)}),constant:c(function(a,b){Ma(a,"constant");p[a]=b;t[a]=b}),decorator:function(a,b){var c=q.get(a+"Provider"),d=c.$get;c.$get=function(){var a=r.invoke(d,c);return r.invoke(b,null,{$delegate:a})}}}},q=p.$injector=h(p,function(a,b){aa.isString(b)&&k.push(b);throw Ga("unpr",k.join(" <- "));}),t={},r=t.$injector=h(t,function(a,b){var c=q.get(a+"Provider",b);return r.invoke(c.$get,c,u,a)});s(g(b),function(a){r.invoke(a||B)});return r}function Be(){var b=!0;this.disableAutoScrolling=function(){b=!1};this.$get=["$window","$location","$rootScope",function(a,c,d){function e(a){var b=null;Array.prototype.some.call(a,function(a){if("a"===ta(a))return b=a,!0});return b}function f(b){if(b){b.scrollIntoView();var c;c=g.yOffset;G(c)?c=c():nc(c)?(c=c[0],c="fixed"!==a.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):V(c)||(c=0);c&&(b=b.getBoundingClientRect().top,a.scrollBy(0,b-c))}else a.scrollTo(0,0)}function g(){var a=c.hash(),b;a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var h=a.document;b&&d.$watch(function(){return c.hash()},function(a,b){a===b&&""===a||jf(function(){d.$evalAsync(g)})});return g}]}function af(){this.$get=["$$rAF","$timeout",function(b,a){return b.supported?function(a){return b(a)}:function(b){return a(b,0,!1)}}]}function nf(b,a,c,d){function e(a){try{a.apply(null,Za.call(arguments,1))}finally{if(n--,0===n)for(;D.length;)try{D.pop()()}catch(b){c.error(b)}}}function f(a,b){(function ca(){s(H,function(a){a()});v=b(ca,a)})()}function g(){h();l()}function h(){A=b.history.state;A=z(A)?null:A;ea(A,O)&&(A=O);O=A}function l(){if(F!==m.url()||N!==A)F=m.url(),N=A,s(W,function(a){a(m.url(),A)})}function k(a){try{return decodeURIComponent(a)}catch(b){return a}}var m=this,p=a[0],q=b.location,t=b.history,r=b.setTimeout,S=b.clearTimeout,K={};m.isMock=!1;var n=0,D=[];m.$$completeOutstandingRequest=e;m.$$incOutstandingRequestCount=function(){n++};m.notifyWhenNoOutstandingRequests=function(a){s(H,function(a){a()});0===n?a():D.push(a)};var H=[],v;m.addPollFn=function(a){z(v)&&f(100,r);H.push(a);return a};var A,N,F=q.href,ba=a.find("base"),I=null;h();N=A;m.url=function(a,c,e){z(e)&&(e=null);q!==b.location&&(q=b.location);t!==b.history&&(t=b.history);if(a){var f=N===e;if(F===a&&(!d.history||f))return m;var g=F&&Ha(F)===Ha(a);F=a;N=e;!d.history||g&&f?(g||(I=a),c?q.replace(a):g?(c=q,e=a.indexOf("#"),a=-1===e?"":a.substr(e+1),c.hash=a):q.href=a):(t[c?"replaceState":"pushState"](e,"",a),h(),N=A);return m}return I||q.href.replace(/%27/g,"'")};m.state=function(){return A};var W=[],va=!1,O=null;m.onUrlChange=function(a){if(!va){if(d.history)C(b).on("popstate",g);C(b).on("hashchange",g);va=!0}W.push(a);return a};m.$$checkUrlChange=l;m.baseHref=function(){var a=ba.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var wa={},y="",ha=m.baseHref();m.cookies=function(a,b){var d,e,f,g;if(a)b===u?p.cookie=encodeURIComponent(a)+"=;path="+ha+";expires=Thu, 01 Jan 1970 00:00:00 GMT":x(b)&&(d=(p.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+";path="+ha).length+1,4096<d&&c.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+d+" > 4096 bytes)!"));else{if(p.cookie!==y)for(y=p.cookie,d=y.split("; "),wa={},f=0;f<d.length;f++)e=d[f],g=e.indexOf("="),0<g&&(a=k(e.substring(0,g)),wa[a]===u&&(wa[a]=k(e.substring(g+1))));return wa}};m.defer=function(a,b){var c;n++;c=r(function(){delete K[c];e(a)},b||0);K[c]=!0;return c};m.defer.cancel=function(a){return K[a]?(delete K[a],S(a),e(B),!0):!1}}function De(){this.$get=["$window","$log","$sniffer","$document",function(b,a,c,d){return new nf(b,d,a,c)}]}function Ee(){this.$get=function(){function b(b,d){function e(a){a!=p&&(q?q==a&&(q=a.n):q=a,f(a.n,a.p),f(a,p),p=a,p.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(b in a)throw M("$cacheFactory")("iid",b);var g=0,h=w({},d,{id:b}),l={},k=d&&d.capacity||Number.MAX_VALUE,m={},p=null,q=null;return a[b]={put:function(a,b){if(k<Number.MAX_VALUE){var c=m[a]||(m[a]={key:a});e(c)}if(!z(b))return a in l||g++,l[a]=b,g>k&&this.remove(q.key),b},get:function(a){if(k<Number.MAX_VALUE){var b=m[a];if(!b)return;e(b)}return l[a]},remove:function(a){if(k<Number.MAX_VALUE){var b=m[a];if(!b)return;b==p&&(p=b.p);b==q&&(q=b.n);f(b.n,b.p);delete m[a]}delete l[a];g--},removeAll:function(){l={};g=0;m={};p=q=null},destroy:function(){m=h=l=null;delete a[b]},info:function(){return w({},h,{size:g})}}}var a={};b.info=function(){var b={};s(a,function(a,e){b[e]=a.info()});return b};b.get=function(b){return a[b]};return b}}function Ve(){this.$get=["$cacheFactory",function(b){return b("templates")}]}function xc(b,a){function c(a,b){var c=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,d={};s(a,function(a,e){var f=a.match(c);if(!f)throw ia("iscp",b,e,a);d[e]={mode:f[1][0],collection:"*"===f[2],optional:"?"===f[3],attrName:f[4]||e}});return d}var d={},e=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,f=/(([\w\-]+)(?:\:([^;]+))?;?)/,g=Gd("ngSrc,ngSrcset,src,srcset"),h=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,l=/^(on[a-z]+|formaction)$/;this.directive=function p(a,e){Ma(a,"directive");x(a)?(Sb(e,"directiveFactory"),d.hasOwnProperty(a)||(d[a]=[],b.factory(a+"Directive",["$injector","$exceptionHandler",function(b,e){var f=[];s(d[a],function(d,g){try{var h=b.invoke(d);G(h)?h={compile:da(h)}:!h.compile&&h.link&&(h.compile=da(h.link));h.priority=h.priority||0;h.index=g;h.name=h.name||a;h.require=h.require||h.controller&&h.name;h.restrict=h.restrict||"EA";J(h.scope)&&(h.$$isolateBindings=c(h.scope,h.name));f.push(h)}catch(l){e(l)}});return f}])),d[a].push(e)):s(a,lc(p));return this};this.aHrefSanitizationWhitelist=function(b){return y(b)?(a.aHrefSanitizationWhitelist(b),this):a.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(b){return y(b)?(a.imgSrcSanitizationWhitelist(b),this):a.imgSrcSanitizationWhitelist()};var k=!0;this.debugInfoEnabled=function(a){return y(a)?(k=a,this):k};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,b,c,r,S,K,n,D,H,v,A){function N(a,b){try{a.addClass(b)}catch(c){}}function F(a,b,c,d,e){a instanceof C||(a=C(a));s(a,function(b,c){b.nodeType==qb&&b.nodeValue.match(/\S+/)&&(a[c]=C(b).wrap("<span></span>").parent()[0])});var f=ba(a,b,a,c,d,e);F.$$addScopeClass(a);var g=null;return function(b,c,d){Sb(b,"scope");d=d||{};var e=d.parentBoundTranscludeFn,h=d.transcludeControllers;d=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude);g||(g=(d=d&&d[0])?"foreignobject"!==ta(d)&&d.toString().match(/SVG/)?"svg":"html":"html");d="html"!==g?C(Xb(g,C("<div>").append(a).html())):c?La.clone.call(a):a;if(h)for(var l in h)d.data("$"+l+"Controller",h[l].instance);F.$$addScopeInfo(d,b);c&&c(d,b);f&&f(b,d,d,e);return d}}function ba(a,b,c,d,e,f){function g(a,c,d,e){var f,l,k,q,p,r,D;if(n)for(D=Array(c.length),q=0;q<h.length;q+=3)f=h[q],D[f]=c[f];else D=c;q=0;for(p=h.length;q<p;)l=D[h[q++]],c=h[q++],f=h[q++],c?(c.scope?(k=a.$new(),F.$$addScopeInfo(C(l),k)):k=a,r=c.transcludeOnThisElement?I(a,c.transclude,e,c.elementTranscludeOnThisElement):!c.templateOnThisElement&&e?e:!e&&b?I(a,b):null,c(f,k,l,d,r)):f&&f(a,l.childNodes,u,e)}for(var h=[],l,k,q,p,n,r=0;r<a.length;r++){l=new Yb;k=W(a[r],[],l,0===r?d:u,e);(f=k.length?y(k,a[r],l,b,c,null,[],[],f):null)&&f.scope&&F.$$addScopeClass(l.$$element);l=f&&f.terminal||!(q=a[r].childNodes)||!q.length?null:ba(q,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b);if(f||l)h.push(r,f,l),p=!0,n=n||f;f=null}return p?g:null}function I(a,b,c,d){return function(d,e,f,g,h){d||(d=a.$new(!1,h),d.$$transcluded=!0);return b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})}}function W(a,b,c,d,g){var h=c.$attr,l;switch(a.nodeType){case na:ha(b,ya(ta(a)),"E",d,g);for(var k,q,p,n=a.attributes,r=0,D=n&&n.length;r<D;r++){var S=!1,t=!1;k=n[r];l=k.name;q=T(k.value);k=ya(l);if(p=Pa.test(k))l=l.replace(Sc,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()});var A=k.replace(/(Start|End)$/,"");fb(A)&&k===A+"Start"&&(S=l,t=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6));k=ya(l.toLowerCase());h[k]=l;if(p||!c.hasOwnProperty(k))c[k]=q,Mc(a,k)&&(c[k]=!0);Aa(a,b,q,k,p);ha(b,k,"A",d,g,S,t)}a=a.className;J(a)&&(a=a.animVal);if(x(a)&&""!==a)for(;l=f.exec(a);)k=ya(l[2]),ha(b,k,"C",d,g)&&(c[k]=T(l[3])),a=a.substr(l.index+l[0].length);break;case qb:P(b,a.nodeValue);break;case 8:try{if(l=e.exec(a.nodeValue))k=ya(l[1]),ha(b,k,"M",d,g)&&(c[k]=T(l[2]))}catch(v){}}b.sort(ca);return b}function va(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw ia("uterdir",b,c);a.nodeType==na&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return C(d)}function O(a,b,c){return function(d,e,f,g,h){e=va(e[0],b,c);return a(d,e,f,g,h)}}function y(a,d,e,f,g,l,k,p,n){function r(a,b,c,d){if(a){c&&(a=O(a,c,d));a.require=L.require;a.directiveName=ca;if(I===L||L.$$isolateScope)a=Y(a,{isolateScope:!0});k.push(a)}if(b){c&&(b=O(b,c,d));b.require=L.require;b.directiveName=ca;if(I===L||L.$$isolateScope)b=Y(b,{isolateScope:!0});p.push(b)}}function D(a,b,c,d){var e,f="data",g=!1,l=c,k;if(x(b)){k=b.match(h);b=b.substring(k[0].length);k[3]&&(k[1]?k[3]=null:k[1]=k[3]);"^"===k[1]?f="inheritedData":"^^"===k[1]&&(f="inheritedData",l=c.parent());"?"===k[2]&&(g=!0);e=null;d&&"data"===f&&(e=d[b])&&(e=e.instance);e=e||l[f]("$"+b+"Controller");if(!e&&!g)throw ia("ctreq",b,a);return e||null}E(b)&&(e=[],s(b,function(b){e.push(D(a,b,c,d))}));return e}function A(a,c,f,g,h){function l(a,b,c){var d;Va(a)||(c=b,b=a,a=u);B&&(d=N);c||(c=B?W.parent():W);return h(a,b,d,c,va)}var n,r,t,v,N,gb,W,O;d===f?(O=e,W=e.$$element):(W=C(f),O=new Yb(W,e));I&&(v=c.$new(!0));h&&(gb=l,gb.$$boundTransclude=h);H&&(ba={},N={},s(H,function(a){var b={$scope:a===I||a.$$isolateScope?v:c,$element:W,$attrs:O,$transclude:gb};t=a.controller;"@"==t&&(t=O[a.name]);b=K(t,b,!0,a.controllerAs);N[a.name]=b;B||W.data("$"+a.name+"Controller",b.instance);ba[a.name]=b}));if(I){F.$$addScopeInfo(W,v,!0,!(ja&&(ja===I||ja===I.$$originalDirective)));F.$$addScopeClass(W,!0);g=ba&&ba[I.name];var xa=v;g&&g.identifier&&!0===I.bindToController&&(xa=g.instance);s(v.$$isolateBindings=I.$$isolateBindings,function(a,d){var e=a.attrName,f=a.optional,g,h,l,k;switch(a.mode){case"@":O.$observe(e,function(a){xa[d]=a});O.$$observers[e].$$scope=c;O[e]&&(xa[d]=b(O[e])(c));break;case"=":if(f&&!O[e])break;h=S(O[e]);k=h.literal?ea:function(a,b){return a===b||a!==a&&b!==b};l=h.assign||function(){g=xa[d]=h(c);throw ia("nonassign",O[e],I.name);};g=xa[d]=h(c);f=function(a){k(a,xa[d])||(k(a,g)?l(c,a=xa[d]):xa[d]=a);return g=a};f.$stateful=!0;f=a.collection?c.$watchCollection(O[e],f):c.$watch(S(O[e],f),null,h.literal);v.$on("$destroy",f);break;case"&":h=S(O[e]),xa[d]=function(a){return h(c,a)}}})}ba&&(s(ba,function(a){a()}),ba=null);g=0;for(n=k.length;g<n;g++)r=k[g],Z(r,r.isolateScope?v:c,W,O,r.require&&D(r.directiveName,r.require,W,N),gb);var va=c;I&&(I.template||null===I.templateUrl)&&(va=v);a&&a(va,f.childNodes,u,h);for(g=p.length-1;0<=g;g--)r=p[g],Z(r,r.isolateScope?v:c,W,O,r.require&&D(r.directiveName,r.require,W,N),gb)}n=n||{};for(var v=-Number.MAX_VALUE,N,H=n.controllerDirectives,ba,I=n.newIsolateScopeDirective,ja=n.templateDirective,wa=n.nonTlbTranscludeDirective,ha=!1,fb=!1,B=n.hasElementTranscludeDirective,w=e.$$element=C(d),L,ca,U,R=f,P,Q=0,Aa=a.length;Q<Aa;Q++){L=a[Q];var Pa=L.$$start,$=L.$$end;Pa&&(w=va(d,Pa,$));U=u;if(v>L.priority)break;if(U=L.scope)L.templateUrl||(J(U)?(Oa("new/isolated scope",I||N,L,w),I=L):Oa("new/isolated scope",I,L,w)),N=N||L;ca=L.name;!L.templateUrl&&L.controller&&(U=L.controller,H=H||{},Oa("'"+ca+"' controller",H[ca],L,w),H[ca]=L);if(U=L.transclude)ha=!0,L.$$tlb||(Oa("transclusion",wa,L,w),wa=L),"element"==U?(B=!0,v=L.priority,U=w,w=e.$$element=C(X.createComment(" "+ca+": "+e[ca]+" ")),d=w[0],V(g,Za.call(U,0),d),R=F(U,f,v,l&&l.name,{nonTlbTranscludeDirective:wa})):(U=C(Vb(d)).contents(),w.empty(),R=F(U,f));if(L.template)if(fb=!0,Oa("template",ja,L,w),ja=L,U=G(L.template)?L.template(w,e):L.template,U=Tc(U),L.replace){l=L;U=Tb.test(U)?Uc(Xb(L.templateNamespace,T(U))):[];d=U[0];if(1!=U.length||d.nodeType!==na)throw ia("tplrt",ca,"");V(g,w,d);Aa={$attr:{}};U=W(d,[],Aa);var of=a.splice(Q+1,a.length-(Q+1));I&&z(U);a=a.concat(U).concat(of);Rc(e,Aa);Aa=a.length}else w.html(U);if(L.templateUrl)fb=!0,Oa("template",ja,L,w),ja=L,L.replace&&(l=L),A=M(a.splice(Q,a.length-Q),w,e,g,ha&&R,k,p,{controllerDirectives:H,newIsolateScopeDirective:I,templateDirective:ja,nonTlbTranscludeDirective:wa}),Aa=a.length;else if(L.compile)try{P=L.compile(w,e,R),G(P)?r(null,P,Pa,$):P&&r(P.pre,P.post,Pa,$)}catch(aa){c(aa,ua(w))}L.terminal&&(A.terminal=!0,v=Math.max(v,L.priority))}A.scope=N&&!0===N.scope;A.transcludeOnThisElement=ha;A.elementTranscludeOnThisElement=B;A.templateOnThisElement=fb;A.transclude=R;n.hasElementTranscludeDirective=B;return A}function z(a){for(var b=0,c=a.length;b<c;b++)a[b]=Pb(a[b],{$$isolateScope:!0})}function ha(b,e,f,g,h,l,k){if(e===h)return null;h=null;if(d.hasOwnProperty(e)){var q;e=a.get(e+"Directive");for(var n=0,r=e.length;n<r;n++)try{q=e[n],(g===u||g>q.priority)&&-1!=q.restrict.indexOf(f)&&(l&&(q=Pb(q,{$$start:l,$$end:k})),b.push(q),h=q)}catch(D){c(D)}}return h}function fb(b){if(d.hasOwnProperty(b))for(var c=a.get(b+"Directive"),e=0,f=c.length;e<f;e++)if(b=c[e],b.multiElement)return!0;return!1}function Rc(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;s(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))});s(b,function(b,f){"class"==f?(N(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function M(a,b,c,d,e,f,g,h){var l=[],k,q,p=b[0],n=a.shift(),D=Pb(n,{templateUrl:null,transclude:null,replace:null,$$originalDirective:n}),S=G(n.templateUrl)?n.templateUrl(b,c):n.templateUrl,t=n.templateNamespace;b.empty();r(H.getTrustedResourceUrl(S)).then(function(r){var A,v;r=Tc(r);if(n.replace){r=Tb.test(r)?Uc(Xb(t,T(r))):[];A=r[0];if(1!=r.length||A.nodeType!==na)throw ia("tplrt",n.name,S);r={$attr:{}};V(d,b,A);var H=W(A,[],r);J(n.scope)&&z(H);a=H.concat(a);Rc(c,r)}else A=p,b.html(r);a.unshift(D);k=y(a,A,c,e,b,n,f,g,h);s(d,function(a,c){a==A&&(d[c]=b[0])});for(q=ba(b[0].childNodes,e);l.length;){r=l.shift();v=l.shift();var F=l.shift(),K=l.shift(),H=b[0];if(!r.$$destroyed){if(v!==p){var O=v.className;h.hasElementTranscludeDirective&&n.replace||(H=Vb(A));V(F,C(v),H);N(C(H),O)}v=k.transcludeOnThisElement?I(r,k.transclude,K):K;k(q,r,H,d,v)}}l=null});return function(a,b,c,d,e){a=e;b.$$destroyed||(l?l.push(b,c,d,a):(k.transcludeOnThisElement&&(a=I(b,k.transclude,e)),k(q,b,c,d,a)))}}function ca(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function Oa(a,b,c,d){if(b)throw ia("multidir",b.name,c.name,a,ua(d));}function P(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;b&&F.$$addBindingClass(a);return function(a,c){var e=c.parent();b||F.$$addBindingClass(e);F.$$addBindingInfo(e,d.expressions);a.$watch(d,function(a){c[0].nodeValue=a})}}})}function Xb(a,b){a=R(a||"html");switch(a){case"svg":case"math":var c=X.createElement("div");c.innerHTML="<"+a+">"+b+"</"+a+">";return c.childNodes[0].childNodes;default:return b}}function Q(a,b){if("srcdoc"==b)return H.HTML;var c=ta(a);if("xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b))return H.RESOURCE_URL}function Aa(a,c,d,e,f){var h=Q(a,e);f=g[e]||f;var k=b(d,!0,h,f);if(k){if("multiple"===e&&"select"===ta(a))throw ia("selmulti",ua(a));c.push({priority:100,compile:function(){return{pre:function(a,c,g){c=g.$$observers||(g.$$observers={});if(l.test(e))throw ia("nodomevents");var n=g[e];n!==d&&(k=n&&b(n,!0,h,f),d=n);k&&(g[e]=k(a),(c[e]||(c[e]=[])).$$inter=!0,(g.$$observers&&g.$$observers[e].$$scope||a).$watch(k,function(a,b){"class"===e&&a!=b?g.$updateClass(a,b):g.$set(e,a)}))}}}})}}function V(a,b,c){var d=b[0],e=b.length,f=d.parentNode,g,h;if(a)for(g=0,h=a.length;g<h;g++)if(a[g]==d){a[g++]=c;h=g+e-1;for(var l=a.length;g<l;g++,h++)h<l?a[g]=a[h]:delete a[g];a.length-=e-1;a.context===d&&(a.context=c);break}f&&f.replaceChild(c,d);a=X.createDocumentFragment();a.appendChild(d);C(c).data(C(d).data());ra?(Rb=!0,ra.cleanData([d])):delete C.cache[d[C.expando]];d=1;for(e=b.length;d<e;d++)f=b[d],C(f).remove(),a.appendChild(f),delete b[d];b[0]=c;b.length=1}function Y(a,b){return w(function(){return a.apply(null,arguments)},a,b)}function Z(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,ua(d))}}var Yb=function(a,b){if(b){var c=Object.keys(b),d,e,f;d=0;for(e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a};Yb.prototype={$normalize:ya,$addClass:function(a){a&&0<a.length&&v.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&v.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=Vc(a,b);c&&c.length&&v.addClass(this.$$element,c);(c=Vc(b,a))&&c.length&&v.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=this.$$element[0],g=Mc(f,a),h=kf(f,a),f=a;g?(this.$$element.prop(a,b),e=g):h&&(this[h]=b,f=h);this[a]=b;e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=uc(a,"-"));g=ta(this.$$element);if("a"===g&&"href"===a||"img"===g&&"src"===a)this[a]=b=A(b,"src"===a);else if("img"===g&&"srcset"===a){for(var g="",h=T(b),l=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,l=/\s/.test(h)?l:/(,)/,h=h.split(l),l=Math.floor(h.length / 2),k=0;k<l;k++)var q=2*k,g=g+A(T(h[q]),!0),g=g+(" "+T(h[q+1]));h=T(h[2*k]).split(/\s/);g+=A(T(h[0]),!0);2===h.length&&(g+=" "+T(h[1]));this[a]=b=g}!1!==d&&(null===b||b===u?this.$$element.removeAttr(e):this.$$element.attr(e,b));(a=this.$$observers)&&s(a[f],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=fa()),e=d[a]||(d[a]=[]);e.push(b);n.$evalAsync(function(){!e.$$inter&&c.hasOwnProperty(a)&&b(c[a])});return function(){Xa(e,b)}}};var U=b.startSymbol(),ja=b.endSymbol(),Tc="{{"==U||"}}"==ja?oa:function(a){return a.replace(/\{\{/g,U).replace(/}}/g,ja)},Pa=/^ngAttr[A-Z]/;F.$$addBindingInfo=k?function(a,b){var c=a.data("$binding")||[];E(b)?c=c.concat(b):c.push(b);a.data("$binding",c)}:B;F.$$addBindingClass=k?function(a){N(a,"ng-binding")}:B;F.$$addScopeInfo=k?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:B;F.$$addScopeClass=k?function(a,b){N(a,b?"ng-isolate-scope":"ng-scope")}:B;return F}]}function ya(b){return db(b.replace(Sc,""))}function Vc(b,a){var c="",d=b.split(/\s+/),e=a.split(/\s+/),f=0;a:for(;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(0<c.length?" ":"")+g}return c}function Uc(b){b=C(b);var a=b.length;if(1>=a)return b;for(;a--;)8===b[a].nodeType&&pf.call(b,a,1);return b}function Fe(){var b={},a=!1,c=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(a,c){Ma(a,"controller");J(a)?w(b,a):b[a]=c};this.allowGlobals=function(){a=!0};this.$get=["$injector","$window",function(d,e){function f(a,b,c,d){if(!a||!J(a.$scope))throw M("$controller")("noscp",d,b);a.$scope[b]=c}return function(g,h,l,k){var m,p,q;l=!0===l;k&&x(k)&&(q=k);if(x(g)){k=g.match(c);if(!k)throw qf("ctrlfmt",g);p=k[1];q=q||k[3];g=b.hasOwnProperty(p)?b[p]:wc(h.$scope,p,!0)||(a?wc(e,p,!0):u);tb(g,p,!0)}if(l)return l=(E(g)?g[g.length-1]:g).prototype,m=Object.create(l||null),q&&f(h,q,m,p||g.name),w(function(){d.invoke(g,m,h,p);return m},{instance:m,identifier:q});m=d.instantiate(g,h,p);q&&f(h,q,m,p||g.name);return m}}]}function Ge(){this.$get=["$window",function(b){return C(b.document)}]}function He(){this.$get=["$log",function(b){return function(a,c){b.error.apply(b,arguments)}}]}function Zb(b,a){if(x(b)){var c=b.replace(rf,"").trim();if(c){var d=a("Content-Type");(d=d&&0===d.indexOf(Wc))||(d=(d=c.match(sf))&&tf[d[0]].test(c));d&&(b=pc(c))}}return b}function Xc(b){var a=fa(),c,d,e;if(!b)return a;s(b.split("\n"),function(b){e=b.indexOf(":");c=R(T(b.substr(0,e)));d=T(b.substr(e+1));c&&(a[c]=a[c]?a[c]+", "+d:d)});return a}function Yc(b){var a=J(b)?b:u;return function(c){a||(a=Xc(b));return c?(c=a[R(c)],void 0===c&&(c=null),c):a}}function Zc(b,a,c,d){if(G(d))return d(b,a,c);s(d,function(d){b=d(b,a,c)});return b}function Ke(){var b=this.defaults={transformResponse:[Zb],transformRequest:[function(a){return J(a)&&"[object File]"!==Da.call(a)&&"[object Blob]"!==Da.call(a)&&"[object FormData]"!==Da.call(a)?$a(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:qa($b),put:qa($b),patch:qa($b)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},a=!1;this.useApplyAsync=function(b){return y(b)?(a=!!b,this):a};var c=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(d,e,f,g,h,l){function k(a){function c(a){var b=w({},a);b.data=a.data?Zc(a.data,a.headers,a.status,e.transformResponse):a.data;a=a.status;return 200<=a&&300>a?b:h.reject(b)}function d(a){var b,c={};s(a,function(a,d){G(a)?(b=a(),null!=b&&(c[d]=b)):c[d]=a});return c}if(!aa.isObject(a))throw M("$http")("badreq",a);var e=w({method:"get",transformRequest:b.transformRequest,transformResponse:b.transformResponse},a);e.headers=function(a){var c=b.headers,e=w({},a.headers),f,g,c=w({},c.common,c[R(a.method)]);a:for(f in c){a=R(f);for(g in e)if(R(g)===a)continue a;e[f]=c[f]}return d(e)}(a);e.method=vb(e.method);var f=[function(a){var d=a.headers,e=Zc(a.data,Yc(d),u,a.transformRequest);z(e)&&s(d,function(a,b){"content-type"===R(b)&&delete d[b]});z(a.withCredentials)&&!z(b.withCredentials)&&(a.withCredentials=b.withCredentials);return m(a,e).then(c,c)},u],g=h.when(e);for(s(t,function(a){(a.request||a.requestError)&&f.unshift(a.request,a.requestError);(a.response||a.responseError)&&f.push(a.response,a.responseError)});f.length;){a=f.shift();var l=f.shift(),g=g.then(a,l)}g.success=function(a){g.then(function(b){a(b.data,b.status,b.headers,e)});return g};g.error=function(a){g.then(null,function(b){a(b.data,b.status,b.headers,e)});return g};return g}function m(c,f){function l(b,c,d,e){function f(){n(c,b,d,e)}N&&(200<=b&&300>b?N.put(I,[b,c,Xc(d),e]):N.remove(I));a?g.$applyAsync(f):(f(),g.$$phase||g.$apply())}function n(a,b,d,e){b=Math.max(b,0);(200<=b&&300>b?v.resolve:v.reject)({data:a,status:b,headers:Yc(d),config:c,statusText:e})}function m(a){n(a.data,a.status,qa(a.headers()),a.statusText)}function t(){var a=k.pendingRequests.indexOf(c);-1!==a&&k.pendingRequests.splice(a,1)}var v=h.defer(),A=v.promise,N,F,s=c.headers,I=p(c.url,c.params);k.pendingRequests.push(c);A.then(t,t);!c.cache&&!b.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(N=J(c.cache)?c.cache:J(b.cache)?b.cache:q);N&&(F=N.get(I),y(F)?F&&G(F.then)?F.then(m,m):E(F)?n(F[1],F[0],qa(F[2]),F[3]):n(F,200,{},"OK"):N.put(I,A));z(F)&&((F=$c(c.url)?e.cookies()[c.xsrfCookieName||b.xsrfCookieName]:u)&&(s[c.xsrfHeaderName||b.xsrfHeaderName]=F),d(c.method,I,f,l,s,c.timeout,c.withCredentials,c.responseType));return A}function p(a,b){if(!b)return a;var c=[];Ed(b,function(a,b){null===a||z(a)||(E(a)||(a=[a]),s(a,function(a){J(a)&&(a=pa(a)?a.toISOString():$a(a));c.push(Fa(b)+"="+Fa(a))}))});0<c.length&&(a+=(-1==a.indexOf("?")?"?":"&")+c.join("&"));return a}var q=f("$http"),t=[];s(c,function(a){t.unshift(x(a)?l.get(a):l.invoke(a))});k.pendingRequests=[];(function(a){s(arguments,function(a){k[a]=function(b,c){return k(w(c||{},{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){s(arguments,function(a){k[a]=function(b,c,d){return k(w(d||{},{method:a,url:b,data:c}))}})})("post","put","patch");k.defaults=b;return k}]}function uf(){return new P.XMLHttpRequest}function Le(){this.$get=["$browser","$window","$document",function(b,a,c){return vf(b,uf,b.defer,a.angular.callbacks,c[0])}]}function vf(b,a,c,d,e){function f(a,b,c){var f=e.createElement("script"),m=null;f.type="text/javascript";f.src=a;f.async=!0;m=function(a){f.removeEventListener("load",m,!1);f.removeEventListener("error",m,!1);e.body.removeChild(f);f=null;var g=-1,t="unknown";a&&("load"!==a.type||d[b].called||(a={type:"error"}),t=a.type,g="error"===a.type?404:200);c&&c(g,t)};f.addEventListener("load",m,!1);f.addEventListener("error",m,!1);e.body.appendChild(f);return m}return function(e,h,l,k,m,p,q,t){function r(){n&&n();D&&D.abort()}function S(a,d,e,f,g){v!==u&&c.cancel(v);n=D=null;a(d,e,f,g);b.$$completeOutstandingRequest(B)}b.$$incOutstandingRequestCount();h=h||b.url();if("jsonp"==R(e)){var K="_"+(d.counter++).toString(36);d[K]=function(a){d[K].data=a;d[K].called=!0};var n=f(h.replace("JSON_CALLBACK","angular.callbacks."+K),K,function(a,b){S(k,a,d[K].data,"",b);d[K]=B})}else{var D=a();D.open(e,h,!0);s(m,function(a,b){y(a)&&D.setRequestHeader(b,a)});D.onload=function(){var a=D.statusText||"",b="response"in D?D.response:D.responseText,c=1223===D.status?204:D.status;0===c&&(c=b?200:"file"==Ba(h).protocol?404:0);S(k,c,b,D.getAllResponseHeaders(),a)};e=function(){S(k,-1,null,null,"")};D.onerror=e;D.onabort=e;q&&(D.withCredentials=!0);if(t)try{D.responseType=t}catch(H){if("json"!==t)throw H;}D.send(l||null)}if(0<p)var v=c(r,p);else p&&G(p.then)&&p.then(r)}}function Ie(){var b="{{",a="}}";this.startSymbol=function(a){return a?(b=a,this):b};this.endSymbol=function(b){return b?(a=b,this):a};this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(f,g,t,r){function S(c){return c.replace(k,b).replace(m,a)}function K(a){try{var b=a;a=t?e.getTrusted(t,b):e.valueOf(b);var c;if(r&&!y(a))c=a;else if(null==a)c="";else{switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=$a(a)}c=a}return c}catch(g){c=ac("interr",f,g.toString()),d(c)}}r=!!r;for(var n,D,H=0,v=[],A=[],N=f.length,F=[],s=[];H<N;)if(-1!=(n=f.indexOf(b,H))&&-1!=(D=f.indexOf(a,n+h)))H!==n&&F.push(S(f.substring(H,n))),H=f.substring(n+h,D),v.push(H),A.push(c(H,K)),H=D+l,s.push(F.length),F.push("");else{H!==N&&F.push(S(f.substring(H)));break}if(t&&1<F.length)throw ac("noconcat",f);if(!g||v.length){var I=function(a){for(var b=0,c=v.length;b<c;b++){if(r&&z(a[b]))return;F[s[b]]=a[b]}return F.join("")};return w(function(a){var b=0,c=v.length,e=Array(c);try{for(;b<c;b++)e[b]=A[b](a);return I(e)}catch(g){a=ac("interr",f,g.toString()),d(a)}},{exp:f,expressions:v,$$watchDelegate:function(a,b,c){var d;return a.$watchGroup(A,function(c,e){var f=I(c);G(b)&&b.call(this,f,c!==e?d:f,a);d=f},c)}})}}var h=b.length,l=a.length,k=new RegExp(b.replace(/./g,f),"g"),m=new RegExp(a.replace(/./g,f),"g");g.startSymbol=function(){return b};g.endSymbol=function(){return a};return g}]}function Je(){this.$get=["$rootScope","$window","$q","$$q",function(b,a,c,d){function e(e,h,l,k){var m=a.setInterval,p=a.clearInterval,q=0,t=y(k)&&!k,r=(t?d:c).defer(),S=r.promise;l=y(l)?l:0;S.then(null,null,e);S.$$intervalId=m(function(){r.notify(q++);0<l&&q>=l&&(r.resolve(q),p(S.$$intervalId),delete f[S.$$intervalId]);t||b.$apply()},h);f[S.$$intervalId]=r;return S}var f={};e.cancel=function(b){return b&&b.$$intervalId in f?(f[b.$$intervalId].reject("canceled"),a.clearInterval(b.$$intervalId),delete f[b.$$intervalId],!0):!1};return e}]}
function Rd(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"\u00a4",posSuf:"",negPre:"(\u00a4",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(b){return 1===b?"one":"other"}}}}function bc(b){b=b.split("/");for(var a=b.length;a--;)b[a]=rb(b[a]);return b.join("/")}function ad(b,a){var c=Ba(b);a.$$protocol=c.protocol;a.$$host=c.hostname;a.$$port=$(c.port)||wf[c.protocol]||null}function bd(b,a){var c="/"!==b.charAt(0);c&&(b="/"+b);var d=Ba(b);a.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname);a.$$search=rc(d.search);a.$$hash=decodeURIComponent(d.hash);a.$$path&&"/"!=a.$$path.charAt(0)&&(a.$$path="/"+a.$$path)}function za(b,a){if(0===a.indexOf(b))return a.substr(b.length)}function Ha(b){var a=b.indexOf("#");return-1==a?b:b.substr(0,a)}function Gb(b){return b.replace(/(#.+)|#$/,"$1")}function cc(b){return b.substr(0,Ha(b).lastIndexOf("/")+1)}function dc(b,a){this.$$html5=!0;a=a||"";var c=cc(b);ad(b,this);this.$$parse=function(a){var b=za(c,a);if(!x(b))throw Hb("ipthprfx",a,c);bd(b,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var a=Qb(this.$$search),b=this.$$hash?"#"+rb(this.$$hash):"";this.$$url=bc(this.$$path)+(a?"?"+a:"")+b;this.$$absUrl=c+this.$$url.substr(1)};this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;(f=za(b,d))!==u?(g=f,g=(f=za(a,f))!==u?c+(za("/",f)||f):b+g):(f=za(c,d))!==u?g=c+f:c==d+"/"&&(g=c);g&&this.$$parse(g);return!!g}}function ec(b,a){var c=cc(b);ad(b,this);this.$$parse=function(d){d=za(b,d)||za(c,d);var e;"#"===d.charAt(0)?(e=za(a,d),z(e)&&(e=d)):e=this.$$html5?d:"";bd(e,this);d=this.$$path;var f=/^\/[A-Z]:(\/.*)/;0===e.indexOf(b)&&(e=e.replace(b,""));f.exec(e)||(d=(e=f.exec(d))?e[1]:d);this.$$path=d;this.$$compose()};this.$$compose=function(){var c=Qb(this.$$search),e=this.$$hash?"#"+rb(this.$$hash):"";this.$$url=bc(this.$$path)+(c?"?"+c:"")+e;this.$$absUrl=b+(this.$$url?a+this.$$url:"")};this.$$parseLinkUrl=function(a,c){return Ha(b)==Ha(a)?(this.$$parse(a),!0):!1}}function cd(b,a){this.$$html5=!0;ec.apply(this,arguments);var c=cc(b);this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;b==Ha(d)?f=d:(g=za(c,d))?f=b+a+g:c===d+"/"&&(f=c);f&&this.$$parse(f);return!!f};this.$$compose=function(){var c=Qb(this.$$search),e=this.$$hash?"#"+rb(this.$$hash):"";this.$$url=bc(this.$$path)+(c?"?"+c:"")+e;this.$$absUrl=b+a+this.$$url}}function Ib(b){return function(){return this[b]}}function dd(b,a){return function(c){if(z(c))return this[b];this[b]=a(c);this.$$compose();return this}}function Me(){var b="",a={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(a){return y(a)?(b=a,this):b};this.html5Mode=function(b){return Wa(b)?(a.enabled=b,this):J(b)?(Wa(b.enabled)&&(a.enabled=b.enabled),Wa(b.requireBase)&&(a.requireBase=b.requireBase),Wa(b.rewriteLinks)&&(a.rewriteLinks=b.rewriteLinks),this):a};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=k.url(),f=k.$$state;try{d.url(a,b,c),k.$$state=d.state()}catch(g){throw k.url(e),k.$$state=f,g;}}function l(a,b){c.$broadcast("$locationChangeSuccess",k.absUrl(),a,k.$$state,b)}var k,m;m=d.baseHref();var p=d.url(),q;if(a.enabled){if(!m&&a.requireBase)throw Hb("nobase");q=p.substring(0,p.indexOf("/",p.indexOf("//")+2))+(m||"/");m=e.history?dc:cd}else q=Ha(p),m=ec;k=new m(q,"#"+b);k.$$parseLinkUrl(p,p);k.$$state=d.state();var t=/^\s*(javascript|mailto):/i;f.on("click",function(b){if(a.rewriteLinks&&!b.ctrlKey&&!b.metaKey&&!b.shiftKey&&2!=b.which&&2!=b.button){for(var e=C(b.target);"a"!==ta(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),l=e.attr("href")||e.attr("xlink:href");J(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=Ba(h.animVal).href);t.test(h)||!h||e.attr("target")||b.isDefaultPrevented()||!k.$$parseLinkUrl(h,l)||(b.preventDefault(),k.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}});Gb(k.absUrl())!=Gb(p)&&d.url(k.absUrl(),!0);var r=!0;d.onUrlChange(function(a,b){c.$evalAsync(function(){var d=k.absUrl(),e=k.$$state,f;k.$$parse(a);k.$$state=b;f=c.$broadcast("$locationChangeStart",a,d,b,e).defaultPrevented;k.absUrl()===a&&(f?(k.$$parse(d),k.$$state=e,h(d,!1,e)):(r=!1,l(d,e)))});c.$$phase||c.$digest()});c.$watch(function(){var a=Gb(d.url()),b=Gb(k.absUrl()),f=d.state(),g=k.$$replace,q=a!==b||k.$$html5&&e.history&&f!==k.$$state;if(r||q)r=!1,c.$evalAsync(function(){var b=k.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,k.$$state,f).defaultPrevented;k.absUrl()===b&&(d?(k.$$parse(a),k.$$state=f):(q&&h(b,g,f===k.$$state?null:k.$$state),l(a,f)))});k.$$replace=!1});return k}]}function Ne(){var b=!0,a=this;this.debugEnabled=function(a){return y(a)?(b=a,this):b};this.$get=["$window",function(c){function d(a){a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line));return a}function e(a){var b=c.console||{},e=b[a]||b.log||B;a=!1;try{a=!!e.apply}catch(l){}return a?function(){var a=[];s(arguments,function(b){a.push(d(b))});return e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){b&&c.apply(a,arguments)}}()}}]}function sa(b,a){if("__defineGetter__"===b||"__defineSetter__"===b||"__lookupGetter__"===b||"__lookupSetter__"===b||"__proto__"===b)throw ka("isecfld",a);return b}function la(b,a){if(b){if(b.constructor===b)throw ka("isecfn",a);if(b.window===b)throw ka("isecwindow",a);if(b.children&&(b.nodeName||b.prop&&b.attr&&b.find))throw ka("isecdom",a);if(b===Object)throw ka("isecobj",a);}return b}function fc(b){return b.constant}function hb(b,a,c,d,e){la(b,e);la(a,e);c=c.split(".");for(var f,g=0;1<c.length;g++){f=sa(c.shift(),e);var h=0===g&&a&&a[f]||b[f];h||(h={},b[f]=h);b=la(h,e)}f=sa(c.shift(),e);la(b[f],e);return b[f]=d}function Qa(b){return"constructor"==b}function ed(b,a,c,d,e,f,g){sa(b,f);sa(a,f);sa(c,f);sa(d,f);sa(e,f);var h=function(a){return la(a,f)},l=g||Qa(b)?h:oa,k=g||Qa(a)?h:oa,m=g||Qa(c)?h:oa,p=g||Qa(d)?h:oa,q=g||Qa(e)?h:oa;return function(f,g){var h=g&&g.hasOwnProperty(b)?g:f;if(null==h)return h;h=l(h[b]);if(!a)return h;if(null==h)return u;h=k(h[a]);if(!c)return h;if(null==h)return u;h=m(h[c]);if(!d)return h;if(null==h)return u;h=p(h[d]);return e?null==h?u:h=q(h[e]):h}}function xf(b,a){return function(c,d){return b(c,d,la,a)}}function yf(b,a,c){var d=a.expensiveChecks,e=d?zf:Af,f=e[b];if(f)return f;var g=b.split("."),h=g.length;if(a.csp)f=6>h?ed(g[0],g[1],g[2],g[3],g[4],c,d):function(a,b){var e=0,f;do f=ed(g[e++],g[e++],g[e++],g[e++],g[e++],c,d)(a,b),b=u,a=f;while(e<h);return f};else{var l="";d&&(l+="s = eso(s, fe);\nl = eso(l, fe);\n");var k=d;s(g,function(a,b){sa(a,c);var e=(b?"s":'((l&&l.hasOwnProperty("'+a+'"))?l:s)')+"."+a;if(d||Qa(a))e="eso("+e+", fe)",k=!0;l+="if(s == null) return undefined;\ns="+e+";\n"});l+="return s;";a=new Function("s","l","eso","fe",l);a.toString=da(l);k&&(a=xf(a,c));f=a}f.sharedGetter=!0;f.assign=function(a,c,d){return hb(a,d,b,c,b)};return e[b]=f}function gc(b){return G(b.valueOf)?b.valueOf():Bf.call(b)}function Oe(){var b=fa(),a=fa();this.$get=["$filter","$sniffer",function(c,d){function e(a){var b=a;a.sharedGetter&&(b=function(b,c){return a(b,c)},b.literal=a.literal,b.constant=a.constant,b.assign=a.assign);return b}function f(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.constant||(e.inputs?f(e.inputs,b):-1===b.indexOf(e)&&b.push(e))}return b}function g(a,b){return null==a||null==b?a===b:"object"===typeof a&&(a=gc(a),"object"===typeof a)?!1:a===b||a!==a&&b!==b}function h(a,b,c,d){var e=d.$$inputs||(d.$$inputs=f(d.inputs,[])),h;if(1===e.length){var l=g,e=e[0];return a.$watch(function(a){var b=e(a);g(b,l)||(h=d(a),l=b&&gc(b));return h},b,c)}for(var k=[],q=0,p=e.length;q<p;q++)k[q]=g;return a.$watch(function(a){for(var b=!1,c=0,f=e.length;c<f;c++){var l=e[c](a);if(b||(b=!g(l,k[c])))k[c]=l&&gc(l)}b&&(h=d(a));return h},b,c)}function l(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a;G(b)&&b.apply(this,arguments);y(a)&&d.$$postDigest(function(){y(f)&&e()})},c)}function k(a,b,c,d){function e(a){var b=!0;s(a,function(a){y(a)||(b=!1)});return b}var f,g;return f=a.$watch(function(a){return d(a)},function(a,c,d){g=a;G(b)&&b.call(this,a,c,d);e(a)&&d.$$postDigest(function(){e(g)&&f()})},c)}function m(a,b,c,d){var e;return e=a.$watch(function(a){return d(a)},function(a,c,d){G(b)&&b.apply(this,arguments);e()},c)}function p(a,b){if(!b)return a;var c=a.$$watchDelegate,c=c!==k&&c!==l?function(c,d){var e=a(c,d);return b(e,c,d)}:function(c,d){var e=a(c,d),f=b(e,c,d);return y(e)?f:e};a.$$watchDelegate&&a.$$watchDelegate!==h?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=h,c.inputs=[a]);return c}var q={csp:d.csp,expensiveChecks:!1},t={csp:d.csp,expensiveChecks:!0};return function(d,f,g){var n,D,H;switch(typeof d){case"string":H=d=d.trim();var v=g?a:b;n=v[H];n||(":"===d.charAt(0)&&":"===d.charAt(1)&&(D=!0,d=d.substring(2)),g=g?t:q,n=new hc(g),n=(new ib(n,c,g)).parse(d),n.constant?n.$$watchDelegate=m:D?(n=e(n),n.$$watchDelegate=n.literal?k:l):n.inputs&&(n.$$watchDelegate=h),v[H]=n);return p(n,f);case"function":return p(d,f);default:return p(B,f)}}}]}function Qe(){this.$get=["$rootScope","$exceptionHandler",function(b,a){return fd(function(a){b.$evalAsync(a)},a)}]}function Re(){this.$get=["$browser","$exceptionHandler",function(b,a){return fd(function(a){b.defer(a)},a)}]}function fd(b,a){function c(a,b,c){function d(b){return function(c){e||(e=!0,b.call(a,c))}}var e=!1;return[d(b),d(c)]}function d(){this.$$state={status:0}}function e(a,b){return function(c){b.call(a,c)}}function f(c){!c.processScheduled&&c.pending&&(c.processScheduled=!0,b(function(){var b,d,e;e=c.pending;c.processScheduled=!1;c.pending=u;for(var f=0,g=e.length;f<g;++f){d=e[f][0];b=e[f][c.status];try{G(b)?d.resolve(b(c.value)):1===c.status?d.resolve(c.value):d.reject(c.value)}catch(h){d.reject(h),a(h)}}}))}function g(){this.promise=new d;this.resolve=e(this,this.resolve);this.reject=e(this,this.reject);this.notify=e(this,this.notify)}var h=M("$q",TypeError);d.prototype={then:function(a,b,c){var d=new g;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([d,a,b,c]);0<this.$$state.status&&f(this.$$state);return d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return k(b,!0,a)},function(b){return k(b,!1,a)},b)}};g.prototype={resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(h("qcycle",a)):this.$$resolve(a))},$$resolve:function(b){var d,e;e=c(this,this.$$resolve,this.$$reject);try{if(J(b)||G(b))d=b&&b.then;G(d)?(this.promise.$$state.status=-1,d.call(b,e[0],e[1],this.notify)):(this.promise.$$state.value=b,this.promise.$$state.status=1,f(this.promise.$$state))}catch(g){e[1](g),a(g)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a;this.promise.$$state.status=2;f(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;0>=this.promise.$$state.status&&d&&d.length&&b(function(){for(var b,e,f=0,g=d.length;f<g;f++){e=d[f][0];b=d[f][3];try{e.notify(G(b)?b(c):c)}catch(h){a(h)}}})}};var l=function(a,b){var c=new g;b?c.resolve(a):c.reject(a);return c.promise},k=function(a,b,c){var d=null;try{G(c)&&(d=c())}catch(e){return l(e,!1)}return d&&G(d.then)?d.then(function(){return l(a,b)},function(a){return l(a,!1)}):l(a,b)},m=function(a,b,c,d){var e=new g;e.resolve(a);return e.promise.then(b,c,d)},p=function t(a){if(!G(a))throw h("norslvr",a);if(!(this instanceof t))return new t(a);var b=new g;a(function(a){b.resolve(a)},function(a){b.reject(a)});return b.promise};p.defer=function(){return new g};p.reject=function(a){var b=new g;b.reject(a);return b.promise};p.when=m;p.all=function(a){var b=new g,c=0,d=E(a)?[]:{};s(a,function(a,e){c++;m(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})});0===c&&b.resolve(d);return b.promise};return p}function $e(){this.$get=["$window","$timeout",function(b,a){var c=b.requestAnimationFrame||b.webkitRequestAnimationFrame,d=b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(b){var c=a(b,16.66,!1);return function(){a.cancel(c)}};f.supported=e;return f}]}function Pe(){var b=10,a=M("$rootScope"),c=null,d=null;this.digestTtl=function(a){arguments.length&&(b=a);return b};this.$get=["$injector","$exceptionHandler","$parse","$browser",function(e,f,g,h){function l(){this.$id=++ob;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$isolateBindings=null}function k(b){if(r.$$phase)throw a("inprog",r.$$phase);r.$$phase=b}function m(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function p(){}function q(){for(;n.length;)try{n.shift()()}catch(a){f(a)}d=null}function t(){null===d&&(d=h.defer(function(){r.$apply(q)}))}l.prototype={constructor:l,$new:function(a,b){function c(){d.$$destroyed=!0}var d;b=b||this;a?(d=new l,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$id=++ob;this.$$ChildScope=null},this.$$ChildScope.prototype=this),d=new this.$$ChildScope);d.$parent=b;d.$$prevSibling=b.$$childTail;b.$$childHead?(b.$$childTail.$$nextSibling=d,b.$$childTail=d):b.$$childHead=b.$$childTail=d;(a||b!=this)&&d.$on("$destroy",c);return d},$watch:function(a,b,d){var e=g(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,d,e);var f=this.$$watchers,h={fn:b,last:p,get:e,exp:a,eq:!!d};c=null;G(b)||(h.fn=B);f||(f=this.$$watchers=[]);f.unshift(h);return function(){Xa(f,h);c=null}},$watchGroup:function(a,b){function c(){h=!1;l?(l=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,l=!0;if(!a.length){var k=!0;g.$evalAsync(function(){k&&b(e,e,g)});return function(){k=!1}}if(1===a.length)return this.$watch(a[0],function(a,c,f){e[0]=a;d[0]=c;b(e,a===c?e:d,f)});s(a,function(a,b){var l=g.$watch(a,function(a,f){e[b]=a;d[b]=f;h||(h=!0,g.$evalAsync(c))});f.push(l)});return function(){for(;f.length;)f.shift()()}},$watchCollection:function(a,b){function c(a){e=a;var b,d,g,h;if(!z(e)){if(J(e))if(Ta(e))for(f!==q&&(f=q,t=f.length=0,k++),a=e.length,t!==a&&(k++,f.length=t=a),b=0;b<a;b++)h=f[b],g=e[b],d=h!==h&&g!==g,d||h===g||(k++,f[b]=g);else{f!==m&&(f=m={},t=0,k++);a=0;for(b in e)e.hasOwnProperty(b)&&(a++,g=e[b],h=f[b],b in f?(d=h!==h&&g!==g,d||h===g||(k++,f[b]=g)):(t++,f[b]=g,k++));if(t>a)for(b in k++,f)e.hasOwnProperty(b)||(t--,delete f[b])}else f!==e&&(f=e,k++);return k}}c.$stateful=!0;var d=this,e,f,h,l=1<b.length,k=0,p=g(a,c),q=[],m={},n=!0,t=0;return this.$watch(p,function(){n?(n=!1,b(e,e,d)):b(e,h,d);if(l)if(J(e))if(Ta(e)){h=Array(e.length);for(var a=0;a<e.length;a++)h[a]=e[a]}else for(a in h={},e)sc.call(e,a)&&(h[a]=e[a]);else h=e})},$digest:function(){var e,g,l,m,n,t,s=b,I,W=[],y,O;k("$digest");h.$$checkUrlChange();this===r&&null!==d&&(h.defer.cancel(d),q());c=null;do{t=!1;for(I=this;S.length;){try{O=S.shift(),O.scope.$eval(O.expression,O.locals)}catch(w){f(w)}c=null}a:do{if(m=I.$$watchers)for(n=m.length;n--;)try{if(e=m[n])if((g=e.get(I))!==(l=e.last)&&!(e.eq?ea(g,l):"number"===typeof g&&"number"===typeof l&&isNaN(g)&&isNaN(l)))t=!0,c=e,e.last=e.eq?Ea(g,null):g,e.fn(g,l===p?g:l,I),5>s&&(y=4-s,W[y]||(W[y]=[]),W[y].push({msg:G(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:g,oldVal:l}));else if(e===c){t=!1;break a}}catch(C){f(C)}if(!(m=I.$$childHead||I!==this&&I.$$nextSibling))for(;I!==this&&!(m=I.$$nextSibling);)I=I.$parent}while(I=m);if((t||S.length)&&!s--)throw r.$$phase=null,a("infdig",b,W);}while(t||S.length);for(r.$$phase=null;u.length;)try{u.shift()()}catch(B){f(B)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;if(this!==r){for(var b in this.$$listenerCount)m(this,this.$$listenerCount[b],b);a.$$childHead==this&&(a.$$childHead=this.$$nextSibling);a.$$childTail==this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=B;this.$on=this.$watch=this.$watchGroup=function(){return B};this.$$listeners={};this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a,b){r.$$phase||S.length||h.defer(function(){S.length&&r.$digest()});S.push({scope:this,expression:a,locals:b})},$$postDigest:function(a){u.push(a)},$apply:function(a){try{return k("$apply"),this.$eval(a)}catch(b){f(b)}finally{r.$$phase=null;try{r.$digest()}catch(c){throw f(c),c;}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&n.push(b);t()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,m(e,1,a))}},$emit:function(a,b){var c=[],d,e=this,g=!1,h={name:a,targetScope:e,stopPropagation:function(){g=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},l=Ya([h],arguments,1),k,m;do{d=e.$$listeners[a]||c;h.currentScope=e;k=0;for(m=d.length;k<m;k++)if(d[k])try{d[k].apply(null,l)}catch(p){f(p)}else d.splice(k,1),k--,m--;if(g)return h.currentScope=null,h;e=e.$parent}while(e);h.currentScope=null;return h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var g=Ya([e],arguments,1),h,l;c=d;){e.currentScope=c;d=c.$$listeners[a]||[];h=0;for(l=d.length;h<l;h++)if(d[h])try{d[h].apply(null,g)}catch(k){f(k)}else d.splice(h,1),h--,l--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}e.currentScope=null;return e}};var r=new l,S=r.$$asyncQueue=[],u=r.$$postDigestQueue=[],n=r.$$applyAsyncQueue=[];return r}]}function Sd(){var b=/^\s*(https?|ftp|mailto|tel|file):/,a=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(a){return y(a)?(b=a,this):b};this.imgSrcSanitizationWhitelist=function(b){return y(b)?(a=b,this):a};this.$get=function(){return function(c,d){var e=d?a:b,f;f=Ba(c).href;return""===f||f.match(e)?c:"unsafe:"+f}}}function Cf(b){if("self"===b)return b;if(x(b)){if(-1<b.indexOf("***"))throw Ca("iwcard",b);b=gd(b).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return new RegExp("^"+b+"$")}if(pb(b))return new RegExp("^"+b.source+"$");throw Ca("imatcher");}function hd(b){var a=[];y(b)&&s(b,function(b){a.push(Cf(b))});return a}function Te(){this.SCE_CONTEXTS=ma;var b=["self"],a=[];this.resourceUrlWhitelist=function(a){arguments.length&&(b=hd(a));return b};this.resourceUrlBlacklist=function(b){arguments.length&&(a=hd(b));return a};this.$get=["$injector",function(c){function d(a,b){return"self"===a?$c(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};a&&(b.prototype=new a);b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var f=function(a){throw Ca("unsafe");};c.has("$sanitize")&&(f=c.get("$sanitize"));var g=e(),h={};h[ma.HTML]=e(g);h[ma.CSS]=e(g);h[ma.URL]=e(g);h[ma.JS]=e(g);h[ma.RESOURCE_URL]=e(h[ma.URL]);return{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw Ca("icontext",a,b);if(null===b||b===u||""===b)return b;if("string"!==typeof b)throw Ca("itype",a);return new c(b)},getTrusted:function(c,e){if(null===e||e===u||""===e)return e;var g=h.hasOwnProperty(c)?h[c]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(c===ma.RESOURCE_URL){var g=Ba(e.toString()),p,q,t=!1;p=0;for(q=b.length;p<q;p++)if(d(b[p],g)){t=!0;break}if(t)for(p=0,q=a.length;p<q;p++)if(d(a[p],g)){t=!1;break}if(t)return e;throw Ca("insecurl",e.toString());}if(c===ma.HTML)return f(e);throw Ca("unsafe");},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function Se(){var b=!0;this.enabled=function(a){arguments.length&&(b=!!a);return b};this.$get=["$parse","$sceDelegate",function(a,c){if(b&&8>Ra)throw Ca("iequirks");var d=qa(ma);d.isEnabled=function(){return b};d.trustAs=c.trustAs;d.getTrusted=c.getTrusted;d.valueOf=c.valueOf;b||(d.trustAs=d.getTrusted=function(a,b){return b},d.valueOf=oa);d.parseAs=function(b,c){var e=a(c);return e.literal&&e.constant?e:a(c,function(a){return d.getTrusted(b,a)})};var e=d.parseAs,f=d.getTrusted,g=d.trustAs;s(ma,function(a,b){var c=R(b);d[db("parse_as_"+c)]=function(b){return e(a,b)};d[db("get_trusted_"+c)]=function(b){return f(a,b)};d[db("trust_as_"+c)]=function(b){return g(a,b)}});return d}]}function Ue(){this.$get=["$window","$document",function(b,a){var c={},d=$((/android (\d+)/.exec(R((b.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((b.navigator||{}).userAgent),f=a[0]||{},g,h=/^(Moz|webkit|ms)(?=[A-Z])/,l=f.body&&f.body.style,k=!1,m=!1;if(l){for(var p in l)if(k=h.exec(p)){g=k[0];g=g.substr(0,1).toUpperCase()+g.substr(1);break}g||(g="WebkitOpacity"in l&&"webkit");k=!!("transition"in l||g+"Transition"in l);m=!!("animation"in l||g+"Animation"in l);!d||k&&m||(k=x(f.body.style.webkitTransition),m=x(f.body.style.webkitAnimation))}return{history:!(!b.history||!b.history.pushState||4>d||e),hasEvent:function(a){if("input"===a&&11>=Ra)return!1;if(z(c[a])){var b=f.createElement("div");c[a]="on"+a in b}return c[a]},csp:bb(),vendorPrefix:g,transitions:k,animations:m,android:d}}]}function We(){this.$get=["$templateCache","$http","$q",function(b,a,c){function d(e,f){d.totalPendingRequests++;var g=a.defaults&&a.defaults.transformResponse;E(g)?g=g.filter(function(a){return a!==Zb}):g===Zb&&(g=null);return a.get(e,{cache:b,transformResponse:g}).finally(function(){d.totalPendingRequests--}).then(function(a){return a.data},function(a){if(!f)throw ia("tpload",e);return c.reject(a)})}d.totalPendingRequests=0;return d}]}function Xe(){this.$get=["$rootScope","$browser","$location",function(b,a,c){return{findBindings:function(a,b,c){a=a.getElementsByClassName("ng-binding");var g=[];s(a,function(a){var d=aa.element(a).data("$binding");d&&s(d,function(d){c?(new RegExp("(^|\\s)"+gd(b)+"(\\s|\\||$)")).test(d)&&g.push(a):-1!=d.indexOf(b)&&g.push(a)})});return g},findModels:function(a,b,c){for(var g=["ng-","data-ng-","ng\\:"],h=0;h<g.length;++h){var l=a.querySelectorAll("["+g[h]+"model"+(c?"=":"*=")+'"'+b+'"]');if(l.length)return l}},getLocation:function(){return c.url()},setLocation:function(a){a!==c.url()&&(c.url(a),b.$digest())},whenStable:function(b){a.notifyWhenNoOutstandingRequests(b)}}}]}function Ye(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(b,a,c,d,e){function f(f,l,k){var m=y(k)&&!k,p=(m?d:c).defer(),q=p.promise;l=a.defer(function(){try{p.resolve(f())}catch(a){p.reject(a),e(a)}finally{delete g[q.$$timeoutId]}m||b.$apply()},l);q.$$timeoutId=l;g[l]=p;return q}var g={};f.cancel=function(b){return b&&b.$$timeoutId in g?(g[b.$$timeoutId].reject("canceled"),delete g[b.$$timeoutId],a.defer.cancel(b.$$timeoutId)):!1};return f}]}function Ba(b){Ra&&(Y.setAttribute("href",b),b=Y.href);Y.setAttribute("href",b);return{href:Y.href,protocol:Y.protocol?Y.protocol.replace(/:$/,""):"",host:Y.host,search:Y.search?Y.search.replace(/^\?/,""):"",hash:Y.hash?Y.hash.replace(/^#/,""):"",hostname:Y.hostname,port:Y.port,pathname:"/"===Y.pathname.charAt(0)?Y.pathname:"/"+Y.pathname}}function $c(b){b=x(b)?Ba(b):b;return b.protocol===id.protocol&&b.host===id.host}function Ze(){this.$get=da(P)}function Ec(b){function a(c,d){if(J(c)){var e={};s(c,function(b,c){e[c]=a(c,b)});return e}return b.factory(c+"Filter",d)}this.register=a;this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}];a("currency",jd);a("date",kd);a("filter",Df);a("json",Ef);a("limitTo",Ff);a("lowercase",Gf);a("number",ld);a("orderBy",md);a("uppercase",Hf)}function Df(){return function(b,a,c){if(!E(b))return b;var d;switch(typeof a){case"function":break;case"boolean":case"number":case"string":d=!0;case"object":a=If(a,c,d);break;default:return b}return b.filter(a)}}function If(b,a,c){var d=J(b)&&"$"in
b;!0===a?a=ea:G(a)||(a=function(a,b){if(J(a)||J(b))return!1;a=R(""+a);b=R(""+b);return-1!==a.indexOf(b)});return function(e){return d&&!J(e)?Ia(e,b.$,a,!1):Ia(e,b,a,c)}}function Ia(b,a,c,d,e){var f=typeof b,g=typeof a;if("string"===g&&"!"===a.charAt(0))return!Ia(b,a.substring(1),c,d);if(E(b))return b.some(function(b){return Ia(b,a,c,d)});switch(f){case"object":var h;if(d){for(h in b)if("$"!==h.charAt(0)&&Ia(b[h],a,c,!0))return!0;return e?!1:Ia(b,a,c,!1)}if("object"===g){for(h in a)if(e=a[h],!G(e)&&(f="$"===h,!Ia(f?b:b[h],e,c,f,f)))return!1;return!0}return c(b,a);case"function":return!1;default:return c(b,a)}}function jd(b){var a=b.NUMBER_FORMATS;return function(b,d,e){z(d)&&(d=a.CURRENCY_SYM);z(e)&&(e=a.PATTERNS[1].maxFrac);return null==b?b:nd(b,a.PATTERNS[1],a.GROUP_SEP,a.DECIMAL_SEP,e).replace(/\u00A4/g,d)}}function ld(b){var a=b.NUMBER_FORMATS;return function(b,d){return null==b?b:nd(b,a.PATTERNS[0],a.GROUP_SEP,a.DECIMAL_SEP,d)}}function nd(b,a,c,d,e){if(!isFinite(b)||J(b))return"";var f=0>b;b=Math.abs(b);var g=b+"",h="",l=[],k=!1;if(-1!==g.indexOf("e")){var m=g.match(/([\d\.]+)e(-?)(\d+)/);m&&"-"==m[2]&&m[3]>e+1?b=0:(h=g,k=!0)}if(k)0<e&&1>b&&(h=b.toFixed(e),b=parseFloat(h));else{g=(g.split(od)[1]||"").length;z(e)&&(e=Math.min(Math.max(a.minFrac,g),a.maxFrac));b=+(Math.round(+(b.toString()+"e"+e)).toString()+"e"+ -e);var g=(""+b).split(od),k=g[0],g=g[1]||"",p=0,q=a.lgSize,t=a.gSize;if(k.length>=q+t)for(p=k.length-q,m=0;m<p;m++)0===(p-m)%t&&0!==m&&(h+=c),h+=k.charAt(m);for(m=p;m<k.length;m++)0===(k.length-m)%q&&0!==m&&(h+=c),h+=k.charAt(m);for(;g.length<e;)g+="0";e&&"0"!==e&&(h+=d+g.substr(0,e))}0===b&&(f=!1);l.push(f?a.negPre:a.posPre,h,f?a.negSuf:a.posSuf);return l.join("")}function Jb(b,a,c){var d="";0>b&&(d="-",b=-b);for(b=""+b;b.length<a;)b="0"+b;c&&(b=b.substr(b.length-a));return d+b}function Z(b,a,c,d){c=c||0;return function(e){e=e["get"+b]();if(0<c||e>-c)e+=c;0===e&&-12==c&&(e=12);return Jb(e,a,d)}}function Kb(b,a){return function(c,d){var e=c["get"+b](),f=vb(a?"SHORT"+b:b);return d[f][e]}}
function pd(b){var a=(new Date(b,0,1)).getDay();return new Date(b,0,(4>=a?5:12)-a)}function qd(b){return function(a){var c=pd(a.getFullYear());a=+new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))- +c;a=1+Math.round(a / 6048E5);return Jb(a,b)}}function kd(b){function a(a){var b;if(b=a.match(c)){a=new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,l=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=$(b[9]+b[10]),g=$(b[9]+b[11]));h.call(a,$(b[1]),$(b[2])-1,$(b[3]));f=$(b[4]||0)-f;g=$(b[5]||0)-g;h=$(b[6]||0);b=Math.round(1E3*parseFloat("0."+(b[7]||0)));l.call(a,f,g,h,b)}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,e,f){var g="",h=[],l,k;e=e||"mediumDate";e=b.DATETIME_FORMATS[e]||e;x(c)&&(c=Jf.test(c)?$(c):a(c));V(c)&&(c=new Date(c));if(!pa(c))return c;for(;e;)(k=Kf.exec(e))?(h=Ya(h,k,1),e=h.pop()):(h.push(e),e=null);f&&"UTC"===f&&(c=new Date(c.getTime()),c.setMinutes(c.getMinutes()+c.getTimezoneOffset()));s(h,function(a){l=Lf[a];g+=l?l(c,b.DATETIME_FORMATS):a.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return g}}function Ef(){return function(b,a){z(a)&&(a=2);return $a(b,a)}}function Ff(){return function(b,a){V(b)&&(b=b.toString());return E(b)||x(b)?(a=Infinity===Math.abs(Number(a))?Number(a):$(a))?0<a?b.slice(0,a):b.slice(a):x(b)?"":[]:b}}function md(b){return function(a,c,d){function e(a,b){return b?function(b,c){return a(c,b)}:a}function f(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function g(a){return null===a?"null":"function"===typeof a.valueOf&&(a=a.valueOf(),f(a))||"function"===typeof a.toString&&(a=a.toString(),f(a))?a:""}function h(a,b){var c=typeof a,d=typeof b;c===d&&"object"===c&&(a=g(a),b=g(b));return c===d?("string"===c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:a<b?-1:1):c<d?-1:1}if(!Ta(a))return a;c=E(c)?c:[c];0===c.length&&(c=["+"]);c=c.map(function(a){var c=!1,d=a||oa;if(x(a)){if("+"==a.charAt(0)||"-"==a.charAt(0))c="-"==a.charAt(0),a=a.substring(1);if(""===a)return e(h,c);d=b(a);if(d.constant){var f=d();return e(function(a,b){return h(a[f],b[f])},c)}}return e(function(a,b){return h(d(a),d(b))},c)});return Za.call(a).sort(e(function(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0},d))}}function Ja(b){G(b)&&(b={link:b});b.restrict=b.restrict||"AC";return da(b)}function rd(b,a,c,d,e){var f=this,g=[],h=f.$$parentForm=b.parent().controller("form")||Lb;f.$error={};f.$$success={};f.$pending=u;f.$name=e(a.name||a.ngForm||"")(c);f.$dirty=!1;f.$pristine=!0;f.$valid=!0;f.$invalid=!1;f.$submitted=!1;h.$addControl(f);f.$rollbackViewValue=function(){s(g,function(a){a.$rollbackViewValue()})};f.$commitViewValue=function(){s(g,function(a){a.$commitViewValue()})};f.$addControl=function(a){Ma(a.$name,"input");g.push(a);a.$name&&(f[a.$name]=a)};f.$$renameControl=function(a,b){var c=a.$name;f[c]===a&&delete f[c];f[b]=a;a.$name=b};f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name];s(f.$pending,function(b,c){f.$setValidity(c,null,a)});s(f.$error,function(b,c){f.$setValidity(c,null,a)});s(f.$$success,function(b,c){f.$setValidity(c,null,a)});Xa(g,a)};sd({ctrl:this,$element:b,set:function(a,b,c){var d=a[b];d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(Xa(d,c),0===d.length&&delete a[b])},parentForm:h,$animate:d});f.$setDirty=function(){d.removeClass(b,Sa);d.addClass(b,Mb);f.$dirty=!0;f.$pristine=!1;h.$setDirty()};f.$setPristine=function(){d.setClass(b,Sa,Mb+" ng-submitted");f.$dirty=!1;f.$pristine=!0;f.$submitted=!1;s(g,function(a){a.$setPristine()})};f.$setUntouched=function(){s(g,function(a){a.$setUntouched()})};f.$setSubmitted=function(){d.addClass(b,"ng-submitted");f.$submitted=!0;h.$setSubmitted()}}function ic(b){b.$formatters.push(function(a){return b.$isEmpty(a)?a:a.toString()})}function jb(b,a,c,d,e,f){var g=R(a[0].type);if(!e.android){var h=!1;a.on("compositionstart",function(a){h=!0});a.on("compositionend",function(){h=!1;l()})}var l=function(b){k&&(f.defer.cancel(k),k=null);if(!h){var e=a.val();b=b&&b.type;"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=T(e));(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,b)}};if(e.hasEvent("input"))a.on("input",l);else{var k,m=function(a,b,c){k||(k=f.defer(function(){k=null;b&&b.value===c||l(a)}))};a.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||m(a,this,this.value)});if(e.hasEvent("paste"))a.on("paste cut",m)}a.on("change",l);d.$render=function(){a.val(d.$isEmpty(d.$viewValue)?"":d.$viewValue)}}
function Nb(b,a){return function(c,d){var e,f;if(pa(c))return c;if(x(c)){'"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1));if(Mf.test(c))return new Date(c);b.lastIndex=0;if(e=b.exec(c))return e.shift(),f=d?{yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/ 1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},s(e,function(b,c){c<a.length&&(f[a[c]]=+b)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1E3*f.sss||0)}return NaN}}function kb(b,a,c,d){return function(e,f,g,h,l,k,m){function p(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function q(a){return y(a)?pa(a)?a:c(a):u}td(e,f,g,h);jb(e,f,g,h,l,k);var t=h&&h.$options&&h.$options.timezone,r;h.$$parserName=b;h.$parsers.push(function(b){return h.$isEmpty(b)?null:a.test(b)?(b=c(b,r),"UTC"===t&&b.setMinutes(b.getMinutes()-b.getTimezoneOffset()),b):u});h.$formatters.push(function(a){if(a&&!pa(a))throw Ob("datefmt",a);if(p(a)){if((r=a)&&"UTC"===t){var b=6E4*r.getTimezoneOffset();r=new Date(r.getTime()+b)}return m("date")(a,d,t)}r=null;return""});if(y(g.min)||g.ngMin){var s;h.$validators.min=function(a){return!p(a)||z(s)||c(a)>=s};g.$observe("min",function(a){s=q(a);h.$validate()})}if(y(g.max)||g.ngMax){var K;h.$validators.max=function(a){return!p(a)||z(K)||c(a)<=K};g.$observe("max",function(a){K=q(a);h.$validate()})}}}function td(b,a,c,d){(d.$$hasNativeValidators=J(a[0].validity))&&d.$parsers.push(function(b){var c=a.prop("validity")||{};return c.badInput&&!c.typeMismatch?u:b})}function ud(b,a,c,d,e){if(y(d)){b=b(d);if(!b.constant)throw M("ngModel")("constexpr",c,d);return b(a)}return e}function jc(b,a){b="ngClass"+b;return["$animate",function(c){function d(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],m=0;m<b.length;m++)if(e==b[m])continue a;c.push(e)}return c}function e(a){if(!E(a)){if(x(a))return a.split(" ");if(J(a)){var b=[];s(a,function(a,c){a&&(b=b.concat(c.split(" ")))});return b}}return a}return{restrict:"AC",link:function(f,g,h){function l(a,b){var c=g.data("$classCounts")||{},d=[];s(a,function(a){if(0<b||c[a])c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a)});g.data("$classCounts",c);return d.join(" ")}function k(b){if(!0===a||f.$index%2===a){var k=e(b||[]);if(!m){var t=l(k,1);h.$addClass(t)}else if(!ea(b,m)){var r=e(m),t=d(k,r),k=d(r,k),t=l(t,1),k=l(k,-1);t&&t.length&&c.addClass(g,t);k&&k.length&&c.removeClass(g,k)}}m=qa(b)}var m;f.$watch(h[b],k,!0);h.$observe("class",function(a){k(f.$eval(h[b]))});"ngClass"!==b&&f.$watch("$index",function(c,d){var g=c&1;if(g!==(d&1)){var k=e(f.$eval(h[b]));g===a?(g=l(k,1),h.$addClass(g)):(g=l(k,-1),h.$removeClass(g))}})}}}]}function sd(b){function a(a,b){b&&!f[a]?(k.addClass(e,a),f[a]=!0):!b&&f[a]&&(k.removeClass(e,a),f[a]=!1)}function c(b,c){b=b?"-"+uc(b,"-"):"";a(lb+b,!0===c);a(vd+b,!1===c)}var d=b.ctrl,e=b.$element,f={},g=b.set,h=b.unset,l=b.parentForm,k=b.$animate;f[vd]=!(f[lb]=e.hasClass(lb));d.$setValidity=function(b,e,f){e===u?(d.$pending||(d.$pending={}),g(d.$pending,b,f)):(d.$pending&&h(d.$pending,b,f),wd(d.$pending)&&(d.$pending=u));Wa(e)?e?(h(d.$error,b,f),g(d.$$success,b,f)):(g(d.$error,b,f),h(d.$$success,b,f)):(h(d.$error,b,f),h(d.$$success,b,f));d.$pending?(a(xd,!0),d.$valid=d.$invalid=u,c("",null)):(a(xd,!1),d.$valid=wd(d.$error),d.$invalid=!d.$valid,c("",d.$valid));e=d.$pending&&d.$pending[b]?u:d.$error[b]?!1:d.$$success[b]?!0:null;c(b,e);l.$setValidity(b,e,d)}}function wd(b){if(b)for(var a in b)return!1;return!0}var Nf=/^\/(.+)\/([a-z]*)$/,R=function(b){return x(b)?b.toLowerCase():b},sc=Object.prototype.hasOwnProperty,vb=function(b){return x(b)?b.toUpperCase():b},Ra,C,ra,Za=[].slice,pf=[].splice,Of=[].push,Da=Object.prototype.toString,Ka=M("ng"),aa=P.angular||(P.angular={}),cb,ob=0;Ra=X.documentMode;B.$inject=[];oa.$inject=[];var E=Array.isArray,T=function(b){return x(b)?b.trim():b},gd=function(b){return b.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},bb=function(){if(y(bb.isActive_))return bb.isActive_;var b=!(!X.querySelector("[ng-csp]")&&!X.querySelector("[data-ng-csp]"));if(!b)try{new Function("")}catch(a){b=!0}return bb.isActive_=b},sb=["ng-","data-ng-","ng:","x-ng-"],Md=/[A-Z]/g,vc=!1,Rb,na=1,qb=3,Qd={full:"1.3.14",major:1,minor:3,dot:14,codeName:"instantaneous-browserification"};Q.expando="ng339";var Ab=Q.cache={},hf=1;Q._data=function(b){return this.cache[b[this.expando]]||{}};var cf=/([\:\-\_]+(.))/g,df=/^moz([A-Z])/,Pf={mouseleave:"mouseout",mouseenter:"mouseover"},Ub=M("jqLite"),gf=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Tb=/<|&#?\w+;/,ef=/<([\w:]+)/,ff=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ga={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ga.optgroup=ga.option;ga.tbody=ga.tfoot=ga.colgroup=ga.caption=ga.thead;ga.th=ga.td;var La=Q.prototype={ready:function(b){function a(){c||(c=!0,b())}var c=!1;"complete"===X.readyState?setTimeout(a):(this.on("DOMContentLoaded",a),Q(P).on("load",a))},toString:function(){var b=[];s(this,function(a){b.push(""+a)});return"["+b.join(", ")+"]"},eq:function(b){return 0<=b?C(this[b]):C(this[this.length+b])},length:0,push:Of,sort:[].sort,splice:[].splice},Fb={};s("multiple selected checked disabled readOnly required open".split(" "),function(b){Fb[R(b)]=b});var Nc={};s("input select option textarea button form details".split(" "),function(b){Nc[b]=!0});var Oc={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};s({data:Wb,removeData:yb},function(b,a){Q[a]=b});s({data:Wb,inheritedData:Eb,scope:function(b){return C.data(b,"$scope")||Eb(b.parentNode||b,["$isolateScope","$scope"])},isolateScope:function(b){return C.data(b,"$isolateScope")||C.data(b,"$isolateScopeNoTemplate")},controller:Jc,injector:function(b){return Eb(b,"$injector")},removeAttr:function(b,a){b.removeAttribute(a)},hasClass:Bb,css:function(b,a,c){a=db(a);if(y(c))b.style[a]=c;else return b.style[a]},attr:function(b,a,c){var d=R(a);if(Fb[d])if(y(c))c?(b[a]=!0,b.setAttribute(a,d)):(b[a]=!1,b.removeAttribute(d));else return b[a]||(b.attributes.getNamedItem(a)||B).specified?d:u;else if(y(c))b.setAttribute(a,c);else if(b.getAttribute)return b=b.getAttribute(a,2),null===b?u:b},prop:function(b,a,c){if(y(c))b[a]=c;else return b[a]},text:function(){function b(a,b){if(z(b)){var d=a.nodeType;return d===na||d===qb?a.textContent:""}a.textContent=b}b.$dv="";return b}(),val:function(b,a){if(z(a)){if(b.multiple&&"select"===ta(b)){var c=[];s(b.options,function(a){a.selected&&c.push(a.value||a.text)});return 0===c.length?null:c}return b.value}b.value=a},html:function(b,a){if(z(a))return b.innerHTML;xb(b,!0);b.innerHTML=a},empty:Kc},function(b,a){Q.prototype[a]=function(a,d){var e,f,g=this.length;if(b!==Kc&&(2==b.length&&b!==Bb&&b!==Jc?a:d)===u){if(J(a)){for(e=0;e<g;e++)if(b===Wb)b(this[e],a);else for(f in a)b(this[e],f,a[f]);return this}e=b.$dv;g=e===u?Math.min(g,1):g;for(f=0;f<g;f++){var h=b(this[f],a,d);e=e?e+h:h}return e}for(e=0;e<g;e++)b(this[e],a,d);return this}});s({removeData:yb,on:function a(c,d,e,f){if(y(f))throw Ub("onargs");if(Fc(c)){var g=zb(c,!0);f=g.events;var h=g.handle;h||(h=g.handle=lf(c,f));for(var g=0<=d.indexOf(" ")?d.split(" "):[d],l=g.length;l--;){d=g[l];var k=f[d];k||(f[d]=[],"mouseenter"===d||"mouseleave"===d?a(c,Pf[d],function(a){var c=a.relatedTarget;c&&(c===this||this.contains(c))||h(a,d)}):"$destroy"!==d&&c.addEventListener(d,h,!1),k=f[d]);k.push(e)}}},off:Ic,one:function(a,c,d){a=C(a);a.on(c,function f(){a.off(c,d);a.off(c,f)});a.on(c,d)},replaceWith:function(a,c){var d,e=a.parentNode;xb(a);s(new Q(c),function(c){d?e.insertBefore(c,d.nextSibling):e.replaceChild(c,a);d=c})},children:function(a){var c=[];s(a.childNodes,function(a){a.nodeType===na&&c.push(a)});return c},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,c){var d=a.nodeType;if(d===na||11===d){c=new Q(c);for(var d=0,e=c.length;d<e;d++)a.appendChild(c[d])}},prepend:function(a,c){if(a.nodeType===na){var d=a.firstChild;s(new Q(c),function(c){a.insertBefore(c,d)})}},wrap:function(a,c){c=C(c).eq(0).clone()[0];var d=a.parentNode;d&&d.replaceChild(c,a);c.appendChild(a)},remove:Lc,detach:function(a){Lc(a,!0)},after:function(a,c){var d=a,e=a.parentNode;c=new Q(c);for(var f=0,g=c.length;f<g;f++){var h=c[f];e.insertBefore(h,d.nextSibling);d=h}},addClass:Db,removeClass:Cb,toggleClass:function(a,c,d){c&&s(c.split(" "),function(c){var f=d;z(f)&&(f=!Bb(a,c));(f?Db:Cb)(a,c)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,c){return a.getElementsByTagName?a.getElementsByTagName(c):[]},clone:Vb,triggerHandler:function(a,c,d){var e,f,g=c.type||c,h=zb(a);if(h=(h=h&&h.events)&&h[g])e={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:B,type:g,target:a},c.type&&(e=w(e,c)),c=qa(h),f=d?[e].concat(d):[e],s(c,function(c){e.isImmediatePropagationStopped()||c.apply(a,f)})}},function(a,c){Q.prototype[c]=function(c,e,f){for(var g,h=0,l=this.length;h<l;h++)z(g)?(g=a(this[h],c,e,f),y(g)&&(g=C(g))):Hc(g,a(this[h],c,e,f));return y(g)?g:this};Q.prototype.bind=Q.prototype.on;Q.prototype.unbind=Q.prototype.off});eb.prototype={put:function(a,c){this[Na(a,this.nextUid)]=c},get:function(a){return this[Na(a,this.nextUid)]},remove:function(a){var c=this[a=Na(a,this.nextUid)];delete this[a];return c}};var Qc=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Qf=/,/,Rf=/^\s*(_?)(\S+?)\1\s*$/,Pc=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Ga=M("$injector");ab.$$annotate=function(a,c,d){var e;if("function"===typeof a){if(!(e=a.$inject)){e=[];if(a.length){if(c)throw x(d)&&d||(d=a.name||mf(a)),Ga("strictdi",d);c=a.toString().replace(Pc,"");c=c.match(Qc);s(c[1].split(Qf),function(a){a.replace(Rf,function(a,c,d){e.push(d)})})}a.$inject=e}}else E(a)?(c=a.length-1,tb(a[c],"fn"),e=a.slice(0,c)):tb(a,"fn",!0);return e};var Sf=M("$animate"),Ce=["$provide",function(a){this.$$selectors={};this.register=function(c,d){var e=c+"-animation";if(c&&"."!=c.charAt(0))throw Sf("notcsel",c);this.$$selectors[c.substr(1)]=e;a.factory(e,d)};this.classNameFilter=function(a){1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null);return this.$$classNameFilter};this.$get=["$$q","$$asyncCallback","$rootScope",function(a,d,e){function f(d){var f,g=a.defer();g.promise.$$cancelFn=function(){f&&f()};e.$$postDigest(function(){f=d(function(){g.resolve()})});return g.promise}function g(a,c){var d=[],e=[],f=fa();s((a.attr("class")||"").split(/\s+/),function(a){f[a]=!0});s(c,function(a,c){var g=f[c];!1===a&&g?e.push(c):!0!==a||g||d.push(c)});return 0<d.length+e.length&&[d.length?d:null,e.length?e:null]}function h(a,c,d){for(var e=0,f=c.length;e<f;++e)a[c[e]]=d}function l(){m||(m=a.defer(),d(function(){m.resolve();m=null}));return m.promise}function k(a,c){if(aa.isObject(c)){var d=w(c.from||{},c.to||{});a.css(d)}}var m;return{animate:function(a,c,d){k(a,{from:c,to:d});return l()},enter:function(a,c,d,e){k(a,e);d?d.after(a):c.prepend(a);return l()},leave:function(a,c){a.remove();return l()},move:function(a,c,d,e){return this.enter(a,c,d,e)},addClass:function(a,c,d){return this.setClass(a,c,[],d)},$$addClassImmediately:function(a,c,d){a=C(a);c=x(c)?c:E(c)?c.join(" "):"";s(a,function(a){Db(a,c)});k(a,d);return l()},removeClass:function(a,c,d){return this.setClass(a,[],c,d)},$$removeClassImmediately:function(a,c,d){a=C(a);c=x(c)?c:E(c)?c.join(" "):"";s(a,function(a){Cb(a,c)});k(a,d);return l()},setClass:function(a,c,d,e){var k=this,l=!1;a=C(a);var m=a.data("$$animateClasses");m?e&&m.options&&(m.options=aa.extend(m.options||{},e)):(m={classes:{},options:e},l=!0);e=m.classes;c=E(c)?c:c.split(" ");d=E(d)?d:d.split(" ");h(e,c,!0);h(e,d,!1);l&&(m.promise=f(function(c){var d=a.data("$$animateClasses");a.removeData("$$animateClasses");if(d){var e=g(a,d.classes);e&&k.$$setClassImmediately(a,e[0],e[1],d.options)}c()}),a.data("$$animateClasses",m));return m.promise},$$setClassImmediately:function(a,c,d,e){c&&this.$$addClassImmediately(a,c);d&&this.$$removeClassImmediately(a,d);k(a,e);return l()},enabled:B,cancel:B}}]}],ia=M("$compile");xc.$inject=["$provide","$$sanitizeUriProvider"];var Sc=/^((?:x|data)[\:\-_])/i,qf=M("$controller"),Wc="application/json",$b={"Content-Type":Wc+";charset=utf-8"},sf=/^\[|^\{(?!\{)/,tf={"[":/]$/,"{":/}$/},rf=/^\)\]\}',?\n/,ac=M("$interpolate"),Tf=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,wf={http:80,https:443,ftp:21},Hb=M("$location"),Uf={$$html5:!1,$$replace:!1,absUrl:Ib("$$absUrl"),url:function(a){if(z(a))return this.$$url;var c=Tf.exec(a);(c[1]||""===a)&&this.path(decodeURIComponent(c[1]));(c[2]||c[1]||""===a)&&this.search(c[3]||"");this.hash(c[5]||"");return this},protocol:Ib("$$protocol"),host:Ib("$$host"),port:Ib("$$port"),path:dd("$$path",function(a){a=null!==a?a.toString():"";return"/"==a.charAt(0)?a:"/"+a}),search:function(a,c){switch(arguments.length){case 0:return this.$$search;case 1:if(x(a)||V(a))a=a.toString(),this.$$search=rc(a);else if(J(a))a=Ea(a,{}),s(a,function(c,e){null==c&&delete a[e]}),this.$$search=a;else throw Hb("isrcharg");break;default:z(c)||null===c?delete this.$$search[a]:this.$$search[a]=c}this.$$compose();return this},hash:dd("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){this.$$replace=!0;return this}};s([cd,ec,dc],function(a){a.prototype=Object.create(Uf);a.prototype.state=function(c){if(!arguments.length)return this.$$state;if(a!==dc||!this.$$html5)throw Hb("nostate");this.$$state=z(c)?null:c;return this}});var ka=M("$parse"),Vf=Function.prototype.call,Wf=Function.prototype.apply,Xf=Function.prototype.bind,mb=fa();s({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(a,c){a.constant=a.literal=a.sharedGetter=!0;mb[c]=a});mb["this"]=function(a){return a};mb["this"].sharedGetter=!0;var nb=w(fa(),{"+":function(a,c,d,e){d=d(a,c);e=e(a,c);return y(d)?y(e)?d+e:d:y(e)?e:u},"-":function(a,c,d,e){d=d(a,c);e=e(a,c);return(y(d)?d:0)-(y(e)?e:0)},"*":function(a,c,d,e){return d(a,c)*e(a,c)},"/":function(a,c,d,e){return d(a,c)/ e(a,c)},"%":function(a,c,d,e){return d(a,c)%e(a,c)},"===":function(a,c,d,e){return d(a,c)===e(a,c)},"!==":function(a,c,d,e){return d(a,c)!==e(a,c)},"==":function(a,c,d,e){return d(a,c)==e(a,c)},"!=":function(a,c,d,e){return d(a,c)!=e(a,c)},"<":function(a,c,d,e){return d(a,c)<e(a,c)},">":function(a,c,d,e){return d(a,c)>e(a,c)},"<=":function(a,c,d,e){return d(a,c)<=e(a,c)},">=":function(a,c,d,e){return d(a,c)>=e(a,c)},"&&":function(a,c,d,e){return d(a,c)&&e(a,c)},"||":function(a,c,d,e){return d(a,c)||e(a,c)},"!":function(a,c,d){return!d(a,c)},"=":!0,"|":!0}),Yf={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},hc=function(a){this.options=a};hc.prototype={constructor:hc,lex:function(a){this.text=a;this.index=0;for(this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(a))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var c=a+this.peek(),d=c+this.peek(2),e=nb[c],f=nb[d];nb[a]||e||f?(a=f?d:e?c:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,c){return-1!==c.indexOf(a)},peek:function(a){a=a||1;return this.index+
a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return"0"<=a&&"9">=a&&"string"===typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||"\u00a0"===a},isIdent:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,c,d){d=d||this.index;c=y(c)?"s "+c+"-"+this.index+" ["+this.text.substring(c,d)+"]":" "+d;throw ka("lexerr",a,c,this.text);},readNumber:function(){for(var a="",c=this.index;this.index<this.text.length;){var d=R(this.text.charAt(this.index));if("."==d||this.isNumber(d))a+=d;else{var e=this.peek();if("e"==d&&this.isExpOperator(e))a+=d;else if(this.isExpOperator(d)&&e&&this.isNumber(e)&&"e"==a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||e&&this.isNumber(e)||"e"!=a.charAt(a.length-1))break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:c,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var c=this.text.charAt(this.index);if(!this.isIdent(c)&&!this.isNumber(c))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var c=this.index;this.index++;for(var d="",e=a,f=!1;this.index<this.text.length;){var g=this.text.charAt(this.index),e=e+g;if(f)"u"===g?(f=this.text.substring(this.index+1,this.index+5),f.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+f+"]"),this.index+=4,d+=String.fromCharCode(parseInt(f,16))):d+=Yf[g]||g,f=!1;else if("\\"===g)f=!0;else{if(g===a){this.index++;this.tokens.push({index:c,text:e,constant:!0,value:d});return}d+=g}this.index++}this.throwError("Unterminated quote",c)}};var ib=function(a,c,d){this.lexer=a;this.$filter=c;this.options=d};ib.ZERO=w(function(){return 0},{sharedGetter:!0,constant:!0});ib.prototype={constructor:ib,parse:function(a){this.text=a;this.tokens=this.lexer.lex(a);a=this.statements();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);a.literal=!!a.literal;a.constant=!!a.constant;return a},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.peek().identifier&&this.peek().text in mb?a=mb[this.consume().text]:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var c,d;c=this.expect("(","[",".");)"("===c.text?(a=this.functionCall(a,d),d=null):"["===c.text?(d=a,a=this.objectIndex(a)):"."===c.text?(d=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,c){throw ka("syntax",c.text,a,c.index+1,this.text,this.text.substring(c.index));},peekToken:function(){if(0===this.tokens.length)throw ka("ueoe",this.text);return this.tokens[0]},peek:function(a,c,d,e){return this.peekAhead(0,a,c,d,e)},peekAhead:function(a,c,d,e,f){if(this.tokens.length>a){a=this.tokens[a];var g=a.text;if(g===c||g===d||g===e||g===f||!(c||d||e||f))return a}return!1},expect:function(a,c,d,e){return(a=this.peek(a,c,d,e))?(this.tokens.shift(),a):!1},consume:function(a){if(0===this.tokens.length)throw ka("ueoe",this.text);var c=this.expect(a);c||this.throwError("is unexpected, expecting ["+a+"]",this.peek());return c},unaryFn:function(a,c){var d=nb[a];return w(function(a,f){return d(a,f,c)},{constant:c.constant,inputs:[c]})},binaryFn:function(a,c,d,e){var f=nb[c];return w(function(c,e){return f(c,e,a,d)},{constant:a.constant&&d.constant,inputs:!e&&[a,d]})},identifier:function(){for(var a=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)a+=this.consume().text+this.consume().text;return yf(a,this.options,this.text)},constant:function(){var a=this.consume().value;return w(function(){return a},{constant:!0,literal:!0})},statements:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(c,d){for(var e,f=0,g=a.length;f<g;f++)e=a[f](c,d);return e}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},filter:function(a){var c=this.$filter(this.consume().text),d,e;if(this.peek(":"))for(d=[],e=[];this.expect(":");)d.push(this.expression());var f=[a].concat(d||[]);return w(function(f,h){var l=a(f,h);if(e){e[0]=l;for(l=d.length;l--;)e[l+1]=d[l](f,h);return c.apply(u,e)}return c(l)},{constant:!c.$stateful&&f.every(fc),inputs:!c.$stateful&&f})},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary(),c,d;return(d=this.expect("="))?(a.assign||this.throwError("implies assignment but ["+this.text.substring(0,d.index)+"] can not be assigned to",d),c=this.ternary(),w(function(d,f){return a.assign(d,c(d,f),f)},{inputs:[a,c]})):a},ternary:function(){var a=this.logicalOR(),c;if(this.expect("?")&&(c=this.assignment(),this.consume(":"))){var d=this.assignment();return w(function(e,f){return a(e,f)?c(e,f):d(e,f)},{constant:a.constant&&c.constant&&d.constant})}return a},logicalOR:function(){for(var a=this.logicalAND(),c;c=this.expect("||");)a=this.binaryFn(a,c.text,this.logicalAND(),!0);return a},logicalAND:function(){for(var a=this.equality(),c;c=this.expect("&&");)a=this.binaryFn(a,c.text,this.equality(),!0);return a},equality:function(){for(var a=this.relational(),c;c=this.expect("==","!=","===","!==");)a=this.binaryFn(a,c.text,this.relational());return a},relational:function(){for(var a=this.additive(),c;c=this.expect("<",">","<=",">=");)a=this.binaryFn(a,c.text,this.additive());return a},additive:function(){for(var a=this.multiplicative(),c;c=this.expect("+","-");)a=this.binaryFn(a,c.text,this.multiplicative());return a},multiplicative:function(){for(var a=this.unary(),c;c=this.expect("*","/","%");)a=this.binaryFn(a,c.text,this.unary());return a},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(ib.ZERO,a.text,this.unary()):(a=this.expect("!"))?this.unaryFn(a.text,this.unary()):this.primary()},fieldAccess:function(a){var c=this.identifier();return w(function(d,e,f){d=f||a(d,e);return null==d?u:c(d)},{assign:function(d,e,f){var g=a(d,f);g||a.assign(d,g={},f);return c.assign(g,e)}})},objectIndex:function(a){var c=this.text,d=this.expression();this.consume("]");return w(function(e,f){var g=a(e,f),h=d(e,f);sa(h,c);return g?la(g[h],c):u},{assign:function(e,f,g){var h=sa(d(e,g),c),l=la(a(e,g),c);l||a.assign(e,l={},g);return l[h]=f}})},functionCall:function(a,c){var d=[];if(")"!==this.peekToken().text){do d.push(this.expression());while(this.expect(","))}this.consume(")");var e=this.text,f=d.length?[]:null;return function(g,h){var l=c?c(g,h):y(c)?u:g,k=a(g,h,l)||B;if(f)for(var m=d.length;m--;)f[m]=la(d[m](g,h),e);la(l,e);if(k){if(k.constructor===k)throw ka("isecfn",e);if(k===Vf||k===Wf||k===Xf)throw ka("isecff",e);}l=k.apply?k.apply(l,f):k(f[0],f[1],f[2],f[3],f[4]);f&&(f.length=0);return la(l,e)}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text){do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","))}this.consume("]");return w(function(c,d){for(var e=[],f=0,g=a.length;f<g;f++)e.push(a[f](c,d));return e},{literal:!0,constant:a.every(fc),inputs:a})},object:function(){var a=[],c=[];if("}"!==this.peekToken().text){do{if(this.peek("}"))break;var d=this.consume();d.constant?a.push(d.value):d.identifier?a.push(d.text):this.throwError("invalid key",d);this.consume(":");c.push(this.expression())}while(this.expect(","))}this.consume("}");return w(function(d,f){for(var g={},h=0,l=c.length;h<l;h++)g[a[h]]=c[h](d,f);return g},{literal:!0,constant:c.every(fc),inputs:c})}};var Af=fa(),zf=fa(),Bf=Object.prototype.valueOf,Ca=M("$sce"),ma={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},ia=M("$compile"),Y=X.createElement("a"),id=Ba(P.location.href);Ec.$inject=["$provide"];jd.$inject=["$locale"];ld.$inject=["$locale"];var od=".",Lf={yyyy:Z("FullYear",4),yy:Z("FullYear",2,0,!0),y:Z("FullYear",1),MMMM:Kb("Month"),MMM:Kb("Month",!0),MM:Z("Month",2,1),M:Z("Month",1,1),dd:Z("Date",2),d:Z("Date",1),HH:Z("Hours",2),H:Z("Hours",1),hh:Z("Hours",2,-12),h:Z("Hours",1,-12),mm:Z("Minutes",2),m:Z("Minutes",1),ss:Z("Seconds",2),s:Z("Seconds",1),sss:Z("Milliseconds",3),EEEE:Kb("Day"),EEE:Kb("Day",!0),a:function(a,c){return 12>a.getHours()?c.AMPMS[0]:c.AMPMS[1]},Z:function(a){a=-1*a.getTimezoneOffset();return a=(0<=a?"+":"")+(Jb(Math[0<a?"floor":"ceil"](a / 60),2)+Jb(Math.abs(a%60),2))},ww:qd(2),w:qd(1)},Kf=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,Jf=/^\-?\d+$/;kd.$inject=["$locale"];var Gf=da(R),Hf=da(vb);md.$inject=["$parse"];var Td=da({restrict:"E",compile:function(a,c){if(!c.href&&!c.xlinkHref&&!c.name)return function(a,c){if("a"===c[0].nodeName.toLowerCase()){var f="[object SVGAnimatedString]"===Da.call(c.prop("href"))?"xlink:href":"href";c.on("click",function(a){c.attr(f)||a.preventDefault()})}}}}),wb={};s(Fb,function(a,c){if("multiple"!=a){var d=ya("ng-"+c);wb[d]=function(){return{restrict:"A",priority:100,link:function(a,f,g){a.$watch(g[d],function(a){g.$set(c,!!a)})}}}}});s(Oc,function(a,c){wb[c]=function(){return{priority:100,link:function(a,e,f){if("ngPattern"===c&&"/"==f.ngPattern.charAt(0)&&(e=f.ngPattern.match(Nf))){f.$set("ngPattern",new RegExp(e[1],e[2]));return}a.$watch(f[c],function(a){f.$set(c,a)})}}}});s(["src","srcset","href"],function(a){var c=ya("ng-"+a);wb[c]=function(){return{priority:99,link:function(d,e,f){var g=a,h=a;"href"===a&&"[object SVGAnimatedString]"===Da.call(e.prop("href"))&&(h="xlinkHref",f.$attr[h]="xlink:href",g=null);f.$observe(c,function(c){c?(f.$set(h,c),Ra&&g&&e.prop(g,f[h])):"href"===a&&f.$set(h,null)})}}}});var Lb={$addControl:B,$$renameControl:function(a,c){a.$name=c},$removeControl:B,$setValidity:B,$setDirty:B,$setPristine:B,$setSubmitted:B};rd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var yd=function(a){return["$timeout",function(c){return{name:"form",restrict:a?"EAC":"E",controller:rd,compile:function(a){a.addClass(Sa).addClass(lb);return{pre:function(a,d,g,h){if(!("action"in g)){var l=function(c){a.$apply(function(){h.$commitViewValue();h.$setSubmitted()});c.preventDefault()};d[0].addEventListener("submit",l,!1);d.on("$destroy",function(){c(function(){d[0].removeEventListener("submit",l,!1)},0,!1)})}var k=h.$$parentForm,m=h.$name;m&&(hb(a,null,m,h,m),g.$observe(g.name?"name":"ngForm",function(c){m!==c&&(hb(a,null,m,u,m),m=c,hb(a,null,m,h,m),k.$$renameControl(h,m))}));d.on("$destroy",function(){k.$removeControl(h);m&&hb(a,null,m,u,m);w(h,Lb)})}}}}}]},Ud=yd(),ge=yd(!0),Mf=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Zf=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,$f=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,ag=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,zd=/^(\d{4})-(\d{2})-(\d{2})$/,Ad=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,kc=/^(\d{4})-W(\d\d)$/,Bd=/^(\d{4})-(\d\d)$/,Cd=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Dd={text:function(a,c,d,e,f,g){jb(a,c,d,e,f,g);ic(e)},date:kb("date",zd,Nb(zd,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":kb("datetimelocal",Ad,Nb(Ad,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:kb("time",Cd,Nb(Cd,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:kb("week",kc,function(a,c){if(pa(a))return a;if(x(a)){kc.lastIndex=0;var d=kc.exec(a);if(d){var e=+d[1],f=+d[2],g=d=0,h=0,l=0,k=pd(e),f=7*(f-1);c&&(d=c.getHours(),g=c.getMinutes(),h=c.getSeconds(),l=c.getMilliseconds());return new Date(e,0,k.getDate()+f,d,g,h,l)}}return NaN},"yyyy-Www"),month:kb("month",Bd,Nb(Bd,["yyyy","MM"]),"yyyy-MM"),number:function(a,c,d,e,f,g){td(a,c,d,e);jb(a,c,d,e,f,g);e.$$parserName="number";e.$parsers.push(function(a){return e.$isEmpty(a)?null:ag.test(a)?parseFloat(a):u});e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!V(a))throw Ob("numfmt",a);a=a.toString()}return a});if(y(d.min)||d.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||z(h)||a>=h};d.$observe("min",function(a){y(a)&&!V(a)&&(a=parseFloat(a,10));h=V(a)&&!isNaN(a)?a:u;e.$validate()})}if(y(d.max)||d.ngMax){var l;e.$validators.max=function(a){return e.$isEmpty(a)||z(l)||a<=l};d.$observe("max",function(a){y(a)&&!V(a)&&(a=parseFloat(a,10));l=V(a)&&!isNaN(a)?a:u;e.$validate()})}},url:function(a,c,d,e,f,g){jb(a,c,d,e,f,g);ic(e);e.$$parserName="url";e.$validators.url=function(a,c){var d=a||c;return e.$isEmpty(d)||Zf.test(d)}},email:function(a,c,d,e,f,g){jb(a,c,d,e,f,g);ic(e);e.$$parserName="email";e.$validators.email=function(a,c){var d=a||c;return e.$isEmpty(d)||$f.test(d)}},radio:function(a,c,d,e){z(d.name)&&c.attr("name",++ob);c.on("click",function(a){c[0].checked&&e.$setViewValue(d.value,a&&a.type)});e.$render=function(){c[0].checked=d.value==e.$viewValue};d.$observe("value",e.$render)},checkbox:function(a,c,d,e,f,g,h,l){var k=ud(l,a,"ngTrueValue",d.ngTrueValue,!0),m=ud(l,a,"ngFalseValue",d.ngFalseValue,!1);c.on("click",function(a){e.$setViewValue(c[0].checked,a&&a.type)});e.$render=function(){c[0].checked=e.$viewValue};e.$isEmpty=function(a){return!1===a};e.$formatters.push(function(a){return ea(a,k)});e.$parsers.push(function(a){return a?k:m})},hidden:B,button:B,submit:B,reset:B,file:B},yc=["$browser","$sniffer","$filter","$parse",function(a,c,d,e){return{restrict:"E",require:["?ngModel"],link:{pre:function(f,g,h,l){l[0]&&(Dd[R(h.type)]||Dd.text)(f,g,h,l[0],c,a,d,e)}}}}],bg=/^(true|false|\d+)$/,ye=function(){return{restrict:"A",priority:100,compile:function(a,c){return bg.test(c.ngValue)?function(a,c,f){f.$set("value",a.$eval(f.ngValue))}:function(a,c,f){a.$watch(f.ngValue,function(a){f.$set("value",a)})}}}},Zd=["$compile",function(a){return{restrict:"AC",compile:function(c){a.$$addBindingClass(c);return function(c,e,f){a.$$addBindingInfo(e,f.ngBind);e=e[0];c.$watch(f.ngBind,function(a){e.textContent=a===u?"":a})}}}}],ae=["$interpolate","$compile",function(a,c){return{compile:function(d){c.$$addBindingClass(d);return function(d,f,g){d=a(f.attr(g.$attr.ngBindTemplate));c.$$addBindingInfo(f,d.expressions);f=f[0];g.$observe("ngBindTemplate",function(a){f.textContent=a===u?"":a})}}}}],$d=["$sce","$parse","$compile",function(a,c,d){return{restrict:"A",compile:function(e,f){var g=c(f.ngBindHtml),h=c(f.ngBindHtml,function(a){return(a||"").toString()});d.$$addBindingClass(e);return function(c,e,f){d.$$addBindingInfo(e,f.ngBindHtml);c.$watch(h,function(){e.html(a.getTrustedHtml(g(c))||"")})}}}}],xe=da({restrict:"A",require:"ngModel",link:function(a,c,d,e){e.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),be=jc("",!0),de=jc("Odd",0),ce=jc("Even",1),ee=Ja({compile:function(a,c){c.$set("ngCloak",u);a.removeClass("ng-cloak")}}),fe=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Dc={},cg={blur:!0,focus:!0};s("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var c=ya("ng-"+a);Dc[c]=["$parse","$rootScope",function(d,e){return{restrict:"A",compile:function(f,g){var h=d(g[c],null,!0);return function(c,d){d.on(a,function(d){var f=function(){h(c,{$event:d})};cg[a]&&e.$$phase?c.$evalAsync(f):c.$apply(f)})}}}}]});var ie=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,l,k;c.$watch(e.ngIf,function(c){c?l||g(function(c,f){l=f;c[c.length++]=X.createComment(" end ngIf: "+e.ngIf+" ");h={clone:c};a.enter(c,d.parent(),d)}):(k&&(k.remove(),k=null),l&&(l.$destroy(),l=null),h&&(k=ub(h.clone),a.leave(k).then(function(){k=null}),h=null))})}}}],je=["$templateRequest","$anchorScroll","$animate","$sce",function(a,c,d,e){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:aa.noop,compile:function(f,g){var h=g.ngInclude||g.src,l=g.onload||"",k=g.autoscroll;return function(f,g,q,s,r){var u=0,w,n,D,H=function(){n&&(n.remove(),n=null);w&&(w.$destroy(),w=null);D&&(d.leave(D).then(function(){n=null}),n=D,D=null)};f.$watch(e.parseAsResourceUrl(h),function(e){var h=function(){!y(k)||k&&!f.$eval(k)||c()},n=++u;e?(a(e,!0).then(function(a){if(n===u){var c=f.$new();s.template=a;a=r(c,function(a){H();d.enter(a,null,g).then(h)});w=c;D=a;w.$emit("$includeContentLoaded",e);f.$eval(l)}},function(){n===u&&(H(),f.$emit("$includeContentError",e))}),f.$emit("$includeContentRequested",e)):(H(),s.template=null)})}}}}],Ae=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){/SVG/.test(d[0].toString())?(d.empty(),a(Gc(f.template,X).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),a(d.contents())(c))}}}],ke=Ja({priority:450,compile:function(){return{pre:function(a,c,d){a.$eval(d.ngInit)}}}}),we=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,c,d,e){var f=c.attr(d.$attr.ngList)||", ",g="false"!==d.ngTrim,h=g?T(f):f;e.$parsers.push(function(a){if(!z(a)){var c=[];a&&s(a.split(h),function(a){a&&c.push(g?T(a):a)});return c}});e.$formatters.push(function(a){return E(a)?a.join(f):u});e.$isEmpty=function(a){return!a||!a.length}}}},lb="ng-valid",vd="ng-invalid",Sa="ng-pristine",Mb="ng-dirty",xd="ng-pending",Ob=new M("ngModel"),dg=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,c,d,e,f,g,h,l,k,m){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=u;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=u;this.$name=m(d.name||"",!1)(a);var p=f(d.ngModel),q=p.assign,t=p,r=q,w=null,C,n=this;this.$$setOptions=function(a){if((n.$options=a)&&a.getterSetter){var c=f(d.ngModel+"()"),g=f(d.ngModel+"($$$p)");t=function(a){var d=p(a);G(d)&&(d=c(a));return d};r=function(a,c){G(p(a))?g(a,{$$$p:n.$modelValue}):q(a,n.$modelValue)}}else if(!p.assign)throw Ob("nonassign",d.ngModel,ua(e));};this.$render=B;this.$isEmpty=function(a){return z(a)||""===a||null===a||a!==a};var D=e.inheritedData("$formController")||Lb,H=0;sd({ctrl:this,$element:e,set:function(a,c){a[c]=!0},unset:function(a,c){delete a[c]},parentForm:D,$animate:g});this.$setPristine=function(){n.$dirty=!1;n.$pristine=!0;g.removeClass(e,Mb);g.addClass(e,Sa)};this.$setDirty=function(){n.$dirty=!0;n.$pristine=!1;g.removeClass(e,Sa);g.addClass(e,Mb);D.$setDirty()};this.$setUntouched=function(){n.$touched=!1;n.$untouched=!0;g.setClass(e,"ng-untouched","ng-touched")};this.$setTouched=function(){n.$touched=!0;n.$untouched=!1;g.setClass(e,"ng-touched","ng-untouched")};this.$rollbackViewValue=function(){h.cancel(w);n.$viewValue=n.$$lastCommittedViewValue;n.$render()};this.$validate=function(){if(!V(n.$modelValue)||!isNaN(n.$modelValue)){var a=n.$$rawModelValue,c=n.$valid,d=n.$modelValue,e=n.$options&&n.$options.allowInvalid;n.$$runValidators(a,n.$$lastCommittedViewValue,function(f){e||c===f||(n.$modelValue=f?a:u,n.$modelValue!==d&&n.$$writeModelToScope())})}};this.$$runValidators=function(a,c,d){function e(){var d=!0;s(n.$validators,function(e,f){var h=e(a,c);d=d&&h;g(f,h)});return d?!0:(s(n.$asyncValidators,function(a,c){g(c,null)}),!1)}function f(){var d=[],e=!0;s(n.$asyncValidators,function(f,h){var k=f(a,c);if(!k||!G(k.then))throw Ob("$asyncValidators",k);g(h,u);d.push(k.then(function(){g(h,!0)},function(a){e=!1;g(h,!1)}))});d.length?k.all(d).then(function(){h(e)},B):h(!0)}function g(a,c){l===H&&n.$setValidity(a,c)}function h(a){l===H&&d(a)}H++;var l=H;(function(){var a=n.$$parserName||"parse";if(C===u)g(a,null);else return C||(s(n.$validators,function(a,c){g(c,null)}),s(n.$asyncValidators,function(a,c){g(c,null)})),g(a,C),C;return!0})()?e()?f():h(!1):h(!1)};this.$commitViewValue=function(){var a=n.$viewValue;h.cancel(w);if(n.$$lastCommittedViewValue!==a||""===a&&n.$$hasNativeValidators)n.$$lastCommittedViewValue=a,n.$pristine&&this.$setDirty(),this.$$parseAndValidate()};this.$$parseAndValidate=function(){var c=n.$$lastCommittedViewValue;if(C=z(c)?u:!0)for(var d=0;d<n.$parsers.length;d++)if(c=n.$parsers[d](c),z(c)){C=!1;break}V(n.$modelValue)&&isNaN(n.$modelValue)&&(n.$modelValue=t(a));var e=n.$modelValue,f=n.$options&&n.$options.allowInvalid;n.$$rawModelValue=c;f&&(n.$modelValue=c,n.$modelValue!==e&&n.$$writeModelToScope());n.$$runValidators(c,n.$$lastCommittedViewValue,function(a){f||(n.$modelValue=a?c:u,n.$modelValue!==e&&n.$$writeModelToScope())})};this.$$writeModelToScope=function(){r(a,n.$modelValue);s(n.$viewChangeListeners,function(a){try{a()}catch(d){c(d)}})};this.$setViewValue=function(a,c){n.$viewValue=a;n.$options&&!n.$options.updateOnDefault||n.$$debounceViewValueCommit(c)};this.$$debounceViewValueCommit=function(c){var d=0,e=n.$options;e&&y(e.debounce)&&(e=e.debounce,V(e)?d=e:V(e[c])?d=e[c]:V(e["default"])&&(d=e["default"]));h.cancel(w);d?w=h(function(){n.$commitViewValue()},d):l.$$phase?n.$commitViewValue():a.$apply(function(){n.$commitViewValue()})};a.$watch(function(){var c=t(a);if(c!==n.$modelValue){n.$modelValue=n.$$rawModelValue=c;C=u;for(var d=n.$formatters,e=d.length,f=c;e--;)f=d[e](f);n.$viewValue!==f&&(n.$viewValue=n.$$lastCommittedViewValue=f,n.$render(),n.$$runValidators(c,f,B))}return c})}],ve=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:dg,priority:1,compile:function(c){c.addClass(Sa).addClass("ng-untouched").addClass(lb);return{pre:function(a,c,f,g){var h=g[0],l=g[1]||Lb;h.$$setOptions(g[2]&&g[2].$options);l.$addControl(h);f.$observe("name",function(a){h.$name!==a&&l.$$renameControl(h,a)});a.$on("$destroy",function(){l.$removeControl(h)})},post:function(c,e,f,g){var h=g[0];if(h.$options&&h.$options.updateOn)e.on(h.$options.updateOn,function(a){h.$$debounceViewValueCommit(a&&a.type)});e.on("blur",function(e){h.$touched||(a.$$phase?c.$evalAsync(h.$setTouched):c.$apply(h.$setTouched))})}}}}}],eg=/(\s+|^)default(\s+|$)/,ze=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,c){var d=this;this.$options=a.$eval(c.ngModelOptions);this.$options.updateOn!==u?(this.$options.updateOnDefault=!1,this.$options.updateOn=T(this.$options.updateOn.replace(eg,function(){d.$options.updateOnDefault=!0;return" "}))):this.$options.updateOnDefault=!0}]}},le=Ja({terminal:!0,priority:1E3}),me=["$locale","$interpolate",function(a,c){var d=/{}/g,e=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(f,g,h){function l(a){g.text(a||"")}var k=h.count,m=h.$attr.when&&g.attr(h.$attr.when),p=h.offset||0,q=f.$eval(m)||{},t={},m=c.startSymbol(),r=c.endSymbol(),u=m+k+"-"+p+r,w=aa.noop,n;s(h,function(a,c){var d=e.exec(c);d&&(d=(d[1]?"-":"")+R(d[2]),q[d]=g.attr(h.$attr[c]))});s(q,function(a,e){t[e]=c(a.replace(d,u))});f.$watch(k,function(c){c=parseFloat(c);var d=isNaN(c);d||c in q||(c=a.pluralCat(c-p));c===n||d&&isNaN(n)||(w(),w=f.$watch(t[c],l),n=c)})}}}],ne=["$parse","$animate",function(a,c){var d=M("ngRepeat"),e=function(a,c,d,e,k,m,p){a[d]=e;k&&(a[k]=m);a.$index=c;a.$first=0===c;a.$last=c===p-1;a.$middle=!(a.$first||a.$last);a.$odd=!(a.$even=0===(c&1))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1E3,terminal:!0,$$tlb:!0,compile:function(f,g){var h=g.ngRepeat,l=X.createComment(" end ngRepeat: "+
h+" "),k=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!k)throw d("iexp",h);var m=k[1],p=k[2],q=k[3],t=k[4],k=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!k)throw d("iidexp",m);var r=k[3]||k[1],w=k[2];if(q&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(q)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(q)))throw d("badident",q);var y,n,D,H,v={$id:Na};t?y=a(t):(D=function(a,c){return Na(c)},H=function(a){return a});return function(a,f,g,k,m){y&&(n=function(c,d,e){w&&(v[w]=c);v[r]=d;v.$index=e;return y(a,v)});var t=fa();a.$watchCollection(p,function(g){var k,p,y=f[0],F,v=fa(),B,z,G,E,J,x,K;q&&(a[q]=g);if(Ta(g))J=g,p=n||D;else{p=n||H;J=[];for(K in g)g.hasOwnProperty(K)&&"$"!=K.charAt(0)&&J.push(K);J.sort()}B=J.length;K=Array(B);for(k=0;k<B;k++)if(z=g===J?k:J[k],G=g[z],E=p(z,G,k),t[E])x=t[E],delete t[E],v[E]=x,K[k]=x;else{if(v[E])throw s(K,function(a){a&&a.scope&&(t[a.id]=a)}),d("dupes",h,E,G);K[k]={id:E,scope:u,clone:u};v[E]=!0}for(F in t){x=t[F];E=ub(x.clone);c.leave(E);if(E[0].parentNode)for(k=0,p=E.length;k<p;k++)E[k].$$NG_REMOVED=!0;x.scope.$destroy()}for(k=0;k<B;k++)if(z=g===J?k:J[k],G=g[z],x=K[k],x.scope){F=y;do F=F.nextSibling;while(F&&F.$$NG_REMOVED);x.clone[0]!=F&&c.move(ub(x.clone),null,C(y));y=x.clone[x.clone.length-1];e(x.scope,k,r,G,w,z,B)}else m(function(a,d){x.scope=d;var f=l.cloneNode(!1);a[a.length++]=f;c.enter(a,null,C(y));y=f;x.clone=a;v[x.id]=x;e(x.scope,k,r,G,w,z,B)});t=v})}}}}],oe=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(c,d,e){c.$watch(e.ngShow,function(c){a[c?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],he=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(c,d,e){c.$watch(e.ngHide,function(c){a[c?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],pe=Ja(function(a,c,d){a.$watchCollection(d.ngStyle,function(a,d){d&&a!==d&&s(d,function(a,d){c.css(d,"")});a&&c.css(a)})}),qe=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,f){var g=[],h=[],l=[],k=[],m=function(a,c){return function(){a.splice(c,1)}};c.$watch(e.ngSwitch||e.on,function(c){var d,e;d=0;for(e=l.length;d<e;++d)a.cancel(l[d]);d=l.length=0;for(e=k.length;d<e;++d){var r=ub(h[d].clone);k[d].$destroy();(l[d]=a.leave(r)).then(m(l,d))}h.length=0;k.length=0;(g=f.cases["!"+c]||f.cases["?"])&&s(g,function(c){c.transclude(function(d,e){k.push(e);var f=c.element;d[d.length++]=X.createComment(" end ngSwitchWhen: ");h.push({clone:d});a.enter(d,f.parent(),f)})})})}}}],re=Ja({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,c,d,e,f){e.cases["!"+d.ngSwitchWhen]=e.cases["!"+d.ngSwitchWhen]||[];e.cases["!"+d.ngSwitchWhen].push({transclude:f,element:c})}}),se=Ja({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,c,d,e,f){e.cases["?"]=e.cases["?"]||[];e.cases["?"].push({transclude:f,element:c})}}),ue=Ja({restrict:"EAC",link:function(a,c,d,e,f){if(!f)throw M("ngTransclude")("orphan",ua(c));f(function(a){c.empty();c.append(a)})}}),Vd=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(c,d){"text/ng-template"==d.type&&a.put(d.id,c[0].text)}}}],fg=M("ngOptions"),te=da({restrict:"A",terminal:!0}),Wd=["$compile","$parse",function(a,c){var d=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,e={$setViewValue:B};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,c,d){var l=this,k={},m=e,p;l.databound=d.ngModel;l.init=function(a,c,d){m=a;p=d};l.addOption=function(c,d){Ma(c,'"option value"');k[c]=!0;m.$viewValue==c&&(a.val(c),p.parent()&&p.remove());d&&d[0].hasAttribute("selected")&&(d[0].selected=!0)};l.removeOption=function(a){this.hasOption(a)&&(delete k[a],m.$viewValue===a&&this.renderUnknownOption(a))};l.renderUnknownOption=function(c){c="? "+Na(c)+" ?";p.val(c);a.prepend(p);a.val(c);p.prop("selected",!0)};l.hasOption=function(a){return k.hasOwnProperty(a)};c.$on("$destroy",function(){l.renderUnknownOption=B})}],link:function(e,g,h,l){function k(a,c,d,e){d.$render=function(){var a=d.$viewValue;e.hasOption(a)?(v.parent()&&v.remove(),c.val(a),""===a&&B.prop("selected",!0)):z(a)&&B?c.val(""):e.renderUnknownOption(a)};c.on("change",function(){a.$apply(function(){v.parent()&&v.remove();d.$setViewValue(c.val())})})}function m(a,c,d){var e;d.$render=function(){var a=new eb(d.$viewValue);s(c.find("option"),function(c){c.selected=y(a.get(c.value))})};a.$watch(function(){ea(e,d.$viewValue)||(e=qa(d.$viewValue),d.$render())});c.on("change",function(){a.$apply(function(){var a=[];s(c.find("option"),function(c){c.selected&&a.push(c.value)});d.$setViewValue(a)})})}function p(e,f,g){function h(a,c,d){R[B]=d;G&&(R[G]=c);return a(e,R)}function k(a){var c;if(t)if(K&&E(a)){c=new eb([]);for(var d=0;d<a.length;d++)c.put(h(K,null,a[d]),!0)}else c=new eb(a);else K&&(a=h(K,null,a));return function(d,e){var f;f=K?K:z?z:A;return t?y(c.remove(h(f,d,e))):a===h(f,d,e)}}function l(){n||(e.$$postDigest(p),n=!0)}function m(a,c,d){a[c]=a[c]||0;a[c]+=d?1:-1}function p(){n=!1;var a={"":[]},c=[""],d,l,r,u,v;r=g.$viewValue;u=N(e)||[];var B=G?Object.keys(u).sort():u,x,z,E,A,O={};v=k(r);var M=!1,T,V;Q={};for(A=0;E=B.length,A<E;A++){x=A;if(G&&(x=B[A],"$"===x.charAt(0)))continue;z=u[x];d=h(J,x,z)||"";(l=a[d])||(l=a[d]=[],c.push(d));d=v(x,z);M=M||d;z=h(C,x,z);z=y(z)?z:"";V=K?K(e,R):G?B[A]:A;K&&(Q[V]=x);l.push({id:V,label:z,selected:d})}t||(w||null===r?a[""].unshift({id:"",label:"",selected:!M}):M||a[""].unshift({id:"?",label:"",selected:!0}));x=0;for(B=c.length;x<B;x++){d=c[x];l=a[d];P.length<=x?(r={element:H.clone().attr("label",d),label:l.label},u=[r],P.push(u),f.append(r.element)):(u=P[x],r=u[0],r.label!=d&&r.element.attr("label",r.label=d));M=null;A=0;for(E=l.length;A<E;A++)d=l[A],(v=u[A+1])?(M=v.element,v.label!==d.label&&(m(O,v.label,!1),m(O,d.label,!0),M.text(v.label=d.label),M.prop("label",v.label)),v.id!==d.id&&M.val(v.id=d.id),M[0].selected!==d.selected&&(M.prop("selected",v.selected=d.selected),Ra&&M.prop("selected",v.selected))):(""===d.id&&w?T=w:(T=D.clone()).val(d.id).prop("selected",d.selected).attr("selected",d.selected).prop("label",d.label).text(d.label),u.push(v={element:T,label:d.label,id:d.id,selected:d.selected}),m(O,d.label,!0),M?M.after(T):r.element.append(T),M=T);for(A++;u.length>A;)d=u.pop(),m(O,d.label,!1),d.element.remove()}for(;P.length>x;){l=P.pop();for(A=1;A<l.length;++A)m(O,l[A].label,!1);l[0].element.remove()}s(O,function(a,c){0<a?q.addOption(c):0>a&&q.removeOption(c)})}var v;if(!(v=r.match(d)))throw fg("iexp",r,ua(f));var C=c(v[2]||v[1]),B=v[4]||v[6],x=/ as /.test(v[0])&&v[1],z=x?c(x):null,G=v[5],J=c(v[3]||""),A=c(v[2]?v[1]:B),N=c(v[7]),K=v[8]?c(v[8]):null,Q={},P=[[{element:f,label:""}]],R={};w&&(a(w)(e),w.removeClass("ng-scope"),w.remove());f.empty();f.on("change",function(){e.$apply(function(){var a=N(e)||[],c;if(t)c=[],s(f.val(),function(d){d=K?Q[d]:d;c.push("?"===d?u:""===d?null:h(z?z:A,d,a[d]))});else{var d=K?Q[f.val()]:f.val();c="?"===d?u:""===d?null:h(z?z:A,d,a[d])}g.$setViewValue(c);p()})});g.$render=p;e.$watchCollection(N,l);e.$watchCollection(function(){var a=N(e),c;if(a&&E(a)){c=Array(a.length);for(var d=0,f=a.length;d<f;d++)c[d]=h(C,d,a[d])}else if(a)for(d in c={},a)a.hasOwnProperty(d)&&(c[d]=h(C,d,a[d]));return c},l);t&&e.$watchCollection(function(){return g.$modelValue},l)}if(l[1]){var q=l[0];l=l[1];var t=h.multiple,r=h.ngOptions,w=!1,B,n=!1,D=C(X.createElement("option")),H=C(X.createElement("optgroup")),v=D.clone();h=0;for(var x=g.children(),G=x.length;h<G;h++)if(""===x[h].value){B=w=x.eq(h);break}q.init(l,w,v);t&&(l.$isEmpty=function(a){return!a||0===a.length});r?p(e,g,l):t?m(e,g,l):k(e,g,l,q)}}}}],Yd=["$interpolate",function(a){var c={addOption:B,removeOption:B};return{restrict:"E",priority:100,compile:function(d,e){if(z(e.value)){var f=a(d.text(),!0);f||e.$set("value",d.text())}return function(a,d,e){var k=d.parent(),m=k.data("$selectController")||k.parent().data("$selectController");m&&m.databound||(m=c);f?a.$watch(f,function(a,c){e.$set("value",a);c!==a&&m.removeOption(c);m.addOption(a,d)}):m.addOption(e.value,d);d.on("$destroy",function(){m.removeOption(e.value)})}}}}],Xd=da({restrict:"E",terminal:!1}),Ac=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){e&&(d.required=!0,e.$validators.required=function(a,c){return!d.required||!e.$isEmpty(c)},d.$observe("required",function(){e.$validate()}))}}},zc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f,g=d.ngPattern||d.pattern;d.$observe("pattern",function(a){x(a)&&0<a.length&&(a=new RegExp("^"+a+"$"));if(a&&!a.test)throw M("ngPattern")("noregexp",g,a,ua(c));f=a||u;e.$validate()});e.$validators.pattern=function(a){return e.$isEmpty(a)||z(f)||f.test(a)}}}}},Cc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f=-1;d.$observe("maxlength",function(a){a=$(a);f=isNaN(a)?-1:a;e.$validate()});e.$validators.maxlength=function(a,c){return 0>f||e.$isEmpty(c)||c.length<=f}}}}},Bc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f=0;d.$observe("minlength",function(a){f=$(a)||0;e.$validate()});e.$validators.minlength=function(a,c){return e.$isEmpty(c)||c.length>=f}}}}};P.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(Nd(),Pd(aa),C(X).ready(function(){Jd(X,tc)}))})(window,document);!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>');

//ruleupjs
var CryptoJS=CryptoJS||function(u,p){var d={},l=d.lib={},s=function(){},t=l.Base={extend:function(a){s.prototype=this;var c=new s;a&&c.mixIn(a);c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},r=l.WordArray=t.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=p?c:4*a.length},toString:function(a){return(a||v).stringify(this)},concat:function(a){var c=this.words,e=a.words,j=this.sigBytes;a=a.sigBytes;this.clamp();if(j%4)for(var k=0;k<a;k++)c[j+k>>>2]|=(e[k>>>2]>>>24-8*(k%4)&255)<<24-8*((j+k)%4);else if(65535<e.length)for(k=0;k<a;k+=4)c[j+k>>>2]=e[k>>>2];else c.push.apply(c,e);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<32-8*(c%4);a.length=u.ceil(c / 4)},clone:function(){var a=t.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],e=0;e<a;e+=4)c.push(4294967296*u.random()|0);return new r.init(c,a)}}),w=d.enc={},v=w.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var e=[],j=0;j<a;j++){var k=c[j>>>2]>>>24-8*(j%4)&255;e.push((k>>>4).toString(16));e.push((k&15).toString(16))}return e.join("")},parse:function(a){for(var c=a.length,e=[],j=0;j<c;j+=2)e[j>>>3]|=parseInt(a.substr(j,2),16)<<24-4*(j%8);return new r.init(e,c / 2)}},b=w.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var e=[],j=0;j<a;j++)e.push(String.fromCharCode(c[j>>>2]>>>24-8*(j%4)&255));return e.join("")},parse:function(a){for(var c=a.length,e=[],j=0;j<c;j++)e[j>>>2]|=(a.charCodeAt(j)&255)<<24-8*(j%4);return new r.init(e,c)}},x=w.Utf8={stringify:function(a){try{return decodeURIComponent(escape(b.stringify(a)))}catch(c){throw Error("Malformed UTF-8 data");}},parse:function(a){return b.parse(unescape(encodeURIComponent(a)))}},q=l.BufferedBlockAlgorithm=t.extend({reset:function(){this._data=new r.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=x.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,e=c.words,j=c.sigBytes,k=this.blockSize,b=j /(4*k),b=a?u.ceil(b):u.max((b|0)-this._minBufferSize,0);a=b*k;j=u.min(4*a,j);if(a){for(var q=0;q<a;q+=k)this._doProcessBlock(e,q);q=e.splice(0,a);c.sigBytes-=j}return new r.init(q,j)},clone:function(){var a=t.clone.call(this);a._data=this._data.clone();return a},_minBufferSize:0});l.Hasher=q.extend({cfg:t.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){q.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,e){return(new a.init(e)).finalize(b)}},_createHmacHelper:function(a){return function(b,e){return(new n.HMAC.init(a,e)).finalize(b)}}});var n=d.algo={};return d}(Math);(function(){var u=CryptoJS,p=u.lib.WordArray;u.enc.Base64={stringify:function(d){var l=d.words,p=d.sigBytes,t=this._map;d.clamp();d=[];for(var r=0;r<p;r+=3)for(var w=(l[r>>>2]>>>24-8*(r%4)&255)<<16|(l[r+1>>>2]>>>24-8*((r+1)%4)&255)<<8|l[r+2>>>2]>>>24-8*((r+2)%4)&255,v=0;4>v&&r+0.75*v<p;v++)d.push(t.charAt(w>>>6*(3-v)&63));if(l=t.charAt(64))for(;d.length%4;)d.push(l);return d.join("")},parse:function(d){var l=d.length,s=this._map,t=s.charAt(64);t&&(t=d.indexOf(t),-1!=t&&(l=t));for(var t=[],r=0,w=0;w<l;w++)if(w%4){var v=s.indexOf(d.charAt(w-1))<<2*(w%4),b=s.indexOf(d.charAt(w))>>>6-2*(w%4);t[r>>>2]|=(v|b)<<24-8*(r%4);r++}return p.create(t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(u){function p(b,n,a,c,e,j,k){b=b+(n&a|~n&c)+e+k;return(b<<j|b>>>32-j)+n}function d(b,n,a,c,e,j,k){b=b+(n&c|a&~c)+e+k;return(b<<j|b>>>32-j)+n}function l(b,n,a,c,e,j,k){b=b+(n^a^c)+e+k;return(b<<j|b>>>32-j)+n}function s(b,n,a,c,e,j,k){b=b+(a^(n|~c))+e+k;return(b<<j|b>>>32-j)+n}for(var t=CryptoJS,r=t.lib,w=r.WordArray,v=r.Hasher,r=t.algo,b=[],x=0;64>x;x++)b[x]=4294967296*u.abs(u.sin(x+1))|0;r=r.MD5=v.extend({_doReset:function(){this._hash=new w.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(q,n){for(var a=0;16>a;a++){var c=n+a,e=q[c];q[c]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360}var a=this._hash.words,c=q[n+0],e=q[n+1],j=q[n+2],k=q[n+3],z=q[n+4],r=q[n+5],t=q[n+6],w=q[n+7],v=q[n+8],A=q[n+9],B=q[n+10],C=q[n+11],u=q[n+12],D=q[n+13],E=q[n+14],x=q[n+15],f=a[0],m=a[1],g=a[2],h=a[3],f=p(f,m,g,h,c,7,b[0]),h=p(h,f,m,g,e,12,b[1]),g=p(g,h,f,m,j,17,b[2]),m=p(m,g,h,f,k,22,b[3]),f=p(f,m,g,h,z,7,b[4]),h=p(h,f,m,g,r,12,b[5]),g=p(g,h,f,m,t,17,b[6]),m=p(m,g,h,f,w,22,b[7]),f=p(f,m,g,h,v,7,b[8]),h=p(h,f,m,g,A,12,b[9]),g=p(g,h,f,m,B,17,b[10]),m=p(m,g,h,f,C,22,b[11]),f=p(f,m,g,h,u,7,b[12]),h=p(h,f,m,g,D,12,b[13]),g=p(g,h,f,m,E,17,b[14]),m=p(m,g,h,f,x,22,b[15]),f=d(f,m,g,h,e,5,b[16]),h=d(h,f,m,g,t,9,b[17]),g=d(g,h,f,m,C,14,b[18]),m=d(m,g,h,f,c,20,b[19]),f=d(f,m,g,h,r,5,b[20]),h=d(h,f,m,g,B,9,b[21]),g=d(g,h,f,m,x,14,b[22]),m=d(m,g,h,f,z,20,b[23]),f=d(f,m,g,h,A,5,b[24]),h=d(h,f,m,g,E,9,b[25]),g=d(g,h,f,m,k,14,b[26]),m=d(m,g,h,f,v,20,b[27]),f=d(f,m,g,h,D,5,b[28]),h=d(h,f,m,g,j,9,b[29]),g=d(g,h,f,m,w,14,b[30]),m=d(m,g,h,f,u,20,b[31]),f=l(f,m,g,h,r,4,b[32]),h=l(h,f,m,g,v,11,b[33]),g=l(g,h,f,m,C,16,b[34]),m=l(m,g,h,f,E,23,b[35]),f=l(f,m,g,h,e,4,b[36]),h=l(h,f,m,g,z,11,b[37]),g=l(g,h,f,m,w,16,b[38]),m=l(m,g,h,f,B,23,b[39]),f=l(f,m,g,h,D,4,b[40]),h=l(h,f,m,g,c,11,b[41]),g=l(g,h,f,m,k,16,b[42]),m=l(m,g,h,f,t,23,b[43]),f=l(f,m,g,h,A,4,b[44]),h=l(h,f,m,g,u,11,b[45]),g=l(g,h,f,m,x,16,b[46]),m=l(m,g,h,f,j,23,b[47]),f=s(f,m,g,h,c,6,b[48]),h=s(h,f,m,g,w,10,b[49]),g=s(g,h,f,m,E,15,b[50]),m=s(m,g,h,f,r,21,b[51]),f=s(f,m,g,h,u,6,b[52]),h=s(h,f,m,g,k,10,b[53]),g=s(g,h,f,m,B,15,b[54]),m=s(m,g,h,f,e,21,b[55]),f=s(f,m,g,h,v,6,b[56]),h=s(h,f,m,g,x,10,b[57]),g=s(g,h,f,m,t,15,b[58]),m=s(m,g,h,f,D,21,b[59]),f=s(f,m,g,h,z,6,b[60]),h=s(h,f,m,g,C,10,b[61]),g=s(g,h,f,m,j,15,b[62]),m=s(m,g,h,f,A,21,b[63]);a[0]=a[0]+f|0;a[1]=a[1]+m|0;a[2]=a[2]+g|0;a[3]=a[3]+h|0},_doFinalize:function(){var b=this._data,n=b.words,a=8*this._nDataBytes,c=8*b.sigBytes;n[c>>>5]|=128<<24-c%32;var e=u.floor(a /
4294967296);n[(c+64>>>9<<4)+15]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;n[(c+64>>>9<<4)+14]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;b.sigBytes=4*(n.length+1);this._process();b=this._hash;n=b.words;for(a=0;4>a;a++)c=n[a],n[a]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360;return b},clone:function(){var b=v.clone.call(this);b._hash=this._hash.clone();return b}});t.MD5=v._createHelper(r);t.HmacMD5=v._createHmacHelper(r)})(Math);(function(){var u=CryptoJS,p=u.lib,d=p.Base,l=p.WordArray,p=u.algo,s=p.EvpKDF=d.extend({cfg:d.extend({keySize:4,hasher:p.MD5,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,r){for(var p=this.cfg,s=p.hasher.create(),b=l.create(),u=b.words,q=p.keySize,p=p.iterations;u.length<q;){n&&s.update(n);var n=s.update(d).finalize(r);s.reset();for(var a=1;a<p;a++)n=s.finalize(n),s.reset();b.concat(n)}b.sigBytes=4*q;return b}});u.EvpKDF=function(d,l,p){return s.create(p).compute(d,l)}})();CryptoJS.lib.Cipher||function(u){var p=CryptoJS,d=p.lib,l=d.Base,s=d.WordArray,t=d.BufferedBlockAlgorithm,r=p.enc.Base64,w=p.algo.EvpKDF,v=d.Cipher=t.extend({cfg:l.extend(),createEncryptor:function(e,a){return this.create(this._ENC_XFORM_MODE,e,a)},createDecryptor:function(e,a){return this.create(this._DEC_XFORM_MODE,e,a)},init:function(e,a,b){this.cfg=this.cfg.extend(b);this._xformMode=e;this._key=a;this.reset()},reset:function(){t.reset.call(this);this._doReset()},process:function(e){this._append(e);return this._process()},finalize:function(e){e&&this._append(e);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(b,k,d){return("string"==typeof k?c:a).encrypt(e,b,k,d)},decrypt:function(b,k,d){return("string"==typeof k?c:a).decrypt(e,b,k,d)}}}});d.StreamCipher=v.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var b=p.mode={},x=function(e,a,b){var c=this._iv;c?this._iv=u:c=this._prevBlock;for(var d=0;d<b;d++)e[a+d]^=c[d]},q=(d.BlockCipherMode=l.extend({createEncryptor:function(e,a){return this.Encryptor.create(e,a)},createDecryptor:function(e,a){return this.Decryptor.create(e,a)},init:function(e,a){this._cipher=e;this._iv=a}})).extend();q.Encryptor=q.extend({processBlock:function(e,a){var b=this._cipher,c=b.blockSize;x.call(this,e,a,c);b.encryptBlock(e,a);this._prevBlock=e.slice(a,a+c)}});q.Decryptor=q.extend({processBlock:function(e,a){var b=this._cipher,c=b.blockSize,d=e.slice(a,a+c);b.decryptBlock(e,a);x.call(this,e,a,c);this._prevBlock=d}});b=b.CBC=q;q=(p.pad={}).Pkcs7={pad:function(a,b){for(var c=4*b,c=c-a.sigBytes%c,d=c<<24|c<<16|c<<8|c,l=[],n=0;n<c;n+=4)l.push(d);c=s.create(l,c);a.concat(c)},unpad:function(a){a.sigBytes-=a.words[a.sigBytes-1>>>2]&255}};d.BlockCipher=v.extend({cfg:v.cfg.extend({mode:b,padding:q}),reset:function(){v.reset.call(this);var a=this.cfg,b=a.iv,a=a.mode;if(this._xformMode==this._ENC_XFORM_MODE)var c=a.createEncryptor;else c=a.createDecryptor,this._minBufferSize=1;this._mode=c.call(a,this,b&&b.words)},_doProcessBlock:function(a,b){this._mode.processBlock(a,b)},_doFinalize:function(){var a=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){a.pad(this._data,this.blockSize);var b=this._process(!0)}else b=this._process(!0),a.unpad(b);return b},blockSize:4});var n=d.CipherParams=l.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),b=(p.format={}).OpenSSL={stringify:function(a){var b=a.ciphertext;a=a.salt;return(a?s.create([1398893684,1701076831]).concat(a).concat(b):b).toString(r)},parse:function(a){a=r.parse(a);var b=a.words;if(1398893684==b[0]&&1701076831==b[1]){var c=s.create(b.slice(2,4));b.splice(0,4);a.sigBytes-=16}return n.create({ciphertext:a,salt:c})}},a=d.SerializableCipher=l.extend({cfg:l.extend({format:b}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var l=a.createEncryptor(c,d);b=l.finalize(b);l=l.cfg;return n.create({ciphertext:b,key:c,iv:l.iv,algorithm:a,mode:l.mode,padding:l.padding,blockSize:a.blockSize,formatter:d.format})},decrypt:function(a,b,c,d){d=this.cfg.extend(d);b=this._parse(b,d.format);return a.createDecryptor(c,d).finalize(b.ciphertext)},_parse:function(a,b){return"string"==typeof a?b.parse(a,this):a}}),p=(p.kdf={}).OpenSSL={execute:function(a,b,c,d){d||(d=s.random(8));a=w.create({keySize:b+c}).compute(a,d);c=s.create(a.words.slice(b),4*c);a.sigBytes=4*b;return n.create({key:a,iv:c,salt:d})}},c=d.PasswordBasedCipher=a.extend({cfg:a.cfg.extend({kdf:p}),encrypt:function(b,c,d,l){l=this.cfg.extend(l);d=l.kdf.execute(d,b.keySize,b.ivSize);l.iv=d.iv;b=a.encrypt.call(this,b,c,d.key,l);b.mixIn(d);return b},decrypt:function(b,c,d,l){l=this.cfg.extend(l);c=this._parse(c,l.format);d=l.kdf.execute(d,b.keySize,b.ivSize,c.salt);l.iv=d.iv;return a.decrypt.call(this,b,c,d.key,l)}})}();(function(){for(var u=CryptoJS,p=u.lib.BlockCipher,d=u.algo,l=[],s=[],t=[],r=[],w=[],v=[],b=[],x=[],q=[],n=[],a=[],c=0;256>c;c++)a[c]=128>c?c<<1:c<<1^283;for(var e=0,j=0,c=0;256>c;c++){var k=j^j<<1^j<<2^j<<3^j<<4,k=k>>>8^k&255^99;l[e]=k;s[k]=e;var z=a[e],F=a[z],G=a[F],y=257*a[k]^16843008*k;t[e]=y<<24|y>>>8;r[e]=y<<16|y>>>16;w[e]=y<<8|y>>>24;v[e]=y;y=16843009*G^65537*F^257*z^16843008*e;b[k]=y<<24|y>>>8;x[k]=y<<16|y>>>16;q[k]=y<<8|y>>>24;n[k]=y;e?(e=z^a[a[a[G^z]]],j^=a[a[j]]):e=j=1}var H=[0,1,2,4,8,16,32,64,128,27,54],d=d.AES=p.extend({_doReset:function(){for(var a=this._key,c=a.words,d=a.sigBytes / 4,a=4*((this._nRounds=d+6)+1),e=this._keySchedule=[],j=0;j<a;j++)if(j<d)e[j]=c[j];else{var k=e[j-1];j%d?6<d&&4==j%d&&(k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255]):(k=k<<8|k>>>24,k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255],k^=H[j / d|0]<<24);e[j]=e[j-d]^k}c=this._invKeySchedule=[];for(d=0;d<a;d++)j=a-d,k=d%4?e[j]:e[j-4],c[d]=4>d||4>=j?k:b[l[k>>>24]]^x[l[k>>>16&255]]^q[l[k>>>8&255]]^n[l[k&255]]},encryptBlock:function(a,b){this._doCryptBlock(a,b,this._keySchedule,t,r,w,v,l)},decryptBlock:function(a,c){var d=a[c+1];a[c+1]=a[c+3];a[c+3]=d;this._doCryptBlock(a,c,this._invKeySchedule,b,x,q,n,s);d=a[c+1];a[c+1]=a[c+3];a[c+3]=d},_doCryptBlock:function(a,b,c,d,e,j,l,f){for(var m=this._nRounds,g=a[b]^c[0],h=a[b+1]^c[1],k=a[b+2]^c[2],n=a[b+3]^c[3],p=4,r=1;r<m;r++)var q=d[g>>>24]^e[h>>>16&255]^j[k>>>8&255]^l[n&255]^c[p++],s=d[h>>>24]^e[k>>>16&255]^j[n>>>8&255]^l[g&255]^c[p++],t=d[k>>>24]^e[n>>>16&255]^j[g>>>8&255]^l[h&255]^c[p++],n=d[n>>>24]^e[g>>>16&255]^j[h>>>8&255]^l[k&255]^c[p++],g=q,h=s,k=t;q=(f[g>>>24]<<24|f[h>>>16&255]<<16|f[k>>>8&255]<<8|f[n&255])^c[p++];s=(f[h>>>24]<<24|f[k>>>16&255]<<16|f[n>>>8&255]<<8|f[g&255])^c[p++];t=(f[k>>>24]<<24|f[n>>>16&255]<<16|f[g>>>8&255]<<8|f[h&255])^c[p++];n=(f[n>>>24]<<24|f[g>>>16&255]<<16|f[h>>>8&255]<<8|f[k&255])^c[p++];a[b]=q;a[b+1]=s;a[b+2]=t;a[b+3]=n},keySize:8});u.AES=p._createHelper(d)})();

//accordion
var acc=document.getElementsByClassName("accordion");var i;for(i=0;i<acc.length;i++){acc[i].addEventListener("click",function(){this.classList.toggle("active");var panel=this.nextElementSibling;if(panel.style.maxHeight){panel.style.maxHeight=null;}else{panel.style.maxHeight=panel.scrollHeight+"px";}});}


//app.js
var app=angular.module('App',[]);app.constant('globals',{api:'Pankaj',RedirectURL:"https://qa.indiacover360.com/Application/",ServiceURL:"https://apiqa.indiacover360.com",IGwServiceURL:"https://apiqa.indiacover360.com",UIURL:"https://qa.indiacover360.com/HomePage",landingPage:"https://qa.indiacover360.com",mainPage:"https://qa.indiacover360.com/Application/?CPID=",encryptionKey:'9080706050403020',encryptionIv:'1020304080706050',staticKey:'IG006072021'});app.config(['$locationProvider',function($locationProvider){$locationProvider.html5Mode({enabled:true,requireBase:false,rewriteLinks:false});}]);app.run(function($window,$rootScope){$rootScope.online=navigator.onLine;$window.addEventListener("offline",function(){$rootScope.$apply(function(){$rootScope.online=false;});},false);$rootScope.$on('$locationChangeSuccess',function(event,absNewUrl,absOldUrl){if(absOldUrl!=absNewUrl){if(absNewUrl.indexOf("BeenHerePop")!=-1){$rootScope.popredirect(1);}
else if(absNewUrl.indexOf("Searches")!=-1){$rootScope.popredirect(2);}
else if(absNewUrl.indexOf("NewCar")!=-1){$rootScope.popredirect(4);}
else if(absNewUrl.indexOf("NotRegistrationNo")!=-1){$rootScope.popredirect(5);}
else if(absNewUrl.indexOf("NewBike")!=-1){$rootScope.popredirect(6);}
else if(absNewUrl.indexOf("NoRegistrationNo")!=-1){$rootScope.popredirect(7);}
else if(absNewUrl.indexOf("CarMakeModel")!=-1){$rootScope.popredirect(8);}
else if(absNewUrl.indexOf("CarRto")!=-1){$rootScope.popredirect(9);}
else if(absNewUrl.indexOf("BikeMakeModel")!=-1){$rootScope.popredirect(10);}
else if(absNewUrl.indexOf("BikeRto")!=-1){$rootScope.popredirect(11);}
else if(absNewUrl.indexOf("CityPop")!=-1){$rootScope.popredirect(12);}
else if(absNewUrl.indexOf("AnnualIncomePop")!=-1){$rootScope.popredirect(13);}
else if(absNewUrl.indexOf("DestinationPop")!=-1){$rootScope.popredirect(14);}
else if(absNewUrl.indexOf("TravellerAge")!=-1){$rootScope.popredirect(15);}
else if(absNewUrl.indexOf("OTP")!=-1){$rootScope.popredirect(16);}
else if(absNewUrl.indexOf("Lastclaim")!=-1){$rootScope.popredirect(17);}
else{$rootScope.popredirect(3);}}});});app.controller('MainController',["$scope","$rootScope","globals","$http","CommonService","DataFactory","$document","$location","$timeout","$window","TermFactory","$anchorScroll","$sce","$filter","ValidationFactory","$interval",function($scope,$rootScope,globals,$http,CommonService,DataFactory,$document,$location,$timeout,$window,TermFactory,$anchorScroll,$sce,$filter,ValidationFactory,$interval){if(window.innerWidth>=850){$scope.device="Desktop";}
else{$scope.device="Mobile";}
$scope.typeOfIssue=[{issue:"Payment Issue"},{issue:"Policy Related issue"},{issue:"Calling Support Issue (Misselling)"},{issue:"Website content issue"},{issue:"General Feedback"},{issue:"Other"}];$scope.complainBtn=true;$scope.UtmSource="";$scope.carbreakingexp=0;$scope.$root.showmainloader=false;$scope.$root.scrollhide="home-bg bodymain";$scope.utmsourcedata="direct";$scope.utmcampaigndata="direct";$scope.utmCompaign="";$scope.$root.showonproposal=false;$scope.cityplaceholder="Loading Cities..";$scope.carpolicyexpdropdown=true;$scope.disablecity=true;$scope.showfastlaneclaimlast=true;$scope.appinitializedata=0;$scope.$root.mastercontent=false;$scope.$root.productBox="display-visible";$scope.$root.popupbikepage=false;$scope.utmTerm="";$scope.utmMedium="";$scope.$root.showloader=true;$scope.date=new Date();$scope.texttitleindex=0;$scope.showadultmess=false;$scope.year=$scope.date.getFullYear();;$scope.carregno=true;$scope.showmobileheader=true;$scope.bikeNo={};$scope.showmainform=false;$scope.$root.closepop=false;$scope.$root.backpop=false;$scope.$root.travelsecondpop=false;$scope.$root.showTopHeading=true;$scope.$root.showLogos=true;$scope.$root.CheckForNewQuotes=true;$scope.$root.travelfirstpop=true;$scope.commoncitystate1=[];$scope.HealthSavetime=0;$scope.BikeSavetime=0;$scope.ChildSavetime=0;$scope.InvestmentSavetime=0;$scope.PensionSavetime=0;$scope.CarMakeModeltime=0;$scope.BikeMakeModeltime=0;$scope.BikeRTOtime=0;$scope.CityListtime=0;$scope.CarSavetime=0;$scope.TravelSavetime=0;$scope.TermSavetime=0;$scope.TravelCountryListtime=0;$scope.childincometype="M";$scope.DobMessage="Parent's age should be (Min. 18 yrs & Max. 65 yrs)";$scope.carformfastlane="wow slideInRight";$scope.carformfastlane="wow slideInRight";$scope.investincome=[{value:"M",text:"Monthly"},{value:"Y",text:"Yearly"}];$scope.selectedincome=$scope.investincome[0].value;$scope.payMode=$scope.investincome[0].value;$scope.childpayItem="Monthly";$scope.pensionpayItem="Monthly";$scope.payItem="Monthly";$scope.carpoppetrol=[{value:"Kit1",text:"Don't have CNG/LPG Kit"},{value:"Kit2",text:"Have Company Fitted"},{value:"Kit3",text:"Have Externally Fitted"}];$scope.carpopcng=[{value:"Kit2",text:"Have Company Fitted"},{value:"Kit3",text:"Have Externally Fitted"}];$scope.carpoplpg=[{value:"Kit2",text:"Have Company Fitted"},{value:"Kit3",text:"Have Externally Fitted"}];var month=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var d=new Date();$scope.commoncitystate=[];d.setDate(d.getDate()-88);var afterDATE=d.getDate();var afterMONTH=month[d.getMonth()];var afterYEAR=d.getFullYear();var beforeexpirydate=new Date();beforeexpirydate.setDate(beforeexpirydate.getDate()-87);var beforeDATE=beforeexpirydate.getDate();var beforeMONTH=month[beforeexpirydate.getMonth()];var beforeYEAR=beforeexpirydate.getFullYear();$scope.bikeexpired=[{value:0,text:"Not Yet Expired"},{value:90,text:"Expired after "+afterDATE+"-"+afterMONTH+"-"+afterYEAR},{value:91,text:"Expired before "+beforeDATE+"-"+beforeMONTH+"-"+beforeYEAR}];$scope.citylists=[{id:1,cityname:"Delhi"},{id:2,cityname:"Jaipur"}];$scope.maleclass="lmbutton activebt";$scope.femaleclass="lmbutton";$scope.a1class="lmbutton activebt";$scope.a2class="lmbutton";$scope.nosmokeclass="lmbutton activebt";$scope.smokeclass="lmbutton";$scope.formbikeproduct="Bike";$scope.bikeexpiredpol=0;$scope.chatagentname=["Himanshu","Tabish","Neeraj"];$scope.message='false';$scope.gender="M";$scope.showbikelastclaim=false;$scope.message='false';$scope.showrtofield=true;$scope.maincarpage=true;$scope.$root.popupcarpage=false;$scope.Year_Of_manufacturer='';$scope.result=[];$scope.result[2015]=0;$scope.result[2014]=20;$scope.result[2013]=25;$scope.result[2012]=35;$scope.result[2011]=45;$scope.result[2010]=50;$scope.message='false';$scope.bodyscroll="";$scope.showrtocity=false;$scope.carlabel=false;$scope.citylabel=false;$scope.carNo={};$scope.carNo.carRegNo='';$scope.selectedchild='0';$scope.selectedadult='1';$scope.tab=1;$scope.mainform_animation="to-animate intro-animate-66";$scope.$root.popuptravelpage=false;$scope.$root.popuppensionpage=false;$scope.$root.popupinvestmentpage=false;$scope.$root.popupchildpage=false;$scope.$root.popuptermpage=false;$scope.$root.popuphealthpage=false;$scope.$root.popupcarpage=false;$scope.carbreaking=1;$scope.healthfirstpop=true;$scope.bikefirstpop=true;$scope.termfirstpop=true;$scope.childfirstpop=true;$scope.investfirstpop=true;$scope.pensionfirstpop=true;$scope.healthformproname="Health";$scope.formgender="M";$scope.pensionformproname="Pension";$scope.investmentformproname="Investment";$scope.childformproname="Investment";$scope.formtobacco="False";$scope.formmarital="Married";$scope.termproductname="Term";$scope.formpolicyterm=50;$scope.chclass=["childbt activebt","childbt ","childbt ","childbt","childbt"];$scope.$root.sideNavShow=false;$scope.showheader=true;$scope.formproposer="abc@ig.com";$scope.forcarproduct="Car";$scope.carfuelcontainer=false;$scope.formddlkit="Kit0";$scope.formcarbtn="Get Live Quotes";$scope.ncbdisabled=true;$scope.bikemodellist=[];$scope.chatflag="car";$scope.messages=[];$scope.messages[0]={Id:1,msg:"Hi, there! What type of plan you are looking for?"};$scope.showplan=true;$scope.chatmainclass="chatbot-box-hidden";$scope.showchat1=false;$scope.showbeenhere=true;$scope.clientmsgid=1001;$scope.carbreakingpol=0;$scope.automsgid=2;$scope.carflag=false;$scope.chatageflag=false;$scope.chatchildageflag=false;$scope.prefilledcarflag=false;$scope.carpopup=false;$scope.carmaindetails=true;$scope.bikepopup=false;$scope.bikemaindetails=true;$scope.showQuotesButton=true;$scope.destinationList=[];$scope.bool=false;$scope.comparebuypop=false;$scope.ShowAgeSection=false;$scope.TotalMembers=[];$scope.dataValue=[];$scope.travelDestinations=[];$scope.DestinationError=false;$scope.todayDate=new Date();$scope.previousSearchShow=false;$scope.IsBeenHereBefore=false;$scope.DownloadApp=false;$scope.thanksMobilelink=false;$scope.ChildDetails=[];$scope.IsNewRequestFlag=0;$scope.txtCityStateForTerm=true;$scope.txtCityStateForHealth=true;$scope.ngCarcity=true;$scope.ngBikeRto=true;$scope.ngbiketype=true;$scope.showrtiomobile=true;$scope.termpopup=true;$scope.pensionpopup=true;$scope.investpopup=true;$scope.childpopup=true;$scope.showrtocity=true;$scope.showotpbox=false;$scope.userActualIncome=[];$scope.carlistdata=[];$scope.citystate=[];$scope.bikecitystate=[];$scope.bikecitystates=[];$scope.ppeItem="Not Yet Expired";$scope.ppebikeItem="Not Yet Expired";$scope.carquotesleadrequest=ValidationFactory.GetEncryptedString();$scope.leadcreaterequestdata=ValidationFactory.GetLeadCreationEncryptedString();$scope.otpcreaterequestdata=ValidationFactory.GetOTPString1();$scope.minstartdatetravel=new Date().getMonth()+1+"/"+new Date().getDate()+"/"+new Date().getFullYear();var date1=new Date();date1.setDate(date1.getDate()+180);$scope.maxenddatetravel=date1.getMonth()+1+"/"+date1.getDate()+"/"+date1.getFullYear();var date2=new Date();date2.setDate(date2.getDate()+1);$scope.minenddatetravel=date2.getMonth()+1+"/"+date2.getDate()+"/"+date2.getFullYear();$scope.openmaintabform="in fadeInUp";$scope.PrevoiusPopUpAnimation="";if(window.innerWidth>=850){$scope.device="Desktop";}
else{$scope.device="Mobile";}
$scope.goToTop=function(){$location.hash('top');$anchorScroll();}
$scope.showPrevoiusPop=function(){$scope.$root.scrollhide="scrollhides";$scope.PrevoiusPop=true;if(($scope.PrevoiusPopUpAnimation=="out fadeOut")||($scope.PrevoiusPopUpAnimation=="")||($scope.PrevoiusPopShow=="bounceOut bounceOutLeft")){$scope.PrevoiusPopUp=true;$scope.PrevoiusPopUpAnimation="in fadeInUp";$scope.PrevoiusPopShow="in fadeInUp";}
else{$scope.PrevoiusPopUpAnimation="out fadeOut";}}
$scope.closePrevoiusPopUp=function(){$scope.PrevoiusPopUpAnimation="out fadeOut";$scope.$root.scrollhide="";}
$scope.checktermincomeerror=function(){if($scope.txtActualIncome){$scope.annualerror=false;$scope.validatedot($scope.txtActualIncome.value);}
else{$scope.annualerror=true;}}
$scope.footer=function(flag){};$scope.opencomparebuypop=function(){$scope.IsNewRequestFlag=1;$scope.$root.showNavbar=false;$scope.$root.scrollhide="scrollhides";$scope.$root.planpop=true;if(($scope.comparebuypopAnimation=="out fadeOut")||($scope.comparebuypopAnimation=="")||($scope.planpopshow=="bounceOut bounceOutLeft")){$scope.$root.comparebuypop=true;$scope.comparebuypopAnimation="in fadeIn";$scope.openmaintabform="in fadeIn";$scope.$root.productBox="display-visible";$scope.planpopshow="in fadeIn";}
else{$scope.comparebuypopAnimation="out fadeOut";$scope.openmaintabform="out fadeOut";}}
$scope.SetMaxTravelEndDate=function(){if($scope.travelStartDate!=undefined){$scope.travelEndDate='';$scope.datedifferror=false;var date3=new Date($scope.travelStartDate);date3.setDate(date3.getDate()+1);$scope.minenddatetravel=date3.getMonth()+1+"/"+date3.getDate()+"/"+date3.getFullYear();var maxdate=new Date($scope.minenddatetravel);maxdate.setDate(maxdate.getDate()+180);$scope.maxenddatetravel=maxdate.getMonth()+1+"/"+maxdate.getDate()+"/"+maxdate.getFullYear();$scope.travelEndDate1.setMinDate(new Date($scope.minenddatetravel));$scope.travelEndDate1.setMaxDate(new Date($scope.maxenddatetravel));if($scope.travelStartDate!=undefined){$scope.startdateError=false;}
else{$scope.startdateError=true;}}}
$scope.geticon=function(flag){if(flag==1){if($scope.mobileicontab[0].id>1){$scope.mobileicontab.splice(3,1);$scope.mobileicontab.splice(0,0,$scope.mobileicontab1[$scope.mobileicontab[0].id-2]);}}
else{if($scope.mobileicontab[3].id<7){$scope.mobileicontab.splice(0,1);$scope.mobileicontab.push($scope.mobileicontab1[$scope.mobileicontab[2].id]);}}}
$scope.makeauto=function(){$scope.popupautocomplete=true;}
$scope.hidescroll=function(){$scope.$root.scrollhide="scrollhides";}
$scope.showscroll=function(){$scope.$root.scrollhide="";}
$scope.getcarcityauto=function(item){$scope.selectedItem=item;$scope.popupautocomplete=false;}
$scope.testdate=function(flag,diff){var check=0;if($scope.IGdate==undefined&&flag==1){$scope.dateerror=true;check=1;}
else if($scope.IGmonth==undefined&&flag==2){$scope.dateerror=true;check=1;}
else if($scope.IGyear==undefined&&flag==3){$scope.dateerror=true;check=1;}
else{$scope.dateerror=false;}
if($scope.IGdate!=undefined&&$scope.IGmonth!=undefined&&$scope.IGyear!=undefined){if($scope.IGdate.length>=1&&$scope.IGmonth.length>=1&&$scope.IGyear.length==4){var d=new Date();var n=d.getFullYear();var m=d.getMonth();var yy=$scope.IGmonth+'-'+$scope.IGdate+'-'+$scope.IGyear;if(diff==1){$scope.age=$scope.getAge(yy);}
if(isNaN($scope.age)==true||isNaN(parseInt($scope.IGmonth))==true||isNaN(parseInt($scope.IGdate))==true||isNaN(parseInt($scope.IGyear))==true){check=1;$scope.age=undefined;}
if($scope.age<18){$scope.dateerror=true;check=1;}
if((ValidationFactory.onlynumber($scope.IGmonth)=="False")||(ValidationFactory.onlynumber($scope.IGdate)=="False")||(ValidationFactory.onlynumber($scope.IGyear)=="False")){$scope.dateerror=true;check=1;}
else if($scope.age>65&&$scope.product!="Health"){$scope.dateerror=true;check=1;}
else if($scope.age>100&&$scope.product=="Health"){$scope.dateerror=true;check=1;}
else if($scope.IGyear%4!=0&&$scope.IGyear%100!=0&&($scope.IGmonth==2||$scope.IGmonth==02)&&$scope.IGdate>28){$scope.dateerror=true;check=1;}
else if($scope.IGyear%400!=0&&$scope.IGyear%100==0&&($scope.IGmonth==2||$scope.IGmonth==02)&&$scope.IGdate>28){$scope.dateerror=true;check=1;}
if($scope.IGmonth>12||$scope.IGmonth<=0){$scope.dateerror=true;check=1;}
else if(($scope.IGmonth==2||$scope.IGmonth==02)&&$scope.IGdate>29){$scope.dateerror=true;check=1;}
else if(($scope.IGmonth==4||$scope.IGmonth==6||$scope.IGmonth==9||$scope.IGmonth==11)&&$scope.IGdate>30){$scope.dateerror=true;check=1;}
if($scope.IGdate>31||$scope.IGdate<=0){$scope.dateerror=true;check=1;}}
else{check=1;}}
if($scope.product=="Child"){if($scope.age<18||$scope.age>65){$scope.DobMessage="Parent's age should be (Min. 18 yrs & Max. 65 yrs)";$scope.dateerror=true;check=1;}}
if(check==1){$scope.formdob=undefined;$scope.dateerror=true;$scope.chatageflag=false;}
if(check==0&&$scope.IGdate!=undefined&&$scope.IGmonth!=undefined&&$scope.IGyear!=undefined){$scope.dateerror=false;$scope.chatageflag=true;$scope.agemonth=$scope.getmonth(yy);console.log($scope.agemonth);$scope.formdob=$scope.IGdate+'-'+$scope.IGmonth+'-'+$scope.IGyear;}
$scope.checkdate=check;}
$scope.childtestdate=function(flag,diff){var childcheck=0;if($scope.IGchilddate==undefined&&flag==1){$scope.datechilderror=true;childcheck=1;}
else if($scope.IGchildmonth==undefined&&flag==2){$scope.datechilderror=true;childcheck=1;}
else if($scope.IGchildyear==undefined&&flag==3){$scope.datechilderror=true;childcheck=1;}
else if(parseInt($scope.IGchilddate)==0||parseInt($scope.IGchildmonth)==0||parseInt($scope.IGchildyear)==0){$scope.datechilderror=true;childcheck=1;}
else{$scope.datechilderror=false;}
if($scope.IGchildmonth!=undefined&&$scope.IGchilddate!=undefined&&$scope.IGchildyear!=undefined){var d=new Date();var n=d.getFullYear();var m=d.getMonth();var yy=$scope.IGchildmonth+'-'+$scope.IGchilddate+'-'+$scope.IGchildyear;$scope.child_age=$scope.getAge(yy);if(isNaN($scope.child_age)==true||isNaN(parseInt($scope.IGchildmonth))==true||isNaN(parseInt($scope.IGchilddate))==true||isNaN(parseInt($scope.IGchildyear))==true){childcheck=1;$scope.child_age=undefined;}
if($scope.child_age>=18){$scope.datechilderror=true;childcheck=1;}
if(isNaN($scope.datechilderror)==true){check=1;}
if((ValidationFactory.onlynumber($scope.IGchildmonth)=="False")||(ValidationFactory.onlynumber($scope.IGchilddate)=="False")||(ValidationFactory.onlynumber($scope.IGchildyear)=="False")){$scope.datechilderror=true;childcheck=1;}
else if($scope.child_age<0){$scope.datechilderror=true;childcheck=1;}
else if($scope.IGchildyear%4!=0&&$scope.IGchildyear%100!=0&&($scope.IGchildmonth==2||$scope.IGchildmonth==02)&&$scope.IGchilddate>28){$scope.datechilderror=true;childcheck=1;}
else if($scope.IGchildyear%400!=0&&$scope.IGchildyear%100==0&&($scope.IGchildmonth==2||$scope.IGchildmonth==02)&&$scope.IGchilddate>29){$scope.datechilderror=true;childcheck=1;}
if($scope.IGchildmonth>12||$scope.IGchildmonth<=0){$scope.datechilderror=true;childcheck=1;}
else if(($scope.IGchildmonth==2||$scope.IGchildmonth==02)&&$scope.IGchilddate>29){$scope.datechilderror=true;childcheck=1;}
else if(($scope.IGchildmonth==4||$scope.IGchildmonth==6||$scope.IGchildmonth==9||$scope.IGchildmonth==11)&&$scope.IGchilddate>30){$scope.datechilderror=true;childcheck=1;}
if($scope.IGchilddate>31||$scope.IGchilddate<=0){$scope.datechilderror=true;childcheck=1;}}
if(childcheck==1){$scope.datechilderror=true;$scope.formchilddob=undefined;$scope.chatchildageflag=false;}
if(childcheck==0&&$scope.IGchilddate!=undefined&&$scope.IGchildmonth!=undefined&&$scope.IGchildyear!=undefined){if($scope.IGchildyear.length<4){$scope.datechilderror=true;childcheck=1;}
else{$scope.datechilderror=false;$scope.chatchildageflag=true;$scope.formchilddob=$scope.IGchilddate+'-'+$scope.IGchildmonth+'-'+$scope.IGchildyear;}}
$scope.checkchilddate=childcheck;}
$scope.getAge=function(dateString){var today=new Date();var tempage=dateString.split("-");var birthDate=new Date(parseInt(tempage[2]),(parseInt(tempage[0])-1),parseInt(tempage[1]));var age=today.getFullYear()-birthDate.getFullYear();var m=today.getMonth()-birthDate.getMonth();if(m<0||(m===0&&today.getDate()<birthDate.getDate())){age--;}
return age;}
$scope.getmonth=function(dateString){var tempage=dateString.split("-");var past_date=new Date(tempage[2],tempage[1],tempage[0]);var current_date=new Date();var difference=(current_date.getFullYear()*12+current_date.getMonth())-(past_date.getFullYear()*12+past_date.getMonth());return difference;}
$scope.checkincomeerror=function(flag){if($scope.selectedincome==undefined||$scope.selectedincome==null||$scope.selectedincome=='Y'){$scope.incomeerror=true;flag=1;}
else{$scope.incomeerror=false;$scope.forminvestamtvalue=$scope.selectedincome;$scope.formsuminsured=$scope.selectedincome;}}
$scope.nonTermvalidate=function(value,flag){if(flag=='pension'){$scope.selectedincome=$scope.payMode;}
var income=parseInt(value);if(flag=='child'){$scope.incomeerror=false;if(!value){$scope.annualErrorMessage="Income amount is required."
$scope.incomeerror=true;}
if($scope.childincometype=='Y'&&(income<10000||income>500000)){flag=0;$scope.incomeerror=true;$scope.annualErrorMessage="Enter value from 10k to 5L";}
else if($scope.childincometype=='M'&&(income>41666||income<850)){flag=0;$scope.incomeerror=true;$scope.annualErrorMessage="Enter value from 850 to 41,666"}}
else if(flag=='pension'){$scope.incomeerror=false;if(!value){$scope.annualErrorMessage="Income amount is required."
$scope.incomeerror=true;}
if($scope.payMode=='Y'&&(income<10000||income>500000)){flag=0;$scope.incomeerror=true;$scope.annualErrorMessage="Enter value from 10k to 5L";}
else if($scope.payMode=='M'&&(income>41666||income<850)){flag=0;$scope.incomeerror=true;$scope.annualErrorMessage="Enter value from 850 to 41,666"}}
else{if(value){if($scope.selectedincome=='M'&&(income<500||income>416666)){$scope.annualerror=true;$scope.annualErrorMessage="Enter value from 500 to 4,16,666"}
else if($scope.selectedincome=='Y'&&(income<5000||income>5000000)){$scope.annualerror=true;$scope.annualErrorMessage="Enter value from 5k to 50L"}
else{$scope.annualerror=false;}}
else{$scope.annualerror=true;$scope.annualErrorMessage="Investment amount is required."}
return $scope.annualerror;}}
$scope.TimeOutService=function(time,urlservice,ServiceName,product,timetaken){var vm=this;vm.data=deviceDetector;vm.allData=JSON.stringify(vm.data,null,2);var TimeOut=CommonService.TimeOutProposalService(0,product,vm.data.browser,vm.data.os_version,urlservice,time,$scope.ip,ServiceName,$scope.device,timetaken);TimeOut.then(function(result){TimeOut=result.data;});}
$scope.checkforincomeerror=function(flag){if($scope.selectedincome==undefined){flag=1;}
else{$scope.incomeerror=false;var incomearray=$scope.selectedincome.split(',');$scope.formsuminsured=incomearray[1].toString();$scope.txtSumAssuredRange=incomearray[0].toString();}}
$scope.formatReg=function(event,registrationNo,flag){if(event.keyCode!=8){var regNo=registrationNo;if(flag==1){$scope.carregnumber=regNo;$scope.carregnumber=$scope.carregnumber.toUpperCase();}
else{$scope.bikeregnumber=regNo;$scope.bikeregnumber=$scope.bikeregnumber.toUpperCase();}}}
$scope.$watch('online',function(){if(!$rootScope.online){$mdToast.show($mdToast.simple().textContent('Uhoh, we\'ve lost you... Please check your connection.').hideDelay(3000).position('top right'));}});$scope.validate=function(){if($scope.carregnumber!=undefined)
$scope.carregnumber=$scope.carregnumber.replace(/\s/g,"");var patt1=/^[A-Z]{1}[0-9A-Za-z]{4,12}[0-9]{1}$/;if($scope.carregnumber!=undefined&&$scope.carregnumber!=""){var bool=patt1.test($scope.carregnumber.replace(/-/g,"").toUpperCase());}
else{bool=false;}
if($scope.carregnumber!=undefined&&bool==true&&$scope.carregnumber.length>4){$scope.patternFails=false;var temp=$scope.carregnumber.split("-");$scope.carNo.registrationNo=temp[0];for(i=1;i<temp.length;i++){$scope.carNo.registrationNo+=temp[i];}
$scope.CallWEBAPIService();}
else{$scope.patternFails=true;$scope.regnoerrortext="Enter correct car registration no.";}}
$scope.bikevalidate=function(){if($scope.bikeregnumber!=undefined)
$scope.bikeregnumber=$scope.bikeregnumber.replace(/\s/g,"");if($scope.bikeregnumber!=undefined){var patt=/[A-Z]{2}[0-9]{1,2}[A-Z]{1,3}[0-9]{4}$/;var patt1=/^[A-Z]{1}[0-9A-Za-z]{4,12}[0-9]{1}$/;var bool=patt1.test($scope.bikeregnumber.replace(/-/g,"").toUpperCase());if(!bool){$scope.patternFails1=true;$scope.regnoerrortext="Enter correct bike registration no.";}else{$scope.patternFails1=false;var temp=$scope.bikeregnumber.split("-");$scope.bikeNo.registrationNo=temp[0];for(i=1;i<temp.length;i++){$scope.bikeNo.registrationNo+=temp[i];}
$scope.CallWEBAPIServicebike(false);}}
else{$scope.patternFails1=true;$scope.regnoerrortext="Enter correct bike registration no.";}}
$scope.CallWEBAPIServicebike=function(apiFlag){var temp=$scope.bikeregnumber+"|false";$scope.bikenoresult=undefined;$scope.fastlanebikeresult=CommonService.fastlane(temp,$scope);$scope.fastlanebikeresult.then(function(result){console.log(result);if(result.data=="Registration number belongs to a  CAR"){$scope.regnoerrortext=result.data;$scope.patternFails1=true;}
else{result.data=angular.fromJson(result.data);console.log(result.data);if(result.data.length==0){$scope.selectedbikemmv=null;$scope.searchText101=undefined;$scope.bikenoresult=!0;$scope.selectedbikerto=null;$scope.searchText10=undefined;$scope.selectedbikemakepop=undefined;$scope.selectedbikertopop=undefined;localStorage.searchText10=null;localStorage.selectedbikemakepop==null;localStorage.selectedbikertopop==null;localStorage.searchText101==null;localStorage.selectedbikemmv==null;}
else{$scope.bikenoresult=false;$scope.patternFails1=false;$scope.fastlaneresultbike=result.data[0];if($scope.fastlaneresultbike.RegistrationDate!=undefined){var dateObj=new Date($scope.fastlaneresultbike.RegistrationDate);var month=dateObj.getMonth()+1;var day=dateObj.getDate();var year=dateObj.getFullYear();var date=day+"-"+month+"-"+year;$scope.Registrationdate=JSON.parse(CommonService.stringifyWcf(date,1))}
$scope.carflag=true;var Fuel_Type=$scope.fastlaneresultbike.MakeModel.split(',')[1];var CC=$scope.fastlaneresultbike.MakeModel.split(',')[3];var Year_Of_manufacturer=$scope.fastlaneresultbike.ManufactureYear;var Seating_Capacity=$scope.fastlaneresultbike.MakeModel.split(',')[2];var series=$scope.fastlaneresultbike.MakeModel;var ChasisNo=$scope.fastlaneresultbike.ChassisNumber;var EngineNo=$scope.fastlaneresultbike.EngineNumber;var Reg_no=$scope.fastlaneresultbike.RegistrationNumber;var regyeartemp=$scope.regyear1;$scope.bikeengineno=EngineNo;$scope.bikechasisno=ChasisNo;$scope.bikeregnofastlane="";for(i=4;i<Reg_no.length;i++){$scope.bikeregnofastlane=$scope.bikeregnofastlane+Reg_no[i]}
console.log($scope.bikeregnofastlane);$scope.selectedbikemmv={bikename:series,makeid:$scope.fastlaneresultbike.MakeModelIds.split(",")[0],modelid:$scope.fastlaneresultbike.MakeModelIds.split(",")[1]};$scope.checkbikelisterror();$scope.bikereg=Year_Of_manufacturer;if($scope.bikereg)
$scope.regItem=$scope.bikereg;$scope.selectedbikemakepop=series;$scope.bikeModelItem=series;$scope.bikechasisno=ChasisNo;$scope.bikeengineno=EngineNo;$scope.txtbiketype=$scope.selectedbikemmv.bikename;var rtocodeforapi=$scope.fastlaneresultbike.RTOCode;$scope.updatedbikerto=CommonService.bikertoservice("",rtocodeforapi);$scope.updatedbikerto.then(function(result){result.data=angular.fromJson(result.data);$scope.selectedbikerto={cityid:result.data[0].CityCode,stateid:result.data[0].StateCode,RTOCode:$scope.fastlaneresultbike.RTOCode,cityname:result.data[0].CityName};$scope.checkbikertoerror();$scope.bikeregyear();$scope.bikepolicyexp();$scope.txtbikerto=$scope.selectedbikerto.cityname;console.log("car");console.log(result)},function(response){ServiceRespnse(response);});}}},function(response){ServiceRespnse(response);});}
$scope.CallWEBAPIService=function(){var temp=$scope.carregnumber+"|true";$scope.fastlanecarresult=CommonService.fastlane(temp);$scope.selectedItem=null;$scope.selectedItem1=null;$scope.carreg=undefined;$scope.carclaim=undefined;$scope.carkitstatus=undefined;$scope.searchText2=undefined;$scope.fastlanecarresult.then(function(result){console.log(result);if(result.data=="Registration number belongs to a  TwoWheeler"){$scope.regnoerrortext=result.data;$scope.patternFails=true;}
else{result.data=angular.fromJson(result.data);console.log(result.data);$scope.fastlaneresult=result.data[0];if(result.data.length==0){$scope.fastlanenohit=true;$scope.selectedItem=undefined;$scope.selectedItem1=undefined;$scope.searchText1=undefined;$scope.carreg=undefined;}
else{$scope.fastlanenohit=false;$scope.patternFails=false;console.log("yes");$scope.carflag=true;if($scope.fastlaneresult.RegistrationDate!=undefined){var dateObj=new Date($scope.fastlaneresult.RegistrationDate);var month=dateObj.getMonth()+1;var day=dateObj.getDate();var year=dateObj.getFullYear();var date=day+"-"+month+"-"+year;$scope.Registrationdate=JSON.parse(CommonService.stringifyWcf(date,1));}
var Fuel_Type=$scope.fastlaneresult.MakeModel.split(',')[1];var CC=$scope.fastlaneresult.MakeModel.split(',')[3];var Year_Of_manufacturer=$scope.fastlaneresult.ManufactureYear;var Seating_Capacity=$scope.fastlaneresult.MakeModel.split(',')[2];var series=$scope.fastlaneresult.MakeModel;var ChasisNo=$scope.fastlaneresult.ChassisNumber;var EngineNo=$scope.fastlaneresult.EngineNumber;var Reg_no=$scope.fastlaneresult.RegistrationNumber;$scope.carengineno=EngineNo;$scope.carchasisno=ChasisNo;var regyeartemp=$scope.regyear1;var temparray=[];var yeargap=$scope.year-Year_Of_manufacturer;for(var i=0;i<=yeargap;i++){if(regyeartemp.length>=i){temparray.push(regyeartemp[i]);}}
$scope.regyear=temparray;$scope.showcarncb=true;$scope.claimtaken=undefined;$scope.selectedcarmakepop=series;$scope.modelItem=series;if(Fuel_Type.trim()=="DIESEL"){$scope.carkitstatus=undefined;$scope.formddlkit="Kit0";$scope.carfuelcontainer=false;}
else if(Fuel_Type.trim()=="CNG"){$scope.carkitstatus=undefined;$scope.formddlkit="Kit0";$scope.carfuelcontainer=false;}
else if(Fuel_Type.trim()=="LPG"){$scope.carkitstatus=undefined;$scope.carcnglpg=$scope.carpoplpg;$scope.carfuelcontainer=true;}
else if(Fuel_Type.trim()=="PETROL"){$scope.carkitstatus=undefined;$scope.carcnglpg=$scope.carpoppetrol;$scope.carfuelcontainer=true;}
$scope.formcarwidget=series;$scope.selectedItem={};$scope.selectedItem1={};$scope.selectedItem.ModelName=series;$scope.selectedItem.MakeId=$scope.fastlaneresult.MakeModelIds.split(",")[0].trim();$scope.selectedItem.ModelId=$scope.fastlaneresult.MakeModelIds.split(",")[1].trim();$scope.yearOfRegistration=Year_Of_manufacturer;$scope.forcarreg=Year_Of_manufacturer;$scope.carreg=Year_Of_manufacturer;if($scope.carreg)
$scope.regItem=$scope.carreg;$scope.formlblregno=$scope.carregnumber.toUpperCase();$scope.formchasisno=ChasisNo;$scope.formengineno=EngineNo;var regcode=$scope.fastlaneresult.RTOCode;regcode=regcode.toUpperCase();$scope.selectedItem1.CityName="("+regcode+") "+result.data[0].CityName+","+result.data[0].StateName;$scope.rtoItem=$scope.selectedItem1.CityName;$scope.selectedItem1.RTOCode=regcode;$scope.selectedItem1.StateCode=result.data[0].StateId;$scope.selectedItem1.CityCode=result.data[0].CityId;$scope.txtcarvariant=$scope.selectedItem.ModelName;$scope.txtCarcity=$scope.selectedItem1.CityName;$scope.PopulateClaimddl();}}});}
$scope.closepop1=function(){$scope.claimtaken=undefined;$scope.$root.comparebuypop=false;$scope.$root.popupcarpage=false;$scope.$root.scrollhide="";if($scope.productpop=="bounceInDown"){$scope.productpop="out fadeOut";}
else{$scope.productpop="bounceIn bounceInDown";}
$scope.showchat1=false;$scope.showchatmsg=true;$scope.showheader=true;$scope.showmobileheader=true;}
$scope.backpop1=function(){if($scope.carpopup==true){$scope.carProceedBtnLoader=false;$scope.carNo.registrationNo=undefined;$scope.carmaindetails=true;$scope.carpopup=false;$scope.carregnumber=undefined;$scope.carengineno=undefined;$scope.carchasisno=undefined;$scope.claimtaken=undefined;if($scope.userdata!=undefined){if($scope.userdata.length>0){if($scope.userdata[0].Product=="Car"&&$scope.$root.planpop==false){$scope.$root.backpop=false;}}}}
else if($scope.carmaindetails==true){$scope.productpop="bounceOut bounceOutLeft";$scope.planpopshow="bounceInRight";$scope.$root.comparebuypop=true;$scope.$root.scrollhide="scrollhides";}}
$scope.backpop2=function(){if($scope.bikepopup==true){$scope.bikeProceedBtnLoader=false;$scope.bikeNo.registrationNo=undefined;$scope.bikemaindetails=true;$scope.bikepopup=false;$scope.$root.bikeregno=true;f($scope.userdata!=undefined)
{if($scope.userdata.length>0){if($scope.userdata[0].Product=="Twowheeler"&&$scope.$root.planpop==false){$scope.$root.backpop=false;}}}}
else if($scope.bikemaindetails==true){$scope.productpop="bounceOut bounceOutLeft";$scope.planpopshow="bounceInRight";$scope.$root.comparebuypop=true;$scope.$root.scrollhide="scrollhides";}}
$scope.backpop3=function(){$scope.productpop="bounceOut bounceOutLeft";$scope.planpopshow="bounceInRight";$scope.$root.comparebuypop=true;$scope.$root.scrollhide="scrollhides";$scope.$root.travelfirstpop=false;$scope.$root.travelsecondpop=false;}
$scope.backpop4=function(){if($scope.$root.travelsecondpop==true){$scope.travelProceedBtnLoader=false;$scope.$root.travelfirstpop=true;$scope.$root.travelsecondpop=false;$scope.travelpopSecond="display-none";$scope.travelpopFirst="display-visible";if($scope.userdata!=undefined){if($scope.userdata.length>0){if($scope.userdata[0].Product=="Travel"&&$scope.$root.planpop==false){$scope.$root.backpop=false;}}}}
else if($scope.$root.travelfirstpop==true){$scope.productpop="bounceOut bounceOutLeft";$scope.planpopshow="bounceInRight";$scope.$root.comparebuypop=true;$scope.$root.scrollhide="scrollhides";}}
$scope.closepop=function(){$scope.$root.popupcarpage1=false;$scope.bodyscroll="";$scope.$root.popupcarpage=false
$scope.showchat1=false;$scope.showchatmsg=true;}
$scope.closepopall=function(flag){$scope.showchat1=false;$scope.showchatmsg=true;$scope.showheader=true;if($scope.userdata[0]!=undefined&&$scope.userdata[0].EditFlag==true){}
else{if(flag==2){$scope.$root.comparebuypop=false;$scope.$root.popupbikepage=false;$scope.$root.scrollhide="";if($scope.productpop=="bounceInDown"){$scope.productpop="out fadeOut";}
else{$scope.productpop="bounceInD bounceInDown";}}
else if(flag==3){$scope.$root.comparebuypop=false;$scope.$root.popuphealthpage=false;$scope.$root.scrollhide="";if($scope.productpop=="bounceInDown"){$scope.productpop="out fadeOut";}
else{$scope.productpop="bounceInD bounceInDown";}
$scope.healthsecondpop=false;$scope.healththirdpop=false;$scope.healthfirstpop=true;}
else if(flag==4){$scope.$root.comparebuypop=false;$scope.$root.popuptermpage=false;$scope.$root.scrollhide="";if($scope.productpop=="bounceInDown"){$scope.productpop="out bounceOutDown";}
else{$scope.productpop="bounceInD bounceInDown";}
$scope.termsecondpop=false;$scope.termthirdpop=false;$scope.termfirstpop=true;}
else if(flag==5){$scope.$root.comparebuypop=false;$scope.$root.popupchildpage=false;$scope.$root.scrollhide="";if($scope.productpop=="bounceInDown"){$scope.productpop="out bounceOutDown";}
else{$scope.productpop="bounceInD bounceInDown";}
$scope.childthirdpop=false;$scope.childsecondpop=false;$scope.childfirstpop=true;}
else if(flag==6){$scope.$root.comparebuypop=false;$scope.$root.popupinvestmentpage=false;$scope.$root.scrollhide="";if($scope.productpop=="bounceInDown"){$scope.productpop="out bounceOutDown";}
else{$scope.productpop="bounceInD bounceInDown";}
$scope.investsecondpop=false;$scope.investfirstpop=true;}
else if(flag==7){$scope.$root.comparebuypop=false;$scope.$root.popuppensionpage=false;$scope.$root.scrollhide="";if($scope.productpop=="bounceInDown"){$scope.productpop="out bounceOutDown";}
else{$scope.productpop="bounceInD bounceInDown";}
$scope.pensionsecondpop=false;$scope.pensionfirstpop=true;}
else if(flag==8){$scope.$root.comparebuypop=false;$scope.$root.popuptravelpage=false;$scope.$root.scrollhide="";if($scope.productpop=="bounceInDown"){$scope.productpop="out bounceOutDown";}
else{$scope.productpop="bounceInD bounceInDown";}
$scope.$root.travelfirstpop=true;$scope.$root.travelsecondpop=false;}}}
console.log=function(){}
$scope.maintabform=function(newTab){$scope.showheader=false;if(newTab==1){$scope.$root.popuphealthpage=false;$scope.$root.popuptermpage=false;$scope.$root.popupchildpage=false;$scope.$root.popupinvestmentpage=false;$scope.$root.popuppensionpage=false;$scope.$root.popuptravelpage=false;$scope.$root.popupbikepage=false;$scope.$root.popupcarpage=true;$scope.$root.scrollhide="scrollhides";$scope.$root.closepop=false;$scope.$root.backpop=true;$scope.carpopup=false;$scope.carmaindetails=true;$scope.bikeregno=false;$scope.carregno=true;$scope.cartab="active cartab";$scope.biketab="biketab";$scope.productpop="bounceInRight display-visible";$scope.planpopshow="bounceOut bounceOutLeft";$scope.regerror=false;$scope.regnoerrortext="";}
if(newTab==2){$scope.carformfastlane="";$scope.$root.popuphealthpage=false;$scope.$root.popuptermpage=false;$scope.$root.popupchildpage=false;$scope.$root.popupinvestmentpage=false;$scope.$root.popuppensionpage=false;$scope.$root.popuptravelpage=false;$scope.$root.popupcarpage=false;$scope.$root.popupbikepage=true;$scope.$root.scrollhide="scrollhides";$scope.$root.closepop=false;$scope.$root.backpop=true;$scope.bikepopup=false;$scope.bikemaindetails=true;$scope.carregno=false;$scope.$root.bikeregno=true;$scope.biketab="active biketab";$scope.cartab="cartab";$scope.productpop="bounceInRight display-visible";$scope.planpopshow="bounceOut bounceOutLeft";$scope.regnoerrortext="";$scope.getlinkbikepop();}
else if(newTab==3){$scope.$root.popupcarpage=false;$scope.$root.popupbikepage=false;$scope.$root.popuptermpage=false;$scope.$root.popupchildpage=false;$scope.$root.popupinvestmentpage=false;$scope.$root.popuppensionpage=false;$scope.$root.popuptravelpage=false;$scope.$root.popuphealthpage=true;$scope.$root.scrollhide="scrollhides";$scope.$root.closepop=false;$scope.$root.backpop=true;$scope.productpop="bounceInRight display-visible";$scope.planpopshow="bounceOut bounceOutLeft";}
else if(newTab==4){$scope.$root.popuphealthpage=false;$scope.$root.popupcarpage=false;$scope.$root.popupbikepage=false;$scope.$root.popupchildpage=false;$scope.$root.popupinvestmentpage=false;$scope.$root.popuppensionpage=false;$scope.$root.popuptravelpage=false;$scope.$root.popuptermpage=true;$scope.$root.scrollhide="scrollhides";$scope.$root.closepop=false;$scope.$root.backpop=true;$scope.productpop="bounceInRight display-visible";$scope.planpopshow="bounceOut bounceOutLeft";}
else if(newTab==5){$scope.$root.popuptermpage=false;$scope.$root.popuphealthpage=false;$scope.$root.popupcarpage=false;$scope.$root.popupbikepage=false;$scope.$root.popupinvestmentpage=false;$scope.$root.popuppensionpage=false;$scope.$root.popuptravelpage=false;$scope.$root.popupchildpage=true;$scope.$root.scrollhide="scrollhides";$scope.$root.closepop=false;$scope.$root.backpop=true;$scope.productpop="bounceInRight display-visible";$scope.planpopshow="bounceOut bounceOutLeft";}
else if(newTab==6){$scope.refreshSlider();$scope.annualerror=false;$scope.incomeerror=false;$scope.dateerror=false;$scope.paymenterror=false;$scope.$root.popupchildpage=false;$scope.$root.popuptermpage=false;$scope.$root.popuphealthpage=false;$scope.$root.popupcarpage=false;$scope.$root.popupbikepage=false;$scope.$root.popuppensionpage=false;$scope.$root.popuptravelpage=false;$scope.$root.popupinvestmentpage=true;$scope.payMode=$scope.investincome[1].value;$scope.$root.scrollhide="scrollhides";$scope.$root.closepop=false;$scope.$root.backpop=true;$scope.productpop="bounceInRight display-visible";$scope.planpopshow="bounceOut bounceOutLeft";$scope.selectedincome=$scope.investincome[1].value;}
else if(newTab==7){$scope.annualerror=false;$scope.incomeerror=false;$scope.dateerror=false;$scope.paymenterror=false;$scope.$root.popupchildpage=false;$scope.$root.popuptermpage=false;$scope.$root.popuphealthpage=false;$scope.$root.popupcarpage=false;$scope.$root.popupbikepage=false;$scope.$root.popupinvestmentpage=false;$scope.$root.popuptravelpage=false;$scope.$root.popuppensionpage=true;$scope.$root.scrollhide="scrollhides";$scope.$root.closepop=false;$scope.$root.backpop=true;$scope.productpop="bounceInRight display-visible";$scope.planpopshow="bounceOut bounceOutLeft";$scope.payMode=$scope.investincome[1].value;$scope.annuity='self';}
else if(newTab==8){$scope.$root.popupchildpage=false;$scope.$root.popuptermpage=false;$scope.$root.popuphealthpage=false;$scope.$root.popupcarpage=false;$scope.$root.popupbikepage=false;$scope.$root.popupinvestmentpage=false;$scope.$root.popuppensionpage=false;$scope.$root.popuptravelpage=true;$scope.$root.scrollhide="scrollhides";$scope.$root.travelfirstpop=true;$scope.$root.travelsecondpop=false;$scope.$root.closepop=false;$scope.$root.backpop=true;$scope.productpop="bounceInRight display-visible";$scope.planpopshow="bounceOut bounceOutLeft";$scope.$root.productBox="display-visible";$scope.travelpopFirst="display-visible";if($scope.selectedTravellers!=undefined&&$scope.selectedTravellers!=null){$scope.checkNoOfTravellerError();}}
$scope.mainform_animation="";if($scope.tab<newTab){$scope.mainform_animation="to-animate intro-animate-66";}
else{$scope.mainform_animation="to-animate intro-animate-66";}}
$scope.isSet=function(tabNum){$scope.$root.popupcarpage1=true;$scope.$root.scrollhide="scrollhides";return $scope.tab===tabNum;};$scope.getpensionquote=function(){$scope.wrongotpmsgshow=false;$scope.userOTP=undefined;$scope.errorId="";var productid=6;$scope.dateerror=false;var flag=1;var income=parseInt($scope.txtActualIncome);if($scope.txtActualIncome==''||$scope.txtActualIncome==undefined||isNaN($scope.txtActualIncome)){flag=0;$scope.annualerror=true;}
else{$scope.annualerror=false;}
if($scope.payMode==undefined||$scope.payMode==''){flag=0;$scope.errorId="error-outline";}
if($scope.formdob==undefined||$scope.IGdate==undefined||$scope.IGmonth==undefined||$scope.IGyear==undefined){flag=0;$scope.dateerror=true;}
else{$scope.dateerror=false;}
if($scope.payMode=='M'&&income<850||$scope.payMode=='Y'&&income<10000){flag=0;$scope.annualerror=true;}
else if($scope.payMode=='M'&&income>41666||$scope.payMode=='Y'&&income>500000){flag=0;$scope.annualerror=true;}
else{$scope.annualerror=false;}
if(isNaN(income)){flag=0;$scope.annualerror=true;}
var DateDiff=(ValidationFactory.AgeGroup($scope.IGdate+"-"+$scope.IGmonth+"-"+$scope.IGyear)/ 12);if(DateDiff<18||DateDiff>60){$scope.dateerror=true;flag=0;}
if($scope.userMobile==undefined||$scope.userMobile==null||isNaN($scope.userMobile)==true||$scope.userMobile.toString().length<10||$scope.userMobile.toString().length>10){$scope.mobileerror=true;flag=0;}
if(flag==1){localStorage.maleclass=$scope.maleclass;localStorage.femaleclass=$scope.femaleclass;localStorage.gender=$scope.gender;localStorage.formgender=$scope.formgender;localStorage.IGdate=$scope.IGdate;localStorage.IGmonth=$scope.IGmonth;localStorage.IGyear=$scope.IGyear;localStorage.formdob=$scope.formdob;localStorage.txtActualIncome1=$scope.txtActualIncome;localStorage.payMode=$scope.payMode;localStorage.userMobile=$scope.userMobile;$scope.showbtnpensionloader=true;var currentPage=$location.absUrl();$scope.utm_source="";$scope.utm_campaign="";$scope.utm_term="";$scope.utm_medium="";$scope.insDOB=$scope.IGdate+'-'+$scope.IGmonth+'-'+$scope.IGyear;var today=new Date();if(flag==1){if(currentPage.indexOf("utm_source")!=-1){$scope.utm_source=currentPage.slice(currentPage.indexOf("utm_source=")+11).split("&")[0];}
if(currentPage.indexOf("utm_campaign")!=-1){$scope.utm_campaign=currentPage.slice(currentPage.indexOf("utm_campaign=")+13).split("&")[0];}
if(currentPage.indexOf("utm_term")!=-1){$scope.utm_term=currentPage.slice(currentPage.indexOf("utm_term=")+9).split("&")[0];}
if(currentPage.indexOf("utm_medium")!=-1){$scope.utm_medium=currentPage.slice(currentPage.indexOf("utm_medium=")+11).split("&")[0];}
$scope.nontermdata={"userdetails":{"IGQuoteId":0,"PartnerAgentId":"String content","PartnerLeadId":"String content","RequestType":"String content","Requests":[{"__type":"NonTermRequest:#ServiceEntities","DOBs":[$scope.insDOB],"Features":[{"__type":"BooleanFeature:#ServiceEntities","Name":"ReturnOfPurchasePrice"},{"__type":"BooleanFeature:#ServiceEntities","Name":"LumpSumOnRetirement"}],"Amount":$scope.txtActualIncome+","+$scope.payMode,"MaturityTerm":0,"Gender":$scope.gender,"CityId":3502,"ProductId":6,"MinRisk":0,"MaxRisk":0,"PensionFor":$scope.annuity,"PaymentDuration":$scope.PaymentDuration,"PensionTill":$scope.PensionTill}],"ServiceTimeOut":2147483647,"utmCompaign":$scope.utm_campaign,"utmMedium":$scope.utm_medium,"utmSource":$scope.utm_source,"utmTerm":$scope.utm_term}};var saveRequirementData=CommonService.savePensionRequirementData($scope,globals);var time="3000";var urlservice=globals.ServiceURL+"/QuoteService.svc/web/Save";var ServiceName="QuoteService";$timeout(function(){if($scope.PensionSavetime==0){$scope.TimeOutService(time,urlservice,ServiceName,$scope.products[6].product)
$scope.PensionSavetime=2;}
else{$scope.PensionSavetime=0;}},3000);saveRequirementData.then(function(pl){if($scope.PensionSavetime==2){var timeoutvar=new Date().getTime();var dvar=(timeoutvar-$scope.timeoutarray['saveservice']);$scope.TimeOutService(time,urlservice,ServiceName,$scope.products[6].product,dvar);}
$scope.IGQuoteId=JSON.parse(angular.toJson(pl.data.IGQuoteId));$scope.leadCreationExceedMsg=JSON.parse(angular.toJson(pl.data.Message));$scope.PensionSavetime=1;if($scope.IGQuoteId>0){$scope.otpFn(1,productid);}
else{$scope.showbtnpensionloader=false;}},function(response){ServiceRespnse(response);});}}}
$scope.getinvestquotes=function(){$scope.wrongotpmsgshow=false;$scope.userOTP=undefined;$scope.errorId="";var productid=5;var flag=1;if($scope.formdob==undefined||$scope.IGdate==undefined||$scope.IGmonth==undefined||$scope.IGyear==undefined){flag=0;$scope.dateerror=true;}
else{var d=new Date();var age=(ValidationFactory.AgeGroup($scope.IGdate+"-"+$scope.IGmonth+"-"+$scope.IGyear)/ 12);if(age<18||age>65||age==NaN){$scope.dateerror=true;flag=0;}
else{$scope.dateerror=false;}}
if($scope.nonTermvalidate($scope.txtActualIncome)){flag=0;}
if($scope.userMobile==undefined||$scope.userMobile==null||isNaN($scope.userMobile)==true||$scope.userMobile.toString().length<10||$scope.userMobile.toString().length>10){$scope.mobileerror=true;flag=0;}
if(flag==1){var income=parseInt($scope.txtActualIncome);localStorage.maleclass=$scope.maleclass;localStorage.femaleclass=$scope.femaleclass;localStorage.gender=$scope.gender;localStorage.formgender=$scope.formgender;localStorage.IGdate=$scope.IGdate;localStorage.IGmonth=$scope.IGmonth;localStorage.IGyear=$scope.IGyear;localStorage.formdob=$scope.formdob;localStorage.txtActualIncome1=$scope.txtActualIncome;localStorage.selectedincome1=$scope.selectedincome;$scope.showbtninvestloader=true;localStorage.userMobile=$scope.userMobile;var currentPage=$location.absUrl();$scope.utm_source="";$scope.utm_campaign="";$scope.utm_term="";$scope.utm_medium="";$scope.insDOB=$scope.IGdate+'-'+$scope.IGmonth+'-'+$scope.IGyear;if(currentPage.indexOf("utm_source")!=-1){$scope.utm_source=currentPage.slice(currentPage.indexOf("utm_source=")+11).split("&")[0];}
if(currentPage.indexOf("utm_campaign")!=-1){$scope.utm_campaign=currentPage.slice(currentPage.indexOf("utm_campaign=")+13).split("&")[0];}
if(currentPage.indexOf("utm_term")!=-1){$scope.utm_term=currentPage.slice(currentPage.indexOf("utm_term=")+9).split("&")[0];}
if(currentPage.indexOf("utm_medium")!=-1){$scope.utm_medium=currentPage.slice(currentPage.indexOf("utm_medium=")+11).split("&")[0];}
var data={"userdetails":{"IGQuoteId":0,"PartnerAgentId":"","PartnerLeadId":"","RequestType":"","Requests":[{"__type":"NonTermRequest:#ServiceEntities","DOBs":[$scope.insDOB],"Features":[{"__type":"BooleanFeature:#ServiceEntities","Id":$scope.AllowPartialWithdrawNameAmount,"Name":""},{"__type":"CustomFeature:#ServiceEntities","Id":$scope.TermBenefitAmount,"Name":"","Value":0},{"__type":"CustomFeature:#ServiceEntities","Id":$scope.AccidentalDisabilityAmount,"Name":"","Value":0},{"__type":"CustomFeature:#ServiceEntities","Id":$scope.AccidentalDeathAmount,"Name":"","Value":0},{"__type":"CustomFeature:#ServiceEntities","Id":$scope.CriticalIllnessAmount,"Name":"","Value":0},],"Amount":$scope.txtActualIncome+","+$scope.selectedincome,"MaturityTerm":0,"Gender":$scope.gender,"CityId":3502,"MinRisk":0,"MaxRisk":0,"ProductId":5,"MaturityType":"HistoricalGrowth","PaymentDuration":""}],"ServiceTimeOut":"2147483647","utmCompaign":$scope.utm_campaign,"utmMedium":$scope.utm_medium,"utmSource":$scope.utm_source,"utmTerm":$scope.utm_term}};var resultdata=[];resultdata.push(data);var saveRequirementData=CommonService.saveInvestmentRequirementData($scope,globals);var time="3000";var urlservice=globals.ServiceURL+"/QuoteService.svc/web/Save";var ServiceName="QuoteService";$timeout(function(){if($scope.InvestmentSavetime==0){$scope.TimeOutService(time,urlservice,ServiceName,$scope.products[5].product);$scope.InvestmentSavetime=2;}
else{$scope.InvestmentSavetime=0;}},3000);saveRequirementData.then(function(pl){if($scope.InvestmentSavetime==2){var timeoutvar=new Date().getTime();var dvar=(timeoutvar-$scope.timeoutarray['saveservice']);$scope.TimeOutService(time,urlservice,ServiceName,$scope.products[5].product,dvar);}
$scope.InvestmentSavetime=1;$scope.IGQuoteId=JSON.parse(angular.toJson(pl.data.IGQuoteId));$scope.leadCreationExceedMsg=JSON.parse(angular.toJson(pl.data.Message));if($scope.IGQuoteId>0){$scope.otpFn(1,productid);}
else{$scope.showbtninvestloader=false;}},function(response){ServiceRespnse(response);});$scope.$root.showHome=false;$scope.$root.showmainloader=true;$scope.comparebuypopAnimation="display-none";$scope.$root.showloader=true;$scope.$root.popupbikepage=false;$scope.$root.showLoaderClass="display-visible";$scope.$root.productBox="display-none";$scope.showHeader="hide";$scope.$root.comparebuypop=false;$scope.$root.quotesheader=true;$scope.$root.Hi=true;$scope.$root.firstpageillusion=false;}}
$scope.IGchilddateKey=function(flag,event){if(flag==1&&$scope.IGchilddate!=undefined&&$scope.IGchilddate!=null&&$scope.IGchilddate!=""&&$scope.IGchilddate.length==2){$scope.mm2=true;$scope.usermm01=0;}
else if(flag==2&&$scope.IGchildmonth!=undefined&&$scope.IGchildmonth!=null&&$scope.IGchildmonth!=""&&$scope.IGchildmonth.length==2){$scope.mm3=true;$scope.usermm11=0;}
else if(flag==3&&$scope.IGchildyear!=undefined&&$scope.IGchildyear!=null&&$scope.IGchildyear!=""&&$scope.IGchildyear.length==4){$scope.usermm21=0;}
else if(flag==2&&event.keyCode===8&&$scope.IGchildmonth==undefined){if($scope.usermm11==1){$scope.usermm11=0;$scope.mm1=true;}
else{$scope.usermm11=1;}}
else if(flag==3&&event.keyCode===8&&$scope.IGchildyear==undefined){if($scope.usermm21==1){$scope.usermm21=0;$scope.mm2=true;}
else{$scope.usermm21=1;}}}
$scope.IGdateKey=function(flag,event){if(flag==1&&$scope.IGdate!=undefined&&$scope.IGdate!=null&&$scope.IGdate!=""&&$scope.IGdate.length==2){$scope.dd2=true;$scope.userdd01=0;}
else if(flag==2&&$scope.IGmonth!=undefined&&$scope.IGmonth!=null&&$scope.IGmonth!=""&&$scope.IGmonth.length==2){$scope.dd3=true;$scope.userdd11=0;}
else if(flag==3&&$scope.IGyear!=undefined&&$scope.IGyear!=null&&$scope.IGyear!=""&&$scope.IGyear.length==4){$scope.userdd21=0;}
else if(flag==2&&event.keyCode===8&&$scope.IGmonth==undefined){if($scope.userdd11==1){$scope.userdd11=0;$scope.dd1=true;}
else{$scope.userdd11=1;}}
else if(flag==3&&event.keyCode===8&&$scope.IGyear==undefined){if($scope.userdd21==1){$scope.userdd21=0;$scope.dd2=true;}
else{$scope.userdd21=1;}}}
$scope.otpKey=function(flag,event){if(flag==0&&$scope.userOTP0!=undefined&&$scope.userOTP0!=null&&$scope.userOTP!=""){$scope.OTP1=true;$scope.userOTP01=0;}
else if(flag==1&&$scope.userOTP1!=undefined&&$scope.userOTP1!=null&&$scope.userOTP1!=""){$scope.OTP2=true;$scope.userOTP11=0;}
else if(flag==2&&$scope.userOTP2!=undefined&&$scope.userOTP2!=null&&$scope.userOTP2!=""){$scope.OTP3=true;$scope.userOTP21=0;}
else if(flag==3&&$scope.userOTP3!=undefined&&$scope.userOTP3!=null&&$scope.userOTP3!=""){$scope.userOTP31=0;}
else if(flag==1&&event.keyCode===8&&$scope.userOTP1==undefined){if($scope.userOTP11==1){$scope.userOTP11=0;$scope.OTP0=true;}
else{$scope.userOTP11=1;}}
else if(flag==2&&event.keyCode===8&&$scope.userOTP2==undefined){if($scope.userOTP21==1){$scope.userOTP21=0;$scope.OTP1=true;}
else{$scope.userOTP21=1;}}
else if(flag==3&&event.keyCode===8&&$scope.userOTP3==undefined){if($scope.userOTP31==1){$scope.userOTP31=0;$scope.OTP2=true;}
else{$scope.userOTP31=1;}}}
$scope.otpBack=function(){$scope.showotpbox=false;if($scope.showotpboxbybeenhere==true){$scope.showotpboxbybeenhere=false;$scope.beenHereBtnLoader=false;$scope.getmobileno=true;$interval.cancel($scope.time);}}
$scope.otpFn=function(flag,productId){if(flag==2){$scope.resendFlag=true;}
else{$scope.resendFlag=false;}
$scope.showbtnleadloader=true;if(productId==4||productId==8||productId==9){$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserName="123";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserPassword="123";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserName="123";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserPassword="123";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Products.product[0].productid=productId;$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.Productid=productId;}
else if(productId==3){$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserName="IGTERM2016";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserPassword="IG@TERM@2016";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserName="IGTERM2016";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserPassword="IG@TERM@2016";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Products.product[0].productid=productId;$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.Productid=productId;}
else if(productId==2){$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserName="IGHEALTH2016";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserPassword="IG@HEALTH@2016";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserName="IGHEALTH2016";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserPassword="IG@HEALTH@2016";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Products.product[0].productid=productId;$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.Productid=productId;}
else if(productId==5){$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserName="IGINVT17";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserPassword="IG@INVT@217";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserName="IGINVT17";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserPassword="IG@INVT@217";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Products.product[0].productid=productId;$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.Productid=productId;}
else if(productId==6){$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserName="IGPENSION17";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserPassword="IG@IG@PENSION@17@217";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserName="IGPENSION17";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserPassword="IG@IG@PENSION@17@217";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Products.product[0].productid=productId;$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.Productid=productId;}
else if(productId==7){$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserName="IGCHILD17";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserPassword="IG@INVTIG@CHILD@17217";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserName="IGCHILD17";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserPassword="IG@INVTIG@CHILD@17217";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Products.product[0].productid=productId;$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.Productid=productId;}
else if(productId==1){$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserName="IGTRAVEL";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserPassword="IG@TRAVEL";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserName="IGTRAVEL";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserPassword="IG@TRAVEL";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Products.product[0].productid=productId;$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.Productid=productId;}
else if(productId==9){$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserName="123";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserPassword="123";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserName="123";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserPassword="123";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Products.product[0].productid=productId;$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.Productid=productId;}
$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Visitor.leads.lead[0].leadId=$scope.IGQuoteId;$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Visitor.Name="user";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Visitor.EmailId="2018@xyz.com";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Visitor.MobileNo=$scope.userMobile;var resendFlag=CommonService.SendOTPReboot($scope,globals);resendFlag.then(function(result){console.log(result);var token=result.data.TokenId;$scope.wrongMobile=false;$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.OTPValidation.Tokenid=token;$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.OTPValidation.Mobile=$scope.userMobile;$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Visitor.OriginPageid=0;$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Visitor.IsCallBackRequire="false";$scope.mobileerror=false;$scope.showResend=false;$scope.showbtnleadloader=false;if(result.data.IsVerified==true){$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.Tokenid=token;$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Visitor.MobileNo=$scope.userMobile;$scope.leadcreationfn4(token,0,productId);}
else if(result.data.Message=="success"){$scope.carmaindetails=false;$scope.carpopup=false;$scope.OTP0=true;$scope.showotpbox=true;$scope.btnnootp=false;$scope.showbtnleadloader=false;$location.search("OTP");if(result.data.OTPResendTimer!=undefined&&result.data.OTPResendTimer!=""){var otpResendTimer=result.data.OTPResendTimer*1000;}
else{var otpResendTimer=10000;}
$scope.resendtime=parseInt(result.data.OTPResendTimer);resendTimer();$timeout(function(){$scope.showResend=true;},otpResendTimer);}
else if(result.data.Message=="Proceed to the quotes page without OTP verification"){if(productId==4){$window.location.href=QuotePageURL+"Car?CPID="+btoa($scope.IGQuoteId);}
else if(productId==8){$window.location.href=QuotePageURL+"Twowheeler?CPID="+btoa($scope.IGQuoteId);}
else if(productId==2){$window.location.href=QuotePageURL+"Health?CPID="+btoa($scope.IGQuoteId);}
else if(productId==3){$window.location.href=QuotePageURL+"Term?CPID="+btoa($scope.IGQuoteId);}
else if(productId==9){$window.location.href=QuotePageURL+"Critical?CPID="+btoa($scope.IGQuoteId);}
else if(productId==5){$window.location.href=QuotePageURL+"Investment?CPID="+btoa($scope.IGQuoteId);}
else if(productId==6){$window.location.href=QuotePageURL+"Pension?CPID="+btoa($scope.IGQuoteId);}
else if(productId==7){$window.location.href=QuotePageURL+"Child?CPID="+btoa($scope.IGQuoteId);}
else if(productId==1){$window.location.href=QuotePageURL+"Travel?CPID="+btoa($scope.IGQuoteId);}}
else{$scope.wrongMobile=true;$scope.wrongMobilemsg=result.data.Message;$scope.showbtntravelloader=false;$scope.showbtnhealthloader=false;$scope.showbtntermloader=false;$scope.showbtncarloader=false;$scope.showbtnchildloader=false;$scope.showbtninvestloader=false;$scope.showbtnpensionloader=false;$scope.showbtnbikeloader=false;}},function(response){ServiceRespnse(response);});}
function resendTimer(){$scope.time=$interval(function(){$scope.resendtime=$scope.resendtime-1;if($scope.resendtime<=0){$interval.cancel($scope.time);}},1000);}
$scope.leadcreationfn7=function(productId,flag){$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.OTPValidation.OTP=$scope.userOTP;var response=CommonService.GetMobileVerificationWithOTPRequest2($scope.otpcreaterequestdata);response.then(function(result){console.log(result);result.data=[angular.fromJson(result.data)];$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.Tokenid=result.data[0].data.Token.Tokenid;$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Visitor.MobileNo=$scope.userMobile;if(result.data[0].data.Error.ErrorCode==1){$scope.wrongotpmsg="Enter Correct OTP";$scope.wrongotpmsgshow=true;$scope.showbtnloader=false;$scope.showbtnleadloader=false;$scope.otpcodeerror=true;}
else{$scope.wrongotpmsgshow=false;$scope.leadcreationfn4(result.data,flag,productId);}},function(response){ServiceRespnse(response);});}
$scope.leadcreationfn1=function(flag,productId){if(productId==4||productId==8){$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.UserName="123";$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.UserPassword="123";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserName="123";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserPassword="123";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserName="123";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserPassword="123";$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.Productid=productId;$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Products.product[0].productid=productId;$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.Productid=productId;}
else if(productId==3){$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.UserName="IGTERM2016";$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.UserPassword="IG@TERM@2016";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserName="IGTERM2016";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserPassword="IG@TERM@2016";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserName="IGTERM2016";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserPassword="IG@TERM@2016";$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.Productid=3;$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Products.product[0].productid=3;$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.Productid=3;}
else if(productId==2){$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.UserName="IGHEALTH2016";$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.UserPassword="IG@HEALTH@2016";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserName="IGHEALTH2016";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserPassword="IG@HEALTH@2016";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserName="IGHEALTH2016";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserPassword="IG@HEALTH@2016";$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.Productid=2;$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Products.product[0].productid=2;$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.Productid=2;}
else if(productId==5){$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.UserName="IGINVT17";$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.UserPassword="IG@INVT@217";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserName="IGINVT17";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserPassword="IG@INVT@217";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserName="IGINVT17";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserPassword="IG@INVT@217";$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.Productid=5;$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Products.product[0].productid=5;$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.Productid=5;}
else if(productId==6){$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.UserName="IGPENSION17";$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.UserPassword="IG@IG@PENSION@17@217";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserName="IGPENSION17";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserPassword="IG@IG@PENSION@17@217";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserName="IGPENSION17";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserPassword="IG@IG@PENSION@17@217";$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.Productid=6;$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Products.product[0].productid=6;$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.Productid=6;}
else if(productId==7){$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.UserName="IGCHILD17";$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.UserPassword="IG@INVTIG@CHILD@17217";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserName="IGCHILD17";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserPassword="IG@INVTIG@CHILD@17217";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserName="IGCHILD17";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserPassword="IG@INVTIG@CHILD@17217";$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.Productid=7;$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Products.product[0].productid=7;$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.Productid=7;}
else if(productId==1){$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.UserName="IGTRAVEL";$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.UserPassword="IG@TRAVEL";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserName="IGTRAVEL";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserPassword="IG@TRAVEL";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserName="IGTRAVEL";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserPassword="IG@TRAVEL";$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.Productid=1;$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Products.product[0].productid=1;$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.Productid=1;}
else if(productId==9){$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.UserName="123";$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.UserPassword="123";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserName="123";$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.UserPassword="123";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserName="123";$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.UserPassword="123";$scope.carquotesleadrequest.RequestString.MobileValidationRequest.User.Productid=productId;$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Products.product[0].productid=productId;$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.User.Productid=productId;}
$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Visitor.leads.lead[0].leadId=$scope.IGQuoteId;$scope.carquotesleadrequest.RequestString.MobileValidationRequest.MobileValidation.isOTPRequire="No";$scope.carquotesleadrequest.RequestString.MobileValidationRequest.MobileValidation.Mobile=$scope.userMobile;$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Visitor.MobileNo=$scope.userMobile;var response=CommonService.GetMobileVerificationWithOTPRequest($scope.carquotesleadrequest);response.then(function(result){console.log(result);result.data=[angular.fromJson(result.data)];$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.OTPValidation.Tokenid=result.data[0].data.MobileValidationResponse.Tokenid;$scope.otpcreaterequestdata.RequestString.OTPValidationRequest.OTPValidation.Mobile=$scope.userMobile;$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Visitor.OriginPageid=0;$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.Tokenid=result.data[0].data.MobileValidationResponse.Tokenid;$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Visitor.IsCallBackRequire="false";if(result.data[0].data.MobileValidationResponse.Meassage=="OK"&&result.data[0].data.MobileValidationResponse.Valid=="Yes"){$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.User.Tokenid=result.data[0].data.MobileValidationResponse.Tokenid;$scope.leadcreaterequestdata.RequestString.LeadCreateRequest.Visitor.MobileNo=$scope.userMobile;$scope.leadcreationfn4($scope.leadcreaterequestdata,flag,productId);}
else{$scope.leadcreationfn4($scope.leadcreaterequestdata,flag,productId);}});}
$scope.leadcreationfn4=function(value,flag,productId){var response=CommonService.GetMobileVerificationWithOTPRequest1($scope.leadcreaterequestdata);response.then(function(result){console.log(result);result.data=[angular.fromJson(result.data)];if(result.data[0].data.Error.ErrorCode=="0"){if(productId==4){$window.location.href=QuotePageURL+"Car?CPID="+btoa($scope.IGQuoteId);}
else if(productId==8){$window.location.href=QuotePageURL+"Twowheeler?CPID="+btoa($scope.IGQuoteId);}
else if(productId==2){$window.location.href=QuotePageURL+"Health?CPID="+btoa($scope.IGQuoteId);}
else if(productId==3){$window.location.href=QuotePageURL+"Term?CPID="+btoa($scope.IGQuoteId);}
else if(productId==9){$window.location.href=QuotePageURL+"Critical?CPID="+btoa($scope.IGQuoteId);}
else if(productId==5){$window.location.href=QuotePageURL+"Investment?CPID="+btoa($scope.IGQuoteId);}
else if(productId==6){$window.location.href=QuotePageURL+"Pension?CPID="+btoa($scope.IGQuoteId);}
else if(productId==7){$window.location.href=QuotePageURL+"Child?CPID="+btoa($scope.IGQuoteId);}
else if(productId==1){$window.location.href=QuotePageURL+"Travel?CPID="+btoa($scope.IGQuoteId);}}},function(response){ServiceRespnse(response);});}
$scope.refreshSlider=function(){$timeout(function(){$scope.$broadcast('rzSliderForceRender');});}
$scope.calculateAgeInYear=function(insDOB,childDOB){var date1=new Date(insDOB);var date2=new Date(childDOB);var diffDays=parseInt((date2-date1)/(1000*60*60*24)/ 365);return Math.abs(diffDays);}
$scope.getchildquotes=function(){$scope.wrongotpmsgshow=false;$scope.userOTP=undefined;var flag=1;var productid=7;$scope.nonTermvalidate($scope.selectedincome,'child');if($scope.incomeerror==true){flag=0;}
if($scope.formdob==undefined||$scope.IGdate==undefined||$scope.IGmonth==undefined||$scope.IGyear==undefined){flag=0;$scope.DobMessage="Parent's age should be (Min. 18 yrs & Max. 65 yrs)";$scope.dateerror=true;}
else{$scope.dateerror=false;}
if($scope.IGchilddate==undefined||$scope.IGchildmonth==undefined||$scope.IGchildyear==undefined){flag=0;$scope.datechilderror=true;}
else{$scope.datechilderror=false;}
var ParentAge=parseInt((ValidationFactory.AgeGroup($scope.IGdate+"-"+$scope.IGmonth+"-"+$scope.IGyear)/ 12).toFixed(0));var ChildAge=parseInt((ValidationFactory.AgeGroup($scope.IGchilddate+"-"+$scope.IGchildmonth+"-"+$scope.IGchildyear)/ 12).toFixed(0));if(ParentAge<18||isNaN(ParentAge)||ParentAge>65){$scope.DobMessage="Parent's age should be (Min. 18 yrs & Max. 65 yrs)";$scope.dateerror=true;flag=0;}
else{$scope.dateerror=false;}
if(ChildAge>17||isNaN(ChildAge)){$scope.datechilderror=true;flag=0;}
else{$scope.datechilderror=false;}
var AgeDiff=ParentAge-ChildAge;if(isNaN(AgeDiff)){$scope.age=0;}
if($scope.age>=18&&$scope.age<=65){if(AgeDiff<18){$scope.DobMessage="Parent's & child age difference should be 18 yrs";$scope.dateerror=true;flag=0;}
else{$scope.dateerror=false;}}
else{$scope.DobMessage="Parent's age should be (Min. 18 yrs & Max. 65 yrs)";$scope.dateerror=true;flag=0;}
if(isNaN(ChildAge)){$scope.dateerror=false;if(isNaN(ParentAge)){$scope.dateerror=true;}}
if($scope.IGyear!=undefined){if($scope.IGyear.length<4){$scope.DobMessage="Parent's age should be (Min. 18 yrs & Max. 65 yrs)";$scope.dateerror=true;flag=0;}}
if($scope.checkchilddate==1||$scope.checkchilddate==undefined){flag=0;$scope.datechilderror=true;}
else{$scope.datechilderror=false;}
if($scope.userMobile==undefined||$scope.userMobile==null||isNaN($scope.userMobile)==true||$scope.userMobile.toString().length<10||$scope.userMobile.toString().length>10){$scope.mobileerror=true;flag=0;}
if(flag==1){localStorage.maleclass=$scope.maleclass;localStorage.femaleclass=$scope.femaleclass;localStorage.gender=$scope.gender;localStorage.IGdate=$scope.IGdate;localStorage.IGmonth=$scope.IGmonth;localStorage.IGyear=$scope.IGyear;localStorage.IGchilddate=$scope.IGchilddate;localStorage.IGchildmonth=$scope.IGchildmonth;localStorage.IGchildyear=$scope.IGchildyear;localStorage.formchilddob=$scope.formchilddob
localStorage.selectedincome=$scope.selectedincome;localStorage.childincometype=$scope.childincometype;localStorage.formdob=$scope.formdob;$scope.showbtnchildloader=true;localStorage.userMobile=$scope.userMobile;$scope.insurerDOB=$scope.IGdate+"-"+$scope.IGmonth+"-"+$scope.IGyear;$scope.childDOB=$scope.IGchilddate+"-"+$scope.IGchildmonth+"-"+$scope.IGchildyear;var currentPage=$location.absUrl();$scope.utm_source="";$scope.utm_campaign="";$scope.utm_term="";$scope.utm_medium="";$scope.DOBs=[];$scope.DOBs.push($scope.insurerDOB);$scope.DOBs.push($scope.childDOB);if(currentPage.indexOf("utm_source")!=-1){$scope.utm_source=currentPage.slice(currentPage.indexOf("utm_source=")+11).split("&")[0];}
if(currentPage.indexOf("utm_campaign")!=-1){$scope.utm_campaign=currentPage.slice(currentPage.indexOf("utm_campaign=")+13).split("&")[0];}
if(currentPage.indexOf("utm_term")!=-1){$scope.utm_term=currentPage.slice(currentPage.indexOf("utm_term=")+9).split("&")[0];}
if(currentPage.indexOf("utm_medium")!=-1){$scope.utm_medium=currentPage.slice(currentPage.indexOf("utm_medium=")+11).split("&")[0];}
var data={"userdetails":{"IGQuoteId":0,"PartnerAgentId":"","PartnerLeadId":"","RequestType":"","Requests":[{"__type":"NonTermRequest:#ServiceEntities","DOBs":[$scope.DOBs],"Features":[{"__type":"BooleanFeature:#ServiceEntities","Id":$scope.AllowPartialWithdrawNameAmount,"Name":""},{"__type":"CustomFeature:#ServiceEntities","Id":$scope.AllowPartialWithdrawNameAmount,"Name":"","Value":0},],"Amount":$scope.txtActualIncome+","+$scope.selectedincome,"MaturityTerm":0,"Gender":$scope.gender,"MinRisk":1,"MaxRisk":5,"ProductId":7,"MaturityType":"HistoricalGrowth","PaymentDuration":""}],"ServiceTimeOut":"2147483647","utmCompaign":$scope.utm_campaign,"utmMedium":$scope.utm_medium,"utmSource":$scope.utm_source,"utmTerm":$scope.utm_term}};$scope.ChildDetails.push({Gender:$scope.formgender,annualIncome:$scope.selectedincome,insDOB:$scope.insurerDOB,ChildDOB:$scope.childDOB,ActualIncome:$scope.txtActualIncome,income:$scope.selectedincome});$scope.$root.showTopHeading=false;$scope.$root.showLogos=false;$scope.$root.showHome=false;$scope.showHeader="hide";$scope.comparebuypopAnimation="display-none";$scope.$root.showloader=true;var resultdata=[];resultdata.push(data);var saveRequirementData=CommonService.saveChildRequirementData($scope,globals);var time="3000";var urlservice=globals.ServiceURL+"/QuoteService.svc/web/Save";var ServiceName="QuoteService";$timeout(function(){if($scope.ChildSavetime==0){$scope.TimeOutService(time,urlservice,ServiceName,$scope.products[4].product);$scope.ChildSavetime=2;}
else{$scope.ChildSavetime=0;}},3000);saveRequirementData.then(function(pl){if($scope.ChildSavetime==2){var timeoutvar=new Date().getTime();var dvar=(timeoutvar-$scope.timeoutarray['saveservice']);$scope.TimeOutService(time,urlservice,ServiceName,$scope.products[4].product,dvar);}
$scope.ChildSavetime=1;$scope.IGQuoteId=JSON.parse(angular.toJson(pl.data.IGQuoteId));$scope.leadCreationExceedMsg=JSON.parse(angular.toJson(pl.data.Message));if($scope.IGQuoteId>0){$scope.otpFn(1,productid);}
else{$scope.showbtnchildloader=false;}},function(response){ServiceRespnse(response);});}}
$scope.getbikequotespop=function(){$scope.wrongotpmsgshow=false;$scope.userOTP=undefined;var productid=8;if($scope.newcarshow==false){$scope.bikereg=$scope.date.getFullYear();$scope.bikelastclaim="Yes~0";$scope.bikeexpiredpol=0;}
var flag=1;if($scope.selectedbikemmv==null){flag=0;$scope.biketexterror=true;}
else{$scope.biketexterror=false;}
if($scope.selectedbikerto==null){flag=0;$scope.bikertoerror=true;}
else{$scope.bikertoerror=false;}
if($scope.bikereg==undefined){flag=0;$scope.popbikeregerror=true;}
else{$scope.popbikeregerror=false;}
if($scope.bikeexpiredpol==undefined){flag=0;$scope.popbikepolexperror=true;}
else{$scope.popbikepolexperror=false;}
if($scope.bikelastclaim==undefined&&$scope.bikeexpiredpol!=91){flag=0;$scope.popbikelastclaimerror=true;}
else{$scope.popbikelastclaimerror=false;}
if($scope.userMobile==undefined||$scope.userMobile==null||isNaN($scope.userMobile)==true||$scope.userMobile.toString().length<10||$scope.userMobile.toString().length>10){$scope.mobileerror=true;flag=0;}
if(flag==1){localStorage.selectedbikemmv=$scope.selectedbikemmv;localStorage.selectedbikerto=$scope.selectedbikerto;localStorage.bikereg=$scope.bikereg;localStorage.bikeregnumber=$scope.bikeregnumber;localStorage.bikeexpiredpol=$scope.bikeexpiredpol;localStorage.selectedbikemakepop=$scope.selectedbikemakepop;localStorage.selectedbikertopop=$scope.selectedbikertopop;localStorage.ClaimTaken=$scope.ClaimTaken;localStorage.ClaimedNCB=$scope.ClaimedNCB;localStorage.RequiredNCB=$scope.RequiredNCB;localStorage.userMobile=$scope.userMobile;localStorage.bikelastclaim=$scope.bikelastclaim;$scope.showbtnbikeloader=true;$scope.carclaim=$scope.bikelastclaim;$scope.carreg=$scope.bikereg;$scope.ncblogic();$scope.$root.scrollhide="whitebg";var data={"userdetails":{"UtmSource":$scope.UtmSource,"UtmCompaign":$scope.utmCompaign,"UtmTerm":$scope.utmTerm,"UtmMedium":$scope.utmMedium,"RegistrationNo":$scope.bikeregnumber,"VechileDetails":$scope.selectedbikemmv,"BikeExpiredpol":$scope.bikeexpiredpol,"ProductName":"Bike","CityList":$scope.selectedbikerto,"ClaimPercent":$scope.bikelastclaim,"RegYear":$scope.bikereg,"EngineNo":$scope.bikeengineno,"ChasisNo":$scope.bikechasisno,"UserName":$scope.username,"UserMobile":$scope.usermobile,"UserEmail":$scope.useremail}};console.log(data);var resultdata=[];resultdata.push(data);var saveRequirementData=CommonService.saveBikeRequirementData($scope,globals);var time="3000";var urlservice=globals.ServiceURL+"/QuoteService.svc/web/Save";var ServiceName="QuoteService";$timeout(function(){if($scope.BikeSavetime==0){$scope.TimeOutService(time,urlservice,ServiceName,$scope.products[1].product);$scope.BikeSavetime=2;}
else{$scope.BikeSavetime=0;}},3000);saveRequirementData.then(function(pl){if($scope.BikeSavetime==2){var timeoutvar=new Date().getTime();var dvar=(timeoutvar-$scope.timeoutarray['saveservice']);$scope.TimeOutService(time,urlservice,ServiceName,$scope.products[1].product,dvar);}
$scope.BikeSavetime=1;$scope.IGQuoteId=JSON.parse(angular.toJson(pl.data.IGQuoteId));$scope.leadCreationExceedMsg=JSON.parse(angular.toJson(pl.data.Message));if($scope.IGQuoteId>0){$scope.otpFn(1,productid);}
else{$scope.showbtnbikeloader=false;}},function(response){ServiceRespnse(response);});}}
$scope.gethealthquotespop=function(id){$scope.wrongotpmsgshow=false;$scope.userOTP=undefined;var flag=1;var productid=2;if(id==-1&&!$scope.deductmodel){flag=0;$scope.deducterror=true;}
else{$scope.deducterror=false;}
if(!$scope.selectedItem2){flag=0;$scope.cityerror=true;}
else{$scope.cityerror=false;}
if(parseInt($scope.selectedadult)>2||$scope.selectedadult==undefined||parseInt($scope.selectedadult)==0){flag=0;$scope.adulterror=true;$scope.adulterrortext="No of Adult 1 or 2";}
else{$scope.adulterror=false;$scope.adulterrortext="";}
if(parseInt($scope.selectedchild)>4||$scope.selectedchild==undefined||$scope.selectedchild===''){flag=0;$scope.childerror=true;}
else{$scope.childerror=false;}
if($scope.formdob==undefined||$scope.IGdate==undefined||$scope.IGmonth==undefined||$scope.IGyear==undefined){flag=0;$scope.dateerror=true;}
else{$scope.dateerror=false;}
if($scope.userMobile==undefined||$scope.userMobile==null||isNaN($scope.userMobile)==true||$scope.userMobile.toString().length<10||$scope.userMobile.toString().length>10){$scope.mobileerror=true;flag=0;}
if(flag==1){$scope.showbtnhealthloader=true;$scope.$root.scrollhide="whitebg";localStorage.formdob=$scope.formdob;localStorage.gender=$scope.gender;localStorage.selectedadult=$scope.selectedadult;localStorage.selectedchild=$scope.selectedchild;localStorage.selectedcitynampop=$scope.selectedcitynampop;localStorage.IGdate=$scope.IGdate;localStorage.IGmonth=$scope.IGmonth;localStorage.IGyear=$scope.IGyear;localStorage.maleclass=$scope.maleclass;localStorage.femaleclass=$scope.femaleclass;localStorage.userMobile=$scope.userMobile;$scope.formdob1=$scope.IGyear+'-'+$scope.IGmonth+'-'+$scope.IGdate;var currentPage=$location.absUrl();$scope.utm_source="";$scope.utm_campaign="";$scope.utm_term="";$scope.utm_medium="";if(currentPage.indexOf("utm_source")!=-1){$scope.utm_source=currentPage.slice(currentPage.indexOf("utm_source=")+11).split("&")[0];}
if(currentPage.indexOf("utm_campaign")!=-1){$scope.utm_campaign=currentPage.slice(currentPage.indexOf("utm_campaign=")+13).split("&")[0];}
if(currentPage.indexOf("utm_term")!=-1){$scope.utm_term=currentPage.slice(currentPage.indexOf("utm_term=")+9).split("&")[0];}
if(currentPage.indexOf("utm_medium")!=-1){$scope.utm_medium=currentPage.slice(currentPage.indexOf("utm_medium=")+11).split("&")[0];}
if(flag==1){var data={"userdetails":{"Adult":parseInt($scope.selectedadult),"Child":parseInt($scope.selectedchild),"Gender":$scope.gender,"Birthdate":$scope.formdob,"Citylist":$scope.selectedItem2,"Product":"Health","Username":$scope.username,"Usermobile":$scope.usermobile,"Useremail":$scope.useremail,"UtmSource":$scope.utm_source,"UtmCampaign":$scope.utm_campaign,"UtmTerm":$scope.utm_term,"UtmMedium":$scope.utm_medium}};var resultdata=[];resultdata.push(data);if(id==-1){var saveRequirementData=CommonService.saveHealthRequirementDataEnhance($scope,globals);}
else{var saveRequirementData=CommonService.saveHealthRequirementData($scope,globals);}
saveRequirementData.then(function(pl){$scope.IGQuoteId=JSON.parse(angular.toJson(pl.data.IGQuoteId));$scope.leadCreationExceedMsg=JSON.parse(angular.toJson(pl.data.Message));if($scope.IGQuoteId>0){$scope.otpFn(1,productid);}
else{$scope.showbtnhealthloader=false;}},function(response){ServiceRespnse(response);});}}}
$scope.getquotespop1=function(flag1){if($scope.carNo.registrationNo!=undefined&&$scope.patternFails!=true&&($scope.claimtaken!=undefined||$scope.carbreakingexp==1)){$scope.carProceedBtnLoader=true;if($scope.selectedItem!=null){$scope.lastclaimtaken=$scope.lastclaimlist;$scope.lastclaimtaken1=$scope.lastclaimlist;$scope.carpopncbtag="NCB % in your existing policy?";if($scope.claimtaken=="No~50"){$scope.showcarncb=true;var ncbyear=$scope.year-$scope.yearOfRegistration;if(ncbyear>=6){ncbyear=6;$scope.carrequiredncb=$scope.lastclaimlist[ncbyear-1].value.split("~")[1];}
else{$scope.carrequiredncb=$scope.lastclaimlist[ncbyear].value.split("~")[1];}
$scope.carclaim=$scope.lastclaimlist[ncbyear-1].value;$scope.carclaimtext=$scope.lastclaimlist[ncbyear-1].text;$scope.carclaimedncb=$scope.lastclaimlist[ncbyear-1].value.split("~")[1];}
else if($scope.claimtaken=="Yes~0"){$scope.carclaim=$scope.lastclaimlist[0].value;$scope.carclaimtext=$scope.lastclaimlist[0].text;$scope.carclaimedncb=$scope.lastclaimlist[0].value.split("~")[1];$scope.carrequiredncb=$scope.lastclaimlist[0].value.split("~")[1];$scope.showcarncb=false;}
else if($scope.claimtaken=="No~20"){$scope.showcarncb=true;$scope.carclaim=$scope.lastclaimlist[0].value;$scope.carclaimtext=$scope.lastclaimlist[0].text;$scope.carclaimedncb=$scope.lastclaimlist[0].value.split("~")[1];$scope.carrequiredncb=$scope.lastclaimlist[1].value.split("~")[1];}
else if($scope.claimtaken=="No~25"){$scope.showcarncb=true;$scope.carclaim=$scope.lastclaimlist[1].value;$scope.carclaimtext=$scope.lastclaimlist[1].text;$scope.carclaimedncb=$scope.lastclaimlist[1].value.split("~")[1];$scope.carrequiredncb=$scope.lastclaimlist[2].value.split("~")[1];}
else if($scope.claimtaken=="No~35"){$scope.showcarncb=true;$scope.carclaim=$scope.lastclaimlist[2].value;$scope.carclaimtext=$scope.lastclaimlist[2].text;$scope.carclaimedncb=$scope.lastclaimlist[2].value.split("~")[1];$scope.carrequiredncb=$scope.lastclaimlist[3].value.split("~")[1];}
else if($scope.claimtaken=="No~45"){$scope.showcarncb=true;$scope.carclaim=$scope.lastclaimlist[3].value;$scope.carclaimtext=$scope.lastclaimlist[3].text;$scope.carclaimedncb=$scope.lastclaimlist[3].value.split("~")[1];$scope.carrequiredncb=$scope.lastclaimlist[4].value.split("~")[1];}
$scope.forcarwidgetpercent=$scope.carclaim;if($scope.forcarwidgetpercent=="Yes~0"&&$scope.claimtaken=="No~50"){$scope.forcarwidgetpercent="No~0"}}
if($scope.carbreakingexp==1){$scope.carrequiredncb=0;$scope.carclaimedncb=0;$scope.showcarncb=false;$scope.$root.showcarncb=false;$scope.ClaimTaken=true;$scope.carclaimedncb=0;}
else{$scope.ClaimTaken=angular.lowercase($scope.claimtaken.split("~")[0].trim())=="no"?"false":"true";}
$scope.carpopheadline="Please Confirm your";$scope.showrtocity=false;$scope.showrtofield=false;$scope.maincarpage=false;$scope.carpolicyexpdropdown=false;$scope.ncbdisabled=false;;$scope.carpopncbtag="NCB % in your existing policy?";$scope.regerror=false;$scope.byreg=true;$scope.carerror=false;$scope.cityerror=false;$scope.popcarregerror=false;$scope.popcarclaimerror=false;$scope.popcarcnglpgerror=false;$scope.popcarcnglpgvalueerror=false;$scope.carpopup=true;$scope.carmaindetails=false;if(flag1==undefined){$scope.$root.popupcarpage=true;}
else{$scope.getlinkpop();}}
else{if($scope.patternFails==true||$scope.regerror==true){$scope.carpopup=false;$scope.carmaindetails=true;flag=1;}}
$scope.carProceedBtnLoader=false;}
$scope.getquotespop=function(flag1){var flag=0;$scope.showrtiomobile=false;if($scope.fastlanenohit==true){$scope.getlinkpop();}
if($scope.carNo.registrationNo==undefined||$scope.patternFails==true){$scope.patternFails=true;$scope.regnoerrortext="Enter correct car registration no.";flag=1;}
else{$scope.patternFails=false;$scope.regnoerrortext="";}
if($scope.claimtaken==undefined&&($scope.carbreakingexp!=1||$scope.carbreaking==1)){$scope.regerror=true;flag=1;}
else{$scope.regerror=false;}
var hit=0;if(flag==0&&$scope.carNo.registrationNo!=undefined&&$scope.patternFails!=true&&($scope.claimtaken!=undefined||$scope.carbreakingexp==1)){if($scope.fastlaneresult!=undefined){hit=1;$scope.fastlaneresult=undefined;$scope.getquotespop1();}
else{$scope.carProceedBtnLoader=true;$timeout(function(){if($scope.fastlaneresult!=undefined){hit=1;$scope.fastlaneresult=undefined;$scope.getquotespop1();}
else{$scope.carProceedBtnLoader=false;if($scope.carNo.registrationNo!=undefined&&$scope.patternFails!=true&&($scope.claimtaken!=undefined||$scope.carbreakingexp==1)){$scope.getlinkpop();}}},3000);}}}
$scope.getformbikequotespop=function(flag1){var flag=0;var flag1=0;$scope.showrtiomobile=false;$scope.showrtocity=false;$scope.bikeProceedBtnLoader=true;if($scope.bikeNo.registrationNo==undefined||$scope.patternFails1==true){$scope.patternFails1=true;$scope.regnoerrortext="Enter correct bike registration no.";flag=1}else{$scope.patternFails1=false;$scope.regnoerrortext=""}
if($scope.bikeNo.registrationNo!=undefined&&$scope.patternFails1!=true&&$scope.bikeexpiredpol!=undefined&&$scope.bikenoresult==false){$scope.showbikepolicyexpired=false;$scope.$root.popupbikepage=true;$scope.bikepopup=true;$scope.bikemaindetails=false;$scope.biketexterror=false;$scope.bikertoerror=false;$scope.showrtocity=false;$scope.popbikeregerror=false;$scope.popbikepolexperror=false;$scope.popbikelastclaimerror=false;$scope.bikeProceedBtnLoader=false;var flag1=1}else{if($scope.patternFails1==true||$scope.popbikelastclaimerror==true){$scope.bikepopup=false;$scope.bikemaindetails=true;$scope.bikeProceedBtnLoader=false;flag=1}}
$timeout(function(){if($scope.bikenoresult==true&&$scope.bikepopup!=true&&flag==0){$scope.showrtocity=true;$scope.bikeProceedBtnLoader=false;$scope.getbikepopup()}else if($scope.bikenoresult==false&&flag1==0&&flag==0){$scope.showbikepolicyexpired=false;$scope.$root.popupbikepage=true;$scope.bikepopup=true;$scope.bikemaindetails=false;$scope.biketexterror=false;$scope.bikertoerror=false;$scope.showrtocity=false;$scope.popbikeregerror=false;$scope.popbikepolexperror=false;$scope.popbikelastclaimerror=false;$scope.bikeProceedBtnLoader=false;}},3000)}
$scope.backtotravel=function(){$scope.travelProceedBtnLoader=false;$scope.$root.travelfirstpop=true;$scope.$root.travelsecondpop=false;$scope.travelpopFirst="display-visible";}
$scope.backtocar=function(){$scope.carProceedBtnLoader=false;$scope.carpopup=false;$scope.carmaindetails=true;$location.search("NotRegistrationNo",null);window.history.back();}
$scope.getcarpopup=function(){$scope.carpopup=true;$scope.carmaindetails=false;}
$scope.getcarlink=function(flag){$scope.ncbdirectlist=[];$scope.showmobileheader=false;$scope.carpopup=true;$scope.carmaindetails=false;for(i=0;i<$scope.regyear.length;i++){$scope.ncbdirectlist.push($scope.regyear[i]);}
$scope.carpopheadline="Please Enter Your";$scope.carpopncbtag="Last Claim Taken";if(flag!=false){$scope.showheader=false;$scope.showrtocity=true;$scope.maincarpage=true;$scope.ncbdisabled=true;$scope.$root.popupcarpage=true;$scope.$root.scrollhide="scrollhides";$scope.showchat=false;$scope.showchat1=true;$scope.showchatmsg=false;$scope.showcarncb=true;}
$scope.lastclaimtaken=$scope.ncbdirectlist;$scope.bodyscroll="noscroll";$scope.byreg=false;}
$scope.getlinkpop=function(flag){$scope.popupformob=false;$scope.ncbdirectlist=[];$scope.carclaim=$scope.claimtaken;for(i=0;i<$scope.regyear.length;i++){$scope.ncbdirectlist.push($scope.regyear[i]);}
$scope.carpopheadline="Please Enter Your";$scope.carpopncbtag="Last Claim Taken";$scope.carpopup=true;$scope.carerror=false;$scope.cityerror=false;$scope.carpolicyexpdropdown=true;$scope.popcarregerror=false;$scope.popcarclaimerror=false;$scope.popcarcnglpgerror=false;$scope.popcarcnglpgvalueerror=false;$scope.carregnumber=undefined;$scope.carengineno=undefined;$scope.carchasisno=undefined;$scope.carmaindetails=false;$location.search("NotRegistrationNo");$scope.newcarSearch=false;if(flag=='new'){$scope.newcarshow=false;$scope.newcarSearch=true;$location.search("NewCar");}
else{$scope.newcarshow=true;if($scope.carreg==2019){$scope.carreg=undefined;}}
$scope.$root.backpop=true;$scope.showrtocity=true;$scope.showrtiomobile=true;if(flag!=false){$scope.showheader=false;$scope.showrtocity=true;$scope.maincarpage=true;$scope.ncbdisabled=true;$scope.$root.popupcarpage=true;$scope.showchat=false;$scope.showchat1=true;$scope.showchatmsg=false;$scope.showcarncb=true;}
$scope.lastclaimtaken=$scope.ncbdirectlist;$scope.lastclaimtaken1=$scope.ncbdirectlist;$scope.bodyscroll="noscroll";$scope.byreg=false;$scope.carpopup=true;$scope.carmaindetails=false;$scope.checkcarbreaking(2);}
$scope.backtobike=function(){$scope.bikeProceedBtnLoader=false;$scope.bikepopup=false;$scope.bikemaindetails=true;$location.search("NoRegistrationNo",null);window.history.back();}
$scope.getbikelink=function(){$scope.showbikepolicyexpired=true;$scope.$root.popupbikepage=true;$scope.$root.scrollhide="scrollhides";$scope.bikepopup=true;}
$scope.getbikepopup=function(flag){$scope.bikepopup=true;$scope.bikenoresult=true;$scope.bikeregnumber=undefined;$scope.bikeengineno=undefined;$scope.bikechasisno=undefined;$scope.bikemaindetails=false;$scope.$root.backpop=true;$scope.biketexterror=false;$scope.bikertoerror=false;$scope.showrtocity=true;$scope.showrtiomobile=true;$scope.popbikeregerror=false;$scope.popbikepolexperror=false;$scope.popbikelastclaimerror=false;$scope.newcarSearch=false;if(flag=='new'){$scope.newcarshow=false;$scope.newcarSearch=true;$location.search("NewBike");}
else{$scope.newcarshow=true;$location.search("NoRegistrationNo");}}
$scope.closereferpop=function(){$scope.showrefferedpop=false;}
$scope.checkadult=function(flag){$scope.selectedadult=flag;if(flag==1){$scope.a1class="lmbutton activebt";$scope.a2class="lmbutton";}
else if(flag==2){$scope.a1class="lmbutton ";$scope.a2class="lmbutton activebt";}
if($scope.selectedadult>1){$scope.showadultmess=true;}
else{if($scope.selectedchild<1&&$scope.selectedadult==1)
$scope.showadultmess=false;}}
$scope.checkchild=function(flag){$scope.selectedchild=flag;$scope.chclass=["childbt ","childbt","childbt","childbt","childbt"];$scope.chclass[flag]=$scope.chclass[flag]+" activebt";if($scope.selectedchild>0){$scope.showadultmess=true;}
else{if($scope.selectedchild<1&&$scope.selectedadult==1)
$scope.showadultmess=false;}}
$scope.init=function(){$scope.leadCreationExceedMsg=null;$scope.webURL=$location.absUrl();$scope.hideepbar=true;$scope.timeoutarray=[];if($scope.webURL.indexOf("enhance")!=-1&&$scope.webURL.indexOf("health")!=-1){ga('send','event',{eventCategory:'Super Top Up Landing Page ',eventAction:'Click',eventLabel:'Page Init'});}
$scope.deductamount=[{value:200000,text:"2 Lac"},{value:300000,text:"3 Lac"},{value:400000,text:"4 Lac"},{value:500000,text:"5 Lac"},{value:600000,text:"6 Lac"},{value:700000,text:"7 Lac"},{value:800000,text:"8 Lac"},{value:900000,text:"9 Lac"},{value:1000000,text:"10 Lac"}]
$scope.newcarshow=true;if(window.innerWidth>=850){$scope.apidevice="Desktop";}else{$scope.apidevice="Mobile";}
var currentURL=$location.absUrl();if(currentURL.indexOf("dev.indiacover360.com")!=-1){globals.RedirectURL="https://dev.indiacover360.com/Application/";globals.ServiceURL="https://api.indiacover360.com";globals.IGwServiceURL="https://api.indiacover360.com";globals.UIURL="https://dev.indiacover360.com/HomePage";globals.landingPage="https://dev.indiacover360.com";globals.mainPage="https://dev.indiacover360.com/Application/?CPID=";}
else if(currentURL.indexOf("qa.indiacover360.com")!=-1){globals.RedirectURL="https://qa.indiacover360.com/Application/";globals.ServiceURL="https://apiqa.indiacover360.com";globals.IGwServiceURL="https://apiqa.indiacover360.com";globals.UIURL="https://qa.indiacover360.com/HomePage";globals.landingPage="https://qa.indiacover360.com";globals.mainPage="https://qa.indiacover360.com/Application/?CPID=";}
else if(currentURL.indexOf("insurejoy.com")!=-1){globals.RedirectURL="https://www.insurejoy.com/Application/";globals.ServiceURL="https://api.insurejoy.com";globals.IGwServiceURL="https://api.insurejoy.com";globals.UIURL="https://www.insurejoy.com/HomePage";globals.landingPage="https://www.insurejoy.com";globals.mainPage="https://www.insurejoy.com/Application/?CPID=";}
else{globals.RedirectURL="http://localhost:58324/Application/";globals.ServiceURL="https://apiqa.indiacover360.com";globals.IGwServiceURL="https://apiqa.indiacover360.com";globals.UIURL="http://localhost:58324/HomePage";globals.landingPage="http://localhost:58324";globals.mainPage="http://localhost:58324/Application/?CPID=";}
$scope.templateheader=$sce.trustAsResourceUrl(globals.landingPage+"/header.html");$scope.templatefooter=$sce.trustAsResourceUrl(globals.landingPage+"/footer.html");QuotePageURL=globals.RedirectURL;$scope.homePageUrl=globals.landingPage;$scope.$root.carfuelcontainervalue=false;$scope.$root.entercngkitvalue=0;$scope.$root.showmainloader=false;var sourcevia=document.referrer;if($scope.webURL.indexOf("enhance")!=-1&&$scope.webURL.indexOf("health")!=-1){if(sourcevia.indexOf("google")!=-1||sourcevia.indexOf("yahoo")!=-1||sourcevia.indexOf("bing")!=-1){$scope.utmsourcedata="organic";$scope.utmcampaigndata="organic";}}
$scope.userMobile=localStorage.userMobile;if(currentURL.indexOf("car")!=-1||currentURL.indexOf("Car")!=-1){$scope.product="Car";$scope.carrequiredncb=localStorage.carrequiredncb;$scope.carchasisno=localStorage.carchasisno;$scope.carengineno=localStorage.carengineno;}
else if(currentURL.indexOf("two-wheeler")!=-1||currentURL.indexOf("Twowheeler")!=-1||currentURL.indexOf("Two-wheeler")!=-1||currentURL.indexOf("Two-Wheeler")!=-1||currentURL.indexOf("bike-insurance")!=-1){$scope.product="Bike";$scope.ClaimedNCB=localStorage.ClaimedNCB;$scope.RequiredNCB=localStorage.RequiredNCB;}
else if(currentURL.indexOf("health")!=-1||currentURL.indexOf("Health")!=-1){$scope.product="Health";if(localStorage.formdob!=undefined)
$scope.formdob=localStorage.formdob;if(localStorage.gender!=undefined)
$scope.gender=localStorage.gender;if(localStorage.selectedadult!=undefined)
$scope.selectedadult=localStorage.selectedadult;if(localStorage.selectedchild!=undefined)
$scope.selectedchild=localStorage.selectedchild;$scope.IGdate=localStorage.IGdate;$scope.IGmonth=localStorage.IGmonth;$scope.IGyear=localStorage.IGyear;if($scope.IGdate!=undefined&&$scope.IGmonth!=undefined&&$scope.IGyear!=undefined){$scope.testdate(3,1)}
if(localStorage.maleclass!=undefined)
$scope.maleclass=localStorage.maleclass;if(localStorage.femaleclass!=undefined)
$scope.femaleclass=localStorage.femaleclass;if(localStorage.formgender!=undefined)
$scope.formgender=localStorage.formgender;$scope.checkadult(parseInt($scope.selectedadult));$scope.checkchild(parseInt($scope.selectedchild));}
else if(currentURL.indexOf("term")!=-1||currentURL.indexOf("Term")!=-1||currentURL.indexOf("life")!=-1||currentURL.indexOf("life")!=-1){$scope.termshow=true;$scope.product="Term";$scope.criticalshow=false;if(localStorage.maleclass!=undefined)
$scope.maleclass=localStorage.maleclass;if(localStorage.femaleclass!=undefined)
$scope.femaleclass=localStorage.femaleclass;if(localStorage.gender!=undefined)
$scope.gender=localStorage.gender;if(localStorage.nosmokeclass!=undefined)
$scope.nosmokeclass=localStorage.nosmokeclass;if(localStorage.smokeclass!=undefined)
$scope.smokeclass=localStorage.smokeclass;if(localStorage.smoker!=undefined)
$scope.smoker=localStorage.smoker;if(localStorage.formgender!=undefined)
$scope.formgender=localStorage.formgender;if(localStorage.formtobacco!=undefined)
$scope.formtobacco=localStorage.formtobacco;$scope.formdob=localStorage.formdob;$scope.IGdate=localStorage.IGdate;$scope.IGmonth=localStorage.IGmonth;$scope.IGyear=localStorage.IGyear;if($scope.IGdate!=undefined&&$scope.IGmonth!=undefined&&$scope.IGyear!=undefined){$scope.testdate(3,1)}}
else if(currentURL.indexOf("critical-illness-plan")!=-1||currentURL.indexOf("critical-illness-insurance")!=-1){$scope.termshow=false;$scope.product="Critical";$scope.criticalshow=true;if(localStorage.maleclass!=undefined)
$scope.maleclass=localStorage.maleclass;if(localStorage.femaleclass!=undefined)
$scope.femaleclass=localStorage.femaleclass;if(localStorage.gender!=undefined)
$scope.gender=localStorage.gender;if(localStorage.nosmokeclass!=undefined)
$scope.nosmokeclass=localStorage.nosmokeclass;if(localStorage.smokeclass!=undefined)
$scope.smokeclass=localStorage.smokeclass;if(localStorage.smoker!=undefined)
$scope.smoker=localStorage.smoker;if(localStorage.formgender!=undefined)
$scope.formgender=localStorage.formgender;if(localStorage.formtobacco!=undefined)
$scope.formtobacco=localStorage.formtobacco;$scope.formdob=localStorage.formdob;$scope.IGdate=localStorage.IGdate;$scope.IGmonth=localStorage.IGmonth;$scope.IGyear=localStorage.IGyear;if($scope.IGdate!=undefined&&$scope.IGmonth!=undefined&&$scope.IGyear!=undefined){$scope.testdate(3,1)}}
else if(currentURL.indexOf("travel")!=-1||currentURL.indexOf("Travel")!=-1){$scope.AllDestinationlist();$scope.product="Travel";if(localStorage.destinationList!=undefined){$scope.destinationList=localStorage.destinationList;$scope.checkDestinationerror(1);}
if(localStorage.travelStartDate!=undefined&&localStorage.travelStartDate!=""){if(new Date(localStorage.travelStartDate)<$scope.todayDate){$scope.travelStartDate=($scope.todayDate.getMonth()+1+"/"+$scope.todayDate.getDate()+"/"+$scope.todayDate.getFullYear());}
else{$scope.travelStartDate=localStorage.travelStartDate;}}
else{$scope.travelStartDate=($scope.todayDate.getMonth()+1+"/"+$scope.todayDate.getDate()+"/"+$scope.todayDate.getFullYear());}
if(localStorage.travelEndDate!=undefined&&localStorage.travelEndDate!=""){if(new Date(localStorage.travelEndDate)<=new Date($scope.travelStartDate)){$scope.travelEndDate=undefined;}
else{$scope.travelEndDate=localStorage.travelEndDate;}}
$scope.userMobile=localStorage.userMobile;if(localStorage.selectedTravellers!=undefined){$scope.selectedTravellers=localStorage.selectedTravellers;$scope.checkNoOfTravellerError();}
$scope.selectedDestination=localStorage.selectedDestination;if(localStorage.dataValue!=undefined)
$scope.dataValue=localStorage.dataValue;$scope.DOBArray=localStorage.DOBArray;$scope.formtraveldestinations=localStorage.formtraveldestinations;$scope.formtravelenddate=localStorage.formtravelenddate;$scope.formtravelstartdate=localStorage.formtravelstartdate;}
else if(currentURL.indexOf("child")!=-1||currentURL.indexOf("Child")!=-1){$scope.product="Child";if(localStorage.maleclass!=undefined)
$scope.maleclass=localStorage.maleclass;if(localStorage.femaleclass!=undefined)
$scope.femaleclass=localStorage.femaleclass;if(localStorage.gender!=undefined)
$scope.gender=localStorage.gender;if(localStorage.formgender!=undefined)
$scope.formgender=localStorage.formgender;$scope.IGdate=localStorage.IGdate;$scope.IGmonth=localStorage.IGmonth;$scope.IGyear=localStorage.IGyear;if($scope.IGdate!=undefined&&$scope.IGmonth!=undefined&&$scope.IGyear!=undefined){$scope.testdate(3,1)}
$scope.IGchilddate=localStorage.IGchilddate;$scope.IGchildmonth=localStorage.IGchildmonth;$scope.IGchildyear=localStorage.IGchildyear;if($scope.IGchilddate!=undefined&&$scope.IGchildmonth!=undefined&&$scope.IGchildyear!=undefined){$scope.childtestdate(3);}
$scope.formchilddob=localStorage.formchilddob
$scope.selectedincome=localStorage.selectedincome;if(localStorage.childincometype!=undefined){$scope.childincometype=localStorage.childincometype;}}
else if(currentURL.indexOf("pension")!=-1||currentURL.indexOf("Pension")!=-1){$scope.product="Pension";if(localStorage.maleclass!=undefined)
$scope.maleclass=localStorage.maleclass;if(localStorage.femaleclass!=undefined)
$scope.femaleclass=localStorage.femaleclass;if(localStorage.gender!=undefined)
$scope.gender=localStorage.gender;if(localStorage.formgender!=undefined)
$scope.formgender=localStorage.formgender;$scope.IGdate=localStorage.IGdate;$scope.IGmonth=localStorage.IGmonth;$scope.IGyear=localStorage.IGyear;if($scope.IGdate!=undefined&&$scope.IGmonth!=undefined&&$scope.IGyear!=undefined){$scope.testdate(3,1)}
$scope.formdob=localStorage.formdob;if(localStorage.txtActualIncome1!=undefined)
$scope.txtActualIncome=localStorage.txtActualIncome1;if(localStorage.payMode!=undefined)
$scope.payMode=localStorage.payMode;}
else if(currentURL.indexOf("investment")!=-1||currentURL.indexOf("Investment")!=-1){$scope.product="Investment";if(localStorage.maleclass!=undefined)
$scope.maleclass=localStorage.maleclass;if(localStorage.femaleclass!=undefined)
$scope.femaleclass=localStorage.femaleclass;if(localStorage.gender!=undefined)
$scope.gender=localStorage.gender;if(localStorage.formgender!=undefined)
$scope.formgender=localStorage.formgender;$scope.IGdate=localStorage.IGdate;$scope.IGmonth=localStorage.IGmonth;$scope.IGyear=localStorage.IGyear;$scope.formdob=localStorage.formdob;if($scope.IGdate!=undefined&&$scope.IGmonth!=undefined&&$scope.IGyear!=undefined){$scope.testdate(3,1)}
if(localStorage.txtActualIncome1!=undefined)
$scope.txtActualIncome=localStorage.txtActualIncome1;if(localStorage.selectedincome1!=undefined)
$scope.selectedincome=localStorage.selectedincome1;}
if(($location.path()=="/"&&currentURL.indexOf("CPID")==-1)||$location.path()=="/Home"){$scope.$root.mastercontent=true;$scope.$root.firstpageillusion=true;$scope.$root.showmainloader=false;$scope.$root.showNavbar=true;$scope.$root.TopHeading=true;$scope.$root.showHome=true;$scope.$root.Logos=true;$scope.$root.showotherpageheader=false;}
$scope.$root.quotesheader=false;$scope.$root.showHeaderClass="display-visible";$scope.$root.showNavbar=true;$scope.showHeader="show";$scope.$root.scrollhide="home-bg bodymain";$scope.lastclaimlist=[{text:"0 %",value:"Yes~0"},{text:"20 %",value:"No~20"},{text:"25 %",value:"No~25"},{text:"35 %",value:"No~35"},{text:"45 %",value:"No~45"},{text:"50 %",value:"No~50"}];$scope.regyearlist=[];for(i=1;i<=14;i++){$scope.regyearlist.push({value:$scope.year-i,text:$scope.year-i});}
$scope.bikeregyearlist=[{value:"2007",text:"2007"},{value:"2008",text:"2008"},{value:"2009",text:"2009"},{value:"2010",text:"2010"},{value:"2011",text:"2011"},{value:"2012",text:"2012"},{value:"2013",text:"2013"},{value:"2014",text:"2014"},{value:"2015",text:"2015"}];$scope.previoussearchshow=true;$timeout(function(){$scope.showchatmsg=true;},2500);$scope.previoussearchtime=$scope.date.getDate()+"-"+($scope.date.getMonth()+1)+"-"+$scope.date.getFullYear();var temp1=$location.absUrl().split('&');console.log($location.absUrl());console.log(temp1);$scope.$root.showloader=false;for(var i=0;i<temp1.length;i++){if(temp1[i].indexOf("utm_source")!=-1){$scope.utmsourcedata=temp1[i].split('=')[1];if($scope.utmsourcedata!=undefined){if($scope.utmsourcedata=="policymanager"){$scope.hideepbar=false;}}}
if(temp1[i].indexOf("utm_medium")!=-1){$scope.utmmediumdata=temp1[i].split('=')[1];}
if(temp1[i].indexOf("utm_campaign")!=-1){$scope.utmcampaigndata=temp1[i].split('=')[1];}
if(temp1[i].indexOf("utm_term")!=-1){$scope.utmtermdata=temp1[i].split('=')[1];}
if(temp1[i].indexOf("partnerleadid")!=-1){$scope.utmpartnerleadiddata=temp1[i].split('=')[1];}
if(temp1[i].indexOf("partneragentid")!=-1){$scope.utmpartneragentiddata=temp1[i].split('=')[1];}}
var temp1=$location.absUrl().split('?');console.log(temp1);console.log(temp1.length);if(temp1.length==2){if(temp1[1].toLowerCase()=="prod=health"){$scope.maintabform(3);}
else if(temp1[1].toLowerCase()=="prod=healthmvc"){$scope.healthmvc=true;$scope.maintabform(3);}
else if(temp1[1].toLowerCase()=="prod=term"){$scope.maintabform(4);}
else if(temp1[1].toLowerCase()=="prod=child"){$scope.maintabform(5);}
else if(temp1[1].toLowerCase()=="prod=investment"){$scope.maintabform(6);}
else if(temp1[1].toLowerCase()=="prod=pension"){$scope.maintabform(7);}
else if(temp1[1].toLowerCase()=="prod=bike"){$scope.maintabform(2);}
else{console.log($scope.ProposerName);var temp2=temp1[1].split('=');if(temp2[0].toLowerCase()=="shareid"){console.log("yes");$scope.showrefferedpop=true;}}}
$scope.flaclaim($scope.year-6);$location.search("NotRegistrationNo",null);$location.search("NewCar",null);$location.search("NewBike",null);$location.search("BeenHerePop",null);$location.search("Searches",null);$location.search("Details",null);$location.search("CityPop",null);$location.search("CarMakeModel",null);$location.search("CarRto",null);$location.search("BikeMakeModel",null);$location.search("BikeRto",null);$location.search("AnnualIncomePop",null);$location.search("DestinationPop",null);$location.search("TravellerAge",null);$location.search("NoRegistrationNo",null);$location.search("OTP",null);$location.search("Lastclaim",null);}
$scope.commoncity1=function(){if($scope.commoncitystate.length==0&&!$scope.isHit){$scope.CityValue=false;$scope.isHit="city-loading-now";$scope.citylisttemp=CommonService.citylist($scope);$scope.citylisttemp.then(function(result){result.data=angular.fromJson(result.data);var commoncitylist11=result.data;$scope.commoncitystate=[];for(var i=0;i<commoncitylist11.length;i++){var temp={cityid:commoncitylist11[i].CityId+", "+commoncitylist11[i].StateId,cityname:commoncitylist11[i].City+", "+commoncitylist11[i].State,cityCategory:commoncitylist11[i].CityCategory};$scope.commoncitystate.push(temp);}},function(response){ServiceRespnse(response);});}}
$scope.getAllLead=function(text,flag){$scope.beenHereBtnLoader=false;$scope.DownloadAppBtnLoader=false;$scope.getmobileno=true;$scope.thanksMobilelink=false;$scope.$root.getmobilenumber=null;$scope.$root.scrollhide="scrollhides";$rootScope.openNav();if(text=="getalllead"){$scope.$root.DownloadApp=false;$scope.thanksMobilelink=false;$scope.$root.mobileBlankError=false;$scope.$root.IsBeenHereBefore=true;$location.search("BeenHerePop");}}
$scope.checkNumber=function(number){if(number==undefined||number==null||number==""){$scope.$root.mobileBlankError=true;}
else{$scope.$root.mobileBlankError=false;}}
$scope.closeGetmobileno=function(){$scope.getmobileno=false;$scope.$root.scrollhide="home-bg";$scope.showbeenhere=true;$location.search("BeenHerePop",null);window.history.back();}
$scope.changeInvestValue=function(flag){if(flag=="child"){if($scope.childincometype=="Y"){var x=$scope.selectedincome*12;$scope.selectedincome=Math.ceil(x / 1000.0)*1000;}
else if($scope.childincometype=="M"){var x=$scope.selectedincome / 12;$scope.selectedincome=Math.floor(x / 100.0)*100;}}
else{if($scope.selectedincome=="Y"){var x=$scope.txtActualIncome*12;$scope.txtActualIncome=Math.ceil(x / 1000.0)*1000;}
else if($scope.selectedincome=="M"){var x=$scope.txtActualIncome / 12;$scope.txtActualIncome=Math.floor(x / 100.0)*100;}}}
$scope.changeInvestValue1=function(){if($scope.payMode=="Y"){var x=$scope.txtActualIncome*12;$scope.txtActualIncome=Math.ceil(x / 1000.0)*1000;}
else if($scope.payMode=="M"){var x=$scope.txtActualIncome / 12;$scope.txtActualIncome=Math.floor(x / 100.0)*100;}}
$scope.getleadbasedonmobile=function(mobilenumber,MethodName,id){var msgMobile=ValidationFactory.mobilevalidate($scope.$root.getmobilenumber);$scope.beenHereBtnLoader=true;var flag=1;if(msgMobile=="False"){flag=0;$scope.$root.mobileBlankError=true;$scope.beenHereBtnLoader=false;}
else{$scope.$root.mobileBlankError=false;$scope.usermobile=parseInt($scope.$root.getmobilenumber);}
$scope.beenhereOTPcheck=true;if(flag==1){if(id!=1){$scope.showbtnleadloader=true;beenbefore(flag,MethodName);}
else{var getOTP=CommonService.NewSendOTPReboot($scope.$root.getmobilenumber);getOTP.then(function(result){$scope.TokenId=result.data.TokenId;$scope.userOTP0=undefined;$scope.userOTP1=undefined;$scope.userOTP2=undefined;$scope.userOTP3=undefined;$scope.showotpboxbybeenhere=true;$scope.getmobileno=false;$scope.showResend=false;$scope.resendtime=parseInt(result.data.OTPResendTimer);resendTimer();$timeout(function(){$scope.showResend=true;},10000);},function(response){ServiceRespnse(response);});}}}
function beenbefore(flag,MethodName){if(flag==1&&MethodName=="getalllead"){$scope.beenHereBtnLoader=true;var otp=$scope.userOTP0+$scope.userOTP1+$scope.userOTP2+$scope.userOTP3;var getalllead=CommonService.getDataByUserVisits(otp,$scope.$root.getmobilenumber,$scope.TokenId);getalllead.then(function(dt){$scope.showsendlink=false;$scope.$root.comparebuypop=false;$scope.alllead=angular.fromJson(dt.data.Visits);$scope.showbtnleadloader=false;if(dt.data.OTPResponse.ErrorCode==0){$scope.wrongotpmsgshow=false;if($scope.alllead.length>0){$scope.showotpboxbybeenhere=false;$scope.mobileBlankError=false;$scope.getmobileno=false;$scope.htmlScroll="scrollhides";$scope.$root.notFoundData=false;$scope.$root.scrollhide="home-bg";if(($scope.getmobileno==false||$scope.$root.beenHerePopUpAnimation=="out fadeOut")&&($scope.$root.DownloadApp!=true)){$scope.$root.beenHerePopUpAnimation="fadeInUp";$scope.$root.scrollhide="scrollhides";$scope.$root.beenHerePopUp=true;$scope.$root.beenHerePop=true;$location.search('Searches');$scope.beenHereBtnLoader=false;}}
else if($scope.alllead.length==0){$scope.$root.beenHerePopUpAnimation="fadeInUp";$scope.$root.scrollhide="scrollhides";$scope.showotpboxbybeenhere=false;$scope.$root.beenHerePopUp=true;$scope.$root.beenHerePop=true;$scope.$root.notFoundData=true;$scope.getmobileno=false;$scope.DownloadAppBtnLoader=false;}
for(var i=0;i<$scope.alllead.length;i++){if($scope.alllead[i].createddatetime!=undefined){var datetime=$scope.alllead[i].createddatetime;if($scope.alllead[i].LastVisit!=undefined&&$scope.alllead[i].LastVisit!=null&&$scope.alllead[i].LastVisit!=""){datetime=$scope.alllead[i].LastVisit;}
var date=(new Date(parseInt(datetime.substring(6,19))).getMonth()+1)+'/'+new Date(parseInt(datetime.substring(6,19))).getDate()+'/'+
new Date(parseInt(datetime.substring(6,19))).getFullYear();$scope.alllead[i].day=new Date(date);var time1=new Date(parseInt(datetime.substring(6,19))).getHours();var time2=new Date(parseInt(datetime.substring(6,19))).getMinutes();var time3=new Date(parseInt(datetime.substring(6,19))).getSeconds();if(parseInt(time1)<10){time1="0"+parseInt(time1);}
if(parseInt(time2)<10){time2="0"+parseInt(time2);}
if(parseInt(time3)<10){time3="0"+parseInt(time3);}
var time=time1+":"+time2+":"+time3;if(parseInt(time.split(':')[0])>12){$scope.alllead[i].time=time+" PM";}
else if(parseInt(time.split(':')[0])==12&&(parseInt(time.split(':')[1])>0||parseInt(time.split(':')[2])>0)){$scope.alllead[i].time=time+" PM";}
else{$scope.alllead[i].time=time+" AM";}
if($scope.alllead[i].DOB!=undefined){var date=new Date(parseInt($scope.alllead[i].DOB.substring(6,19))).getMonth()+1+'-'+
(new Date(parseInt($scope.alllead[i].DOB.substring(6,19))).getDate())+'-'+
new Date(parseInt($scope.alllead[i].DOB.substring(6,19))).getFullYear();$scope.alllead[i].Age=$scope.getAge(date);}
if($scope.alllead[i].ProductName.toLowerCase()=="car"){$scope.alllead[i].classSource="carico";$scope.UniqueId=$scope.alllead[i].IGQuoteId;}
else if($scope.alllead[i].ProductName.toLowerCase()=="two wheeler"){$scope.alllead[i].classSource="twowheelerico";$scope.alllead[i].ProductName="Bike";$scope.UniqueId=$scope.alllead[i].IGQuoteId;}
else if($scope.alllead[i].ProductName.toLowerCase()=="health"){$scope.alllead[i].classSource="healthico";}
else if($scope.alllead[i].ProductName.toLowerCase()=="term"){$scope.alllead[i].classSource="termico";}
else if($scope.alllead[i].ProductName.toLowerCase()=="travel"){$scope.alllead[i].classSource="travelico";}
else if($scope.alllead[i].ProductName.toLowerCase()=="child"){$scope.alllead[i].classSource="childico";}
else if($scope.alllead[i].ProductName.toLowerCase()=="investment"){$scope.alllead[i].classSource="investmentico";}
else if($scope.alllead[i].ProductName.toLowerCase()=="pension"){$scope.alllead[i].classSource="pensionico";}
else if($scope.alllead[i].ProductName.toLowerCase()=="critical illness"){$scope.alllead[i].classSource="criticalico";}}}}
else{$scope.wrongotpmsgshow=true;}},function(response){ServiceRespnse(response);});}
else if(flag==1&&MethodName=="downloadapp"){$scope.DownloadAppBtnLoader=true;var Message="Please download the app from below link ";var getalllead=CommonService.senddownloadapplink($scope.$root.getmobilenumber,Message);getalllead.then(function(dt){$scope.getmobileno=false;$scope.$root.thanksMobilelink=true;$scope.$root.scrollhide="home-bg";});}}
$scope.localStorage=function(flag,item){var revisitflag=CommonService.revisit($scope,globals,item.IGQuoteId);revisitflag.then(function(data){$window.location.href=globals.RedirectURL+"/?CPID="+btoa(item.IGQuoteId)},function(response){ServiceRespnse(response);});}
$scope.sideNavClose=function(){$rootScope.openNav();}
$rootScope.openNav=function(){if($scope.$root.sideNavShow==false){$(".sidenav").animate({left:'0px'},200);$(".sideNavFull").fadeIn(100);$scope.$root.sideNavShow=true;$scope.$root.scrollhide="scrollhides";}
else if($scope.$root.sideNavShow==true){$(".sidenav").animate({left:'-210px'},200);$(".sideNavFull").fadeOut(100);$scope.$root.sideNavShow=false;$scope.$root.scrollhide="home-bg";}}
$rootScope.popredirect=function(flag){$scope.showbtncarloader=false;$scope.showbtnbikeloader=false;$scope.travelProceedBtnLoader=false;$scope.showbtntravelloader=false;$scope.showbtntermloader=false;$scope.showbtnhealthloader=false;$scope.showbtnpensionloader=false;$scope.showbtninvestloader=false;$scope.showbtnchildloader=false;if(flag==1){$scope.$root.beenHerePopUpAnimation="out fadeOut";$scope.showbeenhere=true;$scope.$root.scrollhide="";$scope.getAllLead('getalllead');}
else if(flag==2){$scope.getleadbasedonmobile($scope.$root.getmobilenumber,'getalllead');}
else if(flag==4){$scope.getlinkpop('new');$scope.showcitypop=false;$scope.carmakemblpop=false;$scope.carrtomblpop=false;$scope.showotpbox=false;$scope.getmobileno=false;$scope.$root.beenHerePopUpAnimation="out fadeOut";$scope.$root.scrollhide="";$scope.$root.beenHerePopUp=false;$scope.showbeenhere=true;$scope.Showlastclaim=false;$location.search("BeenHerePop",null);}
else if(flag==5){$scope.getlinkpop();$scope.showcitypop=false;$scope.carmakemblpop=false;$scope.carrtomblpop=false;$scope.getmobileno=false;$scope.$root.scrollhide="home-bg";$scope.showbeenhere=true;$scope.showotpbox=false;$scope.Showlastclaim=false;$location.search("BeenHerePop",null);}
else if(flag==6){$scope.getbikepopup('new');$scope.showcitypop=false;$scope.citymblpop=false;$scope.bikemakemblpop=false;$scope.bikertomblpop=false;$scope.getmobileno=false;$scope.Showlastclaim=false;$scope.$root.scrollhide="home-bg";$scope.showbeenhere=true;$location.search("BeenHerePop",null);}
else if(flag==7){$scope.getbikepopup();$scope.showcitypop=false;$scope.carmakemblpop=false;$scope.carrtomblpop=false;$scope.getmobileno=false;$scope.$root.scrollhide="home-bg";$scope.showbeenhere=true;$scope.showotpbox=false;$location.search("BeenHerePop",null);}
else if(flag==8){$scope.showcitypop=true;$scope.carmakemblpop=true;$scope.carrtomblpop=false;$scope.Showlastclaim=false;}
else if(flag==9){$scope.showcitypop=true;$scope.carmakemblpop=false;$scope.carrtomblpop=true;$scope.Showlastclaim=false;}
else if(flag==10){$scope.showcitypop=true;$scope.citymblpop=false;$scope.bikemakemblpop=true;$scope.bikertomblpop=false;$scope.Showlastclaim=false;}
else if(flag==11){$scope.showcitypop=true;$scope.citymblpop=false;$scope.bikemakemblpop=false;$scope.bikertomblpop=true;$scope.Showlastclaim=false;}
else if(flag==12){$scope.showcitypop=true;$scope.citymblpop=true;$scope.getmobileno=false;$scope.Showlastclaim=false;}
else if(flag==17){$scope.showcitypop=true;$scope.Showlastclaim=true;$scope.getmobileno=false;}
else if(flag==13){$scope.showcitypop=true;$scope.termannualmblpop=true;$scope.citymblpop=false;$scope.Showlastclaim=false;}
else if(flag==14){$scope.showcitypop=true;$scope.traveldestination=true;$scope.$root.travelfirstpop=false;$scope.Showlastclaim=false;}
else if(flag==15){$scope.$root.travelfirstpop=false;$scope.$root.travelsecondpop=true;$scope.traveldestination=false;$scope.showotpbox=false;$scope.Showlastclaim=false;}
else if(flag==16){$scope.$root.travelfirstpop=false;$scope.$root.travelsecondpop=false;$scope.traveldestination=false;$scope.$root.travelfirstpop=false;$scope.$root.travelsecondpop=false;$scope.traveldestination=false;$scope.travelProceedBtnLoader=false;$scope.termannualmblpop=false;$scope.healthfirstpop=false;$scope.bikepopup=false;$scope.bikemaindetails=false;$scope.citymblpop=false;$scope.bikemakemblpop=false;$scope.Showlastclaim=false;$scope.bikertomblpop=false;$scope.newcarshow=false;$scope.showbeenhere=false;$scope.carpopup=false;$scope.carmaindetails=false;$scope.showcitypop=false;$scope.carmakemblpop=false;$scope.carrtomblpop=false;$scope.getmobileno=false;$scope.termpopup=false;$scope.pensionpopup=false;$scope.investpopup=false;$scope.childpopup=false;$scope.$root.beenHerePopUp=false;$scope.$root.scrollhide="home-bg";$scope.showotpbox=true;$scope.OTP0=true;}
else{$scope.showotpbox=false;$scope.$root.travelfirstpop=true;$scope.$root.travelsecondpop=false;$scope.traveldestination=false;$scope.travelProceedBtnLoader=false;$scope.termannualmblpop=false;$scope.bikepopup=false;$scope.bikemaindetails=true;$scope.citymblpop=false;$scope.bikemakemblpop=false;$scope.bikertomblpop=false;$scope.Showlastclaim=false;$scope.newcarshow=false;$scope.showbeenhere=true;$scope.carpopup=false;$scope.carmaindetails=true;$scope.showcitypop=false;$scope.carmakemblpop=false;$scope.carrtomblpop=false;$scope.termpopup=true;$scope.healthfirstpop=true;$scope.pensionpopup=true;$scope.investpopup=true;$scope.childpopup=true;$scope.getmobileno=false;$scope.$root.beenHerePopUp=false;$scope.$root.scrollhide="home-bg";}}
$scope.closemblpop=function(item,flag){if(item==1){$scope.showcitypop=false;$scope.carmakemblpop=false;$scope.citymblpop=false;$scope.carrtomblpop=false;$scope.bikemakemblpop=false;$scope.bikertomblpop=false;$scope.ShowCarRegistrationyear=false;$scope.Showcarbreak=false;$scope.Showlastclaim=false;$scope.ShowCarCNGKit=false;$scope.ShowBikeRegistrationyear=false;$scope.Showbikepolexp=false;if(flag!=-1){$location.search("Details",null);window.history.back();}}
if(flag==1){if(item==2){$scope.searchText03="";$scope.showcitypop=true;$scope.citymblpop=true;$scope.myInputFocus=true;$scope.termannualmblpop=false;$location.search("CityPop");$scope.commoncity1();}
else{$scope.showcitypop=false;$scope.citymblpop=false;$scope.selectedItem2=item;$scope.selectedcitynampop=item.cityname;$scope.checkcityerrors();window.history.back();}}
if(flag==2){if(item==2){$scope.showcitypop=true;$scope.carmakemblpop=true;$scope.myInputFocusCarMake=true;$scope.carlist();$location.search("CarMakeModel");}
else{$scope.showcitypop=false;$scope.carmakemblpop=false;$scope.selectedItem=item;$scope.selectedcarmakepop=item.ModelName;$scope.checkcarerror();$location.search("CarMakeModel",null);window.history.back();}}
if(flag==3){if(item==2){$scope.showcitypop=true;$scope.carrtomblpop=true;$scope.myInputFocusCarRto=true;$scope.citylist();$location.search("CarRto");}
else{$scope.showcitypop=false;$scope.carrtomblpop=false;$scope.selectedItem1=item;$scope.selectedcarrtopop=item.RTOCode;$scope.checkcityerror();if($scope.newcarshow==false){$scope.showcitypop=false;$scope.citymblpop=false;$scope.carrtomblpop=false;$scope.ShowCarRegistrationyear=false;if($scope.$root.carfuelcontainer==true||$scope.carfuelcontainer==true){$scope.showcitypop=true;$scope.ShowCarCNGKit=true;}}
$location.search("CarRto");window.history.back();}}
if(flag==4){if(item==2){$scope.showcitypop=true;$scope.bikemakemblpop=true;$scope.myInputFocusBikeMake=true;$scope.bikealldatalist();$location.search("BikeMakeModel");}
else{$scope.showcitypop=false;$scope.bikemakemblpop=false;$scope.selectedbikemmv=item;$scope.selectedbikemakepop=item.bikename;$scope.checkbikelisterror();$location.search("BikeMakeModel",null);window.history.back();}}
if(flag==5){if(item==2){$scope.showcitypop=true;$scope.bikertomblpop=true;$scope.myInputFocusBikeRto=true;$scope.bikecitylist();$location.search("BikeRto");}
else{$scope.showcitypop=false;$scope.bikertomblpop=false;$scope.selectedbikerto=item;$scope.selectedbikertopop=item.cityname;$scope.checkbikertoerror();$location.search("BikeRto",null);window.history.back();}}
if(flag==6){if(item==2){$scope.showcitypop=true;$scope.termannualmblpop=true;$scope.myInputFocusTermIncome=true;$location.search("AnnualIncomePop");if($scope.userActualIncome.length==0)
TermFactory.userActualIncome($scope);}
else{$scope.showcitypop=false;$scope.termannualmblpop=false;$scope.txtActualIncome=item;$scope.selectedtermincomepop=item.text;$scope.checktermincomeerror();$location.search("AnnualIncomePop",null);window.history.back();}}
if(flag==7){if(item==2){$scope.showcitypop=true;$scope.traveldestination=true;$scope.myInputFocustravellingdest=true;$location.search("DestinationPop");}
else{$scope.showcitypop=false;$scope.traveldestination=false;$scope.selectedDestinationItem=item;$location.search("DestinationPop",null);window.history.back();$scope.checkDestinationerror();}}
if(flag==9){if(item==2){$scope.showcitypop=true;$scope.Showlastclaim=true;$scope.myInputFocuslastclaim=true;$location.search("Lastclaim");}
else{$scope.showcitypop=false;$scope.Showlastclaim=false;$scope.carclaimtext1=item.text;$scope.carclaim=item.value;$scope.carclaimchange();}}}
$scope.carmakename=function(item){$scope.selectedItem=item;$scope.popupformob=false;}
$scope.checkcarbreaking1=function(flag){if($scope.carbreakingpol==0){$scope.carbreaking=1;$scope.carbreakingexp=0;$scope.checkcarbreaking(1);}
else if($scope.carbreakingpol==90){$scope.carbreaking=0;$scope.carbreakingexp=0;$scope.checkcarbreaking(2);}
else{$scope.carbreaking=0;$scope.carbreakingexp=1;$scope.checkcarbreaking(2);}}
$scope.checkcarbreaking=function(flag){if(flag==1||flag==3){if($scope.carbreaking==0){if($scope.carbreakingexp==0){$scope.showcarncb=true;$scope.showfastlaneclaimlast=true;$scope.$root.showcarncb=true;}
else{if($scope.carbreakingexp==undefined){$scope.carbreakingexp="0";$scope.showfastlaneclaimlast=true;}
else{$scope.showcarncb=false;$scope.showfastlaneclaimlast=false;$scope.$root.showcarncb=false;}}
$scope.showcarexpired=true;}
else{$scope.showcarncb=true;$scope.showfastlaneclaimlast=true;$scope.$root.showcarncb=true;$scope.showcarexpired=false;}}
else if(flag==2||flag==4){if($scope.carbreakingexp==0){$scope.showcarncb=true;$scope.showfastlaneclaimlast=true;$scope.$root.showcarncb=true;if(flag==4){$scope.showcarncb=true;$scope.$root.showcarncb=true;}}
else{if(flag==4){$scope.showcarncb=false;$scope.$root.showcarncb=false;}
$scope.showfastlaneclaimlast=false;$scope.$root.showcarncb=false;$scope.showcarncb=false;}}}
$scope.checkcarerror=function(flag){$scope.carlabel=true;if($scope.selectedItem==null||$scope.selectedItem==undefined||$scope.selectedItem==""){flag=1;$scope.carerror=true;$scope.carlabel=false;}
else{$scope.carerror=false;$scope.carlabel=true;$scope.formcarwidget=$scope.selectedItem.ModelName;var temp1=$scope.selectedItem.ModelName.split(",");if(temp1[1].trim()=="DIESEL"){$scope.carkitstatus=undefined;$scope.carfuelcontainer=false;$scope.formddlkit="Kit0";$scope.$root.entercngkitvalue=0;$scope.$root.carfuelcontainervalue=false;}
else if(temp1[1].trim()=="CNG"){$scope.carkitstatus=undefined;$scope.carfuelcontainer=false;$scope.$root.entercngkitvalue=0;$scope.formddlkit="Kit0";}
else if(temp1[1].trim()=="LPG"){$scope.carkitstatus=undefined;$scope.carcnglpg=$scope.carpoplpg;$scope.carfuelcontainer=true;}
else if(temp1[1].trim()=="PETROL"){$scope.carkitstatus=undefined;$scope.carcnglpg=$scope.carpoppetrol;$scope.carfuelcontainer=true;}}}
$scope.checkcityerror=function(flag){$scope.citylabel=true;if($scope.selectedItem1==null||$scope.selectedItem1==''||$scope.selectedItem1==undefined){flag=1;$scope.citylabel=false;$scope.cityerror=true;}
else{$scope.cityerror=false;$scope.citylabel=true;$scope.formcarrto=$scope.selectedItem1.CityName;console.log("carrto");}}
$scope.fnGetregyear=function(){$scope.arrayregyearlist=[{id:"0",value:"Registration Year"},{id:"2015",value:"2015"},{id:"2014",value:"2014"},{id:"2013",value:"2013"},{id:"2012",value:"2012"},{id:"2011",value:"2011"},{id:"2010",value:"2010"},{id:"2009",value:"2009"},{id:"2008",value:"2008"},{id:"2007",value:"2007"}];}
$scope.flaclaim=function(yom,flag){var arrNeverNCB=[50,50,50,50,45,35,25,20,0];var arrYearNCB=[0,20,25,35,45,50,50,50,50];var monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];var bool=true;var year=$scope.year.toString();$scope.regyear=[];var vddlregyear=0;if(yom==year.trim()){var val='No~'+arrNeverNCB[vddlregyear-1];var option={value:val,text:"Never"};$scope.regyear.push(option);}
else if(yom=="0"){var option={value:"Claim Last Taken",text:"Claim Last Taken"};$scope.regyear.push(option);}
else{var findYear=year-yom;var val='No~'+arrNeverNCB[vddlregyear+1];var option={value:val,text:"Never"};$scope.regyear.push(option);var k=2;var s=1;var j=0;for(var i=findYear-1;i>=0;i--){if(bool==true){var val='Yes~'+arrYearNCB[0];var text="Less than"+" "+(findYear-i)+" "+"Year ago";var option={value:val,text:text};$scope.regyear.push(option);bool=false;}
else{var val='No~'+arrYearNCB[k-2];if($scope.date.getMonth()!=0){var text=(monthNames[$scope.date.getMonth()])+" "+(year-(s+1))+" "+"to"+" "+(monthNames[$scope.date.getMonth()-1])+" "+(year-(j+1));}
else{var text=(monthNames[$scope.date.getMonth()])+" "+(year-(s+1))+" "+"to"+" "+(monthNames[11])+" "+(year-(s+1));}
if((year-(s+1))!=year-6){var option={value:val,text:text};$scope.regyear.push(option);}
s++;j++;bool=false;}
k++;}}
$scope.regyear1=$scope.regyear;}
$scope.bikecitylist=function(){if($scope.bikecitystate.length==0){$scope.bikertoapilist=CommonService.bikertoservice(undefined,undefined,$scope);$scope.bikertoapilist.then(function(result){result.data=angular.fromJson(result.data);$scope.bikertoapidata=result.data;for(var i=0;i<$scope.bikertoapidata.length;i++){var temp={cityid:$scope.bikertoapidata[i].CityId,stateid:$scope.bikertoapidata[i].StateId,RTOCode:$scope.bikertoapidata[i].RTOCode,cityname:$scope.bikertoapidata[i].RTOCity};$scope.bikecitystate.push(temp);}});}}
$scope.bikealldatalist=function(){if($scope.bikecitystates.length==0){$scope.bikemakemodelapilist=CommonService.bikemakemodelservice();$scope.bikemakemodelapilist.then(function(result){result.data=angular.fromJson(result.data);$scope.bikemakemodelapidata=result.data;for(var i=0;i<$scope.bikemakemodelapidata.length;i++){var temp={bikename:$scope.bikemakemodelapidata[i].ModelName,makeid:$scope.bikemakemodelapidata[i].MakeId,modelid:$scope.bikemakemodelapidata[i].ModelId};$scope.bikecitystates.push(temp);}},function(response){ServiceRespnse(response);});}}
$scope.citylist=function(){if($scope.citystate.length==0){$scope.carupdatedrtoapilist=CommonService.carupdatedrtoservice($scope);$scope.carupdatedrtoapilist.then(function(result){result.data=angular.fromJson(result.data);$scope.citystate=result.data;},function(response){ServiceRespnse(response);});}}
$scope.carlist=function(){if($scope.carlistdata.length==0){$scope.carupdatedmakemodelapilist=CommonService.carupdatedmakemodelservice($scope);$scope.carupdatedmakemodelapilist.then(function(result){result.data=angular.fromJson(result.data);$scope.carlistdata=result.data;},function(response){ServiceRespnse(response);});}}
$scope.carclaimchange=function(){console.log($scope.carclaim);$scope.claimtaken=$scope.carclaim;if($scope.carclaim==undefined){$scope.popcarclaimerror=true;flag=1;}
else{$scope.popcarclaimerror=false;var ncbyear=$scope.year-$scope.carreg;if(ncbyear>6){ncbyear=6;$scope.carrequiredncb=$scope.lastclaimlist[ncbyear-1].value.split("~")[1];}
else{$scope.carrequiredncb=$scope.lastclaimlist[ncbyear].value.split("~")[1];}
if($scope.carclaim=="No~50"){$scope.forcarwidgetpercent=$scope.lastclaimlist[ncbyear-1].value;$scope.carclaimedncb=$scope.lastclaimlist[ncbyear-1].value.split("~")[1]}
else if($scope.carclaim=="Yes~0"){$scope.forcarwidgetpercent=$scope.lastclaimlist[0].value;$scope.requiredncbvalue=0;$scope.carclaimedncb=$scope.lastclaimlist[0].value.split("~")[1];$scope.carrequiredncb=$scope.lastclaimlist[0].value.split("~")[1];}
else if($scope.carclaim=="No~20"){$scope.forcarwidgetpercent=$scope.lastclaimlist[0].value;$scope.carclaimedncb=$scope.lastclaimlist[0].value.split("~")[1];$scope.carrequiredncb=$scope.lastclaimlist[1].value.split("~")[1];}
else if($scope.carclaim=="No~25"){$scope.forcarwidgetpercent=$scope.lastclaimlist[1].value;$scope.carclaimedncb=$scope.lastclaimlist[1].value.split("~")[1];$scope.carrequiredncb=$scope.lastclaimlist[2].value.split("~")[1];}
else if($scope.carclaim=="No~35"){$scope.forcarwidgetpercent=$scope.lastclaimlist[2].value;$scope.carclaimedncb=$scope.lastclaimlist[2].value.split("~")[1];$scope.carrequiredncb=$scope.lastclaimlist[3].value.split("~")[1];}
else if($scope.carclaim=="No~45"){$scope.forcarwidgetpercent=$scope.lastclaimlist[3].value;$scope.carclaimedncb=$scope.lastclaimlist[3].value.split("~")[1];$scope.carrequiredncb=$scope.lastclaimlist[4].value.split("~")[1];}
if($scope.forcarwidgetpercent=="Yes~0"&&$scope.carclaim=="No~50"){$scope.forcarwidgetpercent="No~0"}}}
$scope.carkitchange=function(){$scope.popcarcnglpgerror=false;if($scope.carkitstatus==undefined){$scope.popcarcnglpgerror=true;flag=1;}
else{$scope.popcarcnglpgerror=false;$scope.formddlkit=$scope.carkitstatus;if($scope.carkitstatus=="Kit3"){$scope.$root.carfuelcontainervalue=true;$scope.cngkitdata="True";$scope.cngkitprice=20000;}
else{$scope.$root.carfuelcontainervalue=false;$scope.cngkitdata="False";$scope.cngkitprice=0;}}}
$scope.checkcngvalueerror=function(){if($scope.$root.entercngkitvalue<0){$scope.popcarcnglpgvalueerror=true;}
else{$scope.popcarcnglpgvalueerror=false;}}
$scope.carregyear=function(){if($scope.carreg!=undefined){$scope.popcarregerror=false;$scope.forcarreg=$scope.carreg;var flag=0;var lastclaimtemp=$scope.lastclaimtaken1;var temparray=[];var yeargap=$scope.year-$scope.carreg;for(var i=0;i<=yeargap;i++){if(lastclaimtemp.length>=i){temparray.push(lastclaimtemp[i]);}}
$scope.lastclaimtaken=temparray;if($scope.carbreakingexp==1&&$scope.carbreaking==0){$scope.showcarncb=false;}
else{$scope.showcarncb=true;}}
else{$scope.popcarregerror=true;}}
$scope.getcarquotes=function(){$scope.wrongotpmsgshow=false;$scope.userOTP=undefined;if($scope.newcarshow==false){$scope.carreg=$scope.date.getFullYear();$scope.carclaim="Yes~0";$scope.carbreakingexp=0;$scope.carbreaking=1;}
var productid=4;var flag=0;if($scope.carclaim==undefined&&($scope.carbreakingexp!=1||$scope.carbreaking==1)){$scope.popcarclaimerror=true;flag=1;}
else{$scope.popcarclaimerror=false;}
if($scope.carkitstatus==undefined&&$scope.carfuelcontainer==true){$scope.popcarcnglpgerror=true;flag=1;}
else{$scope.popcarcnglpgerror=false;}
if($scope.carreg==undefined){$scope.popcarregerror=true;flag=1;}
else{$scope.popcarregerror=false;}
if($scope.selectedItem==null){$scope.carerror=true;flag=1;}
else{$scope.carerror=false;}
if($scope.selectedItem1==null&&$scope.byreg==false){$scope.cityerror=true;flag=1;}
else{$scope.cityerror=false;}
if($scope.$root.entercngkitvalue>=5000&&$scope.$root.entercngkitvalue<=50000){$scope.popcarcnglpgvalueerror=false;}
else{$scope.popcarcnglpgvalueerror=true;}
if($scope.$root.carfuelcontainervalue==true&&($scope.$root.entercngkitvalue==undefined||$scope.$root.entercngkitvalue>50000||$scope.$root.entercngkitvalue<5000)){flag=1;$scope.popcarcnglpgvalueerror=true;}
if($scope.userMobile==undefined||$scope.userMobile==null||isNaN($scope.userMobile)==true||$scope.userMobile.toString().length<10||$scope.userMobile.toString().length>10){$scope.mobileerror=true;flag=1;}
if(flag==0){localStorage.carname=$scope.selectedItem;localStorage.carrto=$scope.selectedItem1;localStorage.carkitstatus=$scope.carkitstatus;localStorage.carbreakingexp=$scope.carbreakingexp;localStorage.carbreaking=$scope.carbreaking;localStorage.carclaim=$scope.carclaim;localStorage.carreg=$scope.carreg;localStorage.entercngkitvalue=$scope.$root.entercngkitvalue;localStorage.selectedcarmakepop=$scope.selectedcarmakepop;localStorage.selectedcarrtopop=$scope.selectedcarrtopop;localStorage.ClaimTaken=$scope.ClaimTaken;localStorage.carclaimedncb=$scope.carclaimedncb;localStorage.carrequiredncb=$scope.carrequiredncb;localStorage.carregnumber=$scope.carregnumber;localStorage.userMobile=$scope.userMobile;$scope.showbtncarloader=true;if($scope.byreg!=true){$scope.ncblogic();}
else if($scope.carbreakingexp!=1&&$scope.carbreaking!=0){$scope.forcarwidgetpercent=$scope.carclaim;$scope.carclaimedncb=$scope.carclaim.split("~")[1];if($scope.carclaimedncb==0){$scope.carrequiredncb=20;}
else if($scope.carclaimedncb==20){$scope.carrequiredncb=25;}
else if($scope.carclaimedncb==25){$scope.carrequiredncb=35;}
else if($scope.carclaimedncb==35){$scope.carrequiredncb=45;}
else if($scope.carclaimedncb==45){$scope.carrequiredncb=50;}
if($scope.fastlaneresult!=undefined){if($scope.fastlaneresult.ManufactureYear!=$scope.carreg){$scope.Registrationdate=undefined;}}}
if($scope.carbreaking==0&&$scope.carbreakingexp==1){var breaking=91;}
else if($scope.carbreaking==0&&$scope.carbreakingexp==0){var breaking=90;}
else{var breaking=0;}
var data={"userdetails":{"UtmSource":$scope.UtmSource,"UtmCompaign":$scope.utmCompaign,"UtmTerm":$scope.utmTerm,"UtmMedium":$scope.utmMedium,"RegistrationNo":$scope.carregnumber,"VechileDetails":$scope.selectedItem,"CngKitPrice":$scope.$root.entercngkitvalue,"ProductName":"Car","CityList":$scope.selectedItem1,"ClaimPercent":$scope.carclaim,"CngLpgKit":$scope.carkitstatus,"RegYear":$scope.carreg,"EngineNo":$scope.carengineno,"ChasisNo":$scope.carchasisno,"UserName":$scope.username,"UserMobile":$scope.usermobile,"UserEmail":$scope.useremail}};console.log(data);var resultdata=[];resultdata.push(data);var saveRequirementData=CommonService.saveCarRequirementData($scope,globals);saveRequirementData.then(function(pl){$scope.IGQuoteId=JSON.parse(angular.toJson(pl.data.IGQuoteId));$scope.leadCreationExceedMsg=JSON.parse(angular.toJson(pl.data.Message));if($scope.IGQuoteId>0){$scope.otpFn(1,productid);}},function(response){ServiceRespnse(response);});}}
$scope.ncblogic=function(){if($scope.carclaim=="No~50"){$scope.showcarncb=true;var ncbyear=$scope.year-$scope.carreg;if(ncbyear>=6){ncbyear=6;$scope.carrequiredncb=$scope.lastclaimlist[ncbyear-1].value.split("~")[1];}
else{$scope.carrequiredncb=$scope.lastclaimlist[ncbyear].value.split("~")[1];}
$scope.carclaimtext=$scope.lastclaimlist[ncbyear-1].text;$scope.carclaimedncb=$scope.lastclaimlist[ncbyear-1].value.split("~")[1];}
else if($scope.carclaim=="Yes~0"){$scope.carclaimtext=$scope.lastclaimlist[0].text;$scope.carclaimedncb=$scope.lastclaimlist[0].value.split("~")[1];$scope.carrequiredncb=$scope.lastclaimlist[0].value.split("~")[1];$scope.showcarncb=false;}
else if($scope.carclaim=="No~20"){$scope.showcarncb=true;$scope.carclaimtext=$scope.lastclaimlist[0].text;$scope.carclaimedncb=$scope.lastclaimlist[0].value.split("~")[1];$scope.carrequiredncb=$scope.lastclaimlist[1].value.split("~")[1];}
else if($scope.carclaim=="No~25"){$scope.showcarncb=true;$scope.carclaimtext=$scope.lastclaimlist[1].text;$scope.carclaimedncb=$scope.lastclaimlist[1].value.split("~")[1];$scope.carrequiredncb=$scope.lastclaimlist[2].value.split("~")[1];}
else if($scope.carclaim=="No~35"){$scope.showcarncb=true;$scope.carclaimtext=$scope.lastclaimlist[2].text;$scope.carclaimedncb=$scope.lastclaimlist[2].value.split("~")[1];$scope.carrequiredncb=$scope.lastclaimlist[3].value.split("~")[1];}
else if($scope.carclaim=="No~45"){$scope.showcarncb=true;$scope.carclaimtext=$scope.lastclaimlist[3].text;$scope.carclaimedncb=$scope.lastclaimlist[3].value.split("~")[1];$scope.carrequiredncb=$scope.lastclaimlist[4].value.split("~")[1];}
$scope.forcarwidgetpercent=$scope.carclaim;if($scope.forcarwidgetpercent=="Yes~0"&&$scope.carclaim=="No~50"){$scope.forcarwidgetpercent="No~0"}
if($scope.bikeexpiredpol==91||$scope.carbreakingexp==1){$scope.RequiredNCB=0;$scope.ClaimedNCB=0;$scope.ClaimTaken=true;$scope.carclaimedncb=0;}
else{$scope.RequiredNCB=$scope.carrequiredncb;$scope.ClaimedNCB=$scope.carclaimedncb;$scope.ClaimTaken=angular.lowercase($scope.carclaim.split("~")[0].trim())=="no"?"false":"true";}}
$scope.PopulateClaimddl=function(){$scope.popcarregerror=false;$scope.carclaim=undefined;$scope.carclaimtext1=undefined;var d=new Date();var yyyy=d.getFullYear();var nextyy=d.getFullYear()+1;var prevyy=d.getFullYear()-1;var mm=d.getMonth()+1;var dd=d.getDate();var nextdd=d.getDate()+1;if(dd<10){dd='0'+dd}
if(mm<10){mm='0'+mm}
if($scope.byreg==true){if($scope.claimtaken=="No~50"){var ncbyear=$scope.year-$scope.carreg;if(ncbyear>6){ncbyear=6;}
$scope.carclaim=$scope.lastclaimlist[ncbyear-1].value;$scope.carclaimtext=$scope.lastclaimlist[ncbyear-1].text;$scope.forcarwidgetpercent=$scope.carclaim;}
else if($scope.claimtaken=="Yes~0"){$scope.carclaim=$scope.lastclaimlist[0].value;$scope.forcarwidgetpercent=$scope.carclaim;$scope.carclaimtext=$scope.lastclaimlist[0].text;}
else if($scope.claimtaken=="No~20"){$scope.carclaim=$scope.lastclaimlist[0].value;$scope.forcarwidgetpercent=$scope.carclaim;$scope.carclaimtext=$scope.lastclaimlist[0].text;}
else if($scope.claimtaken=="No~25"){$scope.carclaim=$scope.lastclaimlist[1].value;$scope.forcarwidgetpercent=$scope.carclaim;$scope.carclaimtext=$scope.lastclaimlist[1].text;}
else if($scope.claimtaken=="No~35"){$scope.carclaim=$scope.lastclaimlist[2].value;$scope.forcarwidgetpercent=$scope.carclaim;$scope.carclaimtext=$scope.lastclaimlist[2].text;}
else if($scope.claimtaken=="No~45"){$scope.carclaim=$scope.lastclaimlist[3].value;$scope.forcarwidgetpercent=$scope.carclaim;$scope.carclaimtext=$scope.lastclaimlist[3].text;}
if($scope.forcarwidgetpercent=="Yes~0"&&$scope.claimtaken=="No~50"){$scope.forcarwidgetpercent="No~0"}}}
$scope.PopulateNCB=function(){$scope.carclaim=$scope.claimtaken;if($scope.claimtaken==undefined||$scope.claimtaken==''||$scope.claimtaken==null){$scope.regerror=true;}
else{$scope.regerror=false;}}
$scope.checkageerror=function(flag){if($scope.dt==undefined){$scope.ageerror=true;flag=1;$scope.ageerrortext="Enter Age Between 18 - 100";}
else if($scope.dt<18||$scope.dt>100){$scope.ageerror=true;flag=1;$scope.ageerrortext="Age should be between 18 - 100";}
else{$scope.ageerror=false;$scope.ageerrortext=""}}
$scope.checkadulterror=function(flag){if($scope.selectedadult==undefined||$scope.selectedadult==''||parseInt($scope.selectedadult)>2||parseInt($scope.selectedadult)==0){if($scope.selectedadult==undefined){$scope.selectedadult='1';}}
else if($scope.selectedadult==''||parseInt($scope.selectedadult)>2||parseInt($scope.selectedadult)==0){$scope.adulterror=true;flag=1;$scope.adulterrortext="No of Adult 1 or 2";}
else{$scope.adulterror=false;$scope.adulterrortext=""}}
$scope.checkchilderror=function(flag){if($scope.selectedchild==undefined||$scope.selectedchild==''||parseInt($scope.selectedchild)>4){if($scope.selectedchild==undefined){$scope.selectedchild='0';}}
else if($scope.selectedchild==''||parseInt($scope.selectedchild)>4){$scope.childerror=true;flag=1;$scope.childerrortext="No of Child(ren) 0 - 4";}
else{$scope.childerror=false;$scope.childerrortext=""}}
$scope.checkcityerrors=function(flag){$scope.cityerror=false;$scope.citylabel=true;if($scope.selectedItem2==null||$scope.selectedItem2==''||$scope.selectedItem2==undefined){$scope.cityerror=true;flag=1;}
else{$scope.cityerror=false;$scope.formcity=$scope.selectedItem2.cityname;$scope.cityid=$scope.selectedItem2.cityid.split(',')[0].toString();}}
$scope.checkbikertoerror=function(flag){console.log($scope.selectedbikerto);if($scope.selectedbikerto==null||$scope.selectedbikerto==undefined||$scope.selectedbikerto==''){$scope.bikertoerror=true;}
else{$scope.bikertoerror=false;$scope.formbikerto=$scope.selectedbikerto.cityname;}}
$scope.checkbikelisterror=function(flag){console.log($scope.selectedbikemmv);if($scope.selectedbikemmv==null||$scope.selectedbikemmv==''||$scope.selectedbikemmv==undefined){$scope.biketexterror=true;}
else{$scope.biketexterror=false;$scope.formbikewidget=$scope.selectedbikemmv.bikename;}}
$scope.bikeregyear=function(flag){console.log($scope.bikereg);if($scope.bikereg==undefined){$scope.popbikeregerror=true;}
else{$scope.popbikeregerror=false;$scope.formbikereg=$scope.bikereg;var regyeartemp=$scope.regyear1;var temparray=[];var yeargap=$scope.year-$scope.bikereg;for(var i=0;i<=yeargap;i++){if(regyeartemp.length>=i){temparray.push(regyeartemp[i]);}}
$scope.regyear=temparray;$scope.showbikelastclaim=true;if(flag!=1){$scope.bikelastclaim=undefined;}}}
$scope.bikepolicyexp=function(){if($scope.bikeexpiredpol==undefined||$scope.bikeexpiredpol==null){$scope.popbikepolexperror=true;$scope.showbikelastclaim=false;}
else{$scope.popbikepolexperror=false;$scope.formbikelblpolexp=$scope.bikeexpiredpol;if($scope.bikeexpiredpol==0||$scope.bikeexpiredpol==90){$scope.showbikelastclaim=true;}
else{$scope.showbikelastclaim=false;}}}
$scope.bikelastclaimfn=function(){if($scope.bikelastclaim==undefined){$scope.popbikelastclaimerror=true;}
else{$scope.popbikelastclaimerror=false;$scope.formbikewidgetpercent=$scope.bikelastclaim;if($scope.bikelastclaim=="No~50"){var ncbyear=$scope.year-$scope.bikereg;if(ncbyear>6){ncbyear=6;}
$scope.formbikewidgetpercent=$scope.lastclaimlist[ncbyear-1].value;if(ncbyear==6){var nextncb=$scope.lastclaimlist[ncbyear-1].value.split("~")[1];}
else{var nextncb=$scope.lastclaimlist[ncbyear].value.split("~")[1];}
var ncbclaimtaken="false";}
else if($scope.bikelastclaim=="Yes~0"){$scope.formbikewidgetpercent=$scope.lastclaimlist[0].value;var nextncb=$scope.lastclaimlist[0].value.split("~")[1];var ncbclaimtaken="true";}
else if($scope.bikelastclaim=="No~20"){$scope.formbikewidgetpercent=$scope.lastclaimlist[0].value;var nextncb=$scope.lastclaimlist[1].value.split("~")[1];var ncbclaimtaken="true";}
else if($scope.bikelastclaim=="No~25"){$scope.formbikewidgetpercent=$scope.lastclaimlist[1].value;var nextncb=$scope.lastclaimlist[2].value.split("~")[1];var ncbclaimtaken="true";}
else if($scope.bikelastclaim=="No~35"){$scope.formbikewidgetpercent=$scope.lastclaimlist[2].value;var nextncb=$scope.lastclaimlist[3].value.split("~")[1];var ncbclaimtaken="true";}
else if($scope.bikelastclaim=="No~45"){$scope.formbikewidgetpercent=$scope.lastclaimlist[3].value;var nextncb=$scope.lastclaimlist[4].value.split("~")[1];var ncbclaimtaken="true";}
if($scope.formbikewidgetpercent=="Yes~0"&&$scope.bikelastclaim=="No~50"){$scope.formbikewidgetpercent="No~0"}}}
$scope.getlinkbikepop=function(){$scope.showbikepolicyexpired=true;$scope.$root.popupbikepage=true;$scope.$root.scrollhide="scrollhides";}
$scope.checkgender=function(gen){if(gen==0){$scope.maleclass="lmbutton activebt";$scope.femaleclass="lmbutton";$scope.gender="M";$scope.formgender="M";}
else if(gen==1){$scope.maleclass="lmbutton";$scope.femaleclass="lmbutton  activebt";$scope.gender="F";$scope.formgender="F";}}
$scope.checkmoberror=function(mobile){var moberror=ValidationFactory.mobilevalidate(mobile);$scope.wrongMobile=false;if(mobile=="6789678967"){$scope.mobileerror=false;}
else if(moberror=="False"){$scope.mobileerror=true;}
else{$scope.mobileerror=false;}}
$scope.checksmoker=function(gen){if(gen==0){$scope.nosmokeclass="lmbutton activebt";$scope.smokeclass="lmbutton";$scope.smoker="no";$scope.formtobacco="False";}
else if(gen==1){$scope.nosmokeclass="lmbutton";$scope.smokeclass="lmbutton activebt";$scope.smoker="yes";$scope.formtobacco="True";}}
$scope.CheckGender=function(gen){if(gen==0){$scope.nosmokeclass="lmbutton activebt";$scope.smokeclass="lmbutton";$scope.smoker="no";$scope.formtobacco="False";}
else if(gen==1){$scope.nosmokeclass="lmbutton";$scope.smokeclass="lmbutton activebt";$scope.smoker="yes";$scope.formtobacco="True";}}
function getQueryStrings(){var assoc={};var decode=function(s){return decodeURIComponent(s.replace(/\+/g," "));};var queryString=location.search.substring(1);var keyValues=queryString.split('&');for(var i in keyValues){var key=keyValues[i].split('=');if(key.length>1){assoc[decode(key[0])]=decode(key[1]);}}
return assoc;}
$scope.AllDestinationlist=function(){var DestinationCountries=CommonService.getCountrylist();DestinationCountries.then(function(data){var TravelDestination=angular.fromJson(data.data);$scope.TravelCountryListtime=1;for(var i=0;i<TravelDestination.length;i++){var temp={destinationId:TravelDestination[i].CountryId,destinationName:TravelDestination[i].Country};$scope.travelDestinations.push(temp);}},function(response){ServiceRespnse(response);});}
$scope.removedestinationvalidationmessage=function(){if($scope.destinationList.length<10){$scope.MaxDestinationError=false;}}
$scope.removeenddatevalidationmessage=function(){$scope.datedifferror=false;if($scope.travelEndDate!=undefined){$scope.enddateError=false;}
else{$scope.enddateError=true;}}
$scope.checkDestinationerror=function(flag){if(($scope.selectedDestinationItem==null||$scope.selectedDestinationItem==undefined||$scope.selectedDestinationItem=='')&&flag!=1){if($scope.destinationList.length==0){$scope.DestinationError=true;$scope.MaxDestinationError=false;}}
else if($scope.destinationList.length>=10){$scope.MaxDestinationError=true;}
else{$scope.DestinationError=false;$scope.MaxDestinationError=false;for(var i=0;i<$scope.destinationList.length;i++){if(flag==1)
$scope.selectedDestinationItem=$scope.destinationList[i];if($scope.destinationList[i].text==$scope.selectedDestinationItem.destinationName){$scope.bool=true;}}
if($scope.bool==false){$scope.chipvalue=true;if(flag!=1)
$scope.destinationList.push({text:$scope.selectedDestinationItem.destinationName,value:$scope.selectedDestinationItem.destinationId,done:false});}
else{$scope.bool=false;}
if($scope.destinationList.length>0){$scope.showchips=true;}
else{$scope.showchips=false;}
$scope.selectedDestinationItem=null;$scope.searchDestination='';}}
$scope.checkNoOfTravellerError=function(flag){$scope.TotalMembers=[];if($scope.selectedTravellers==undefined||$scope.selectedTravellers<1||$scope.selectedTravellers==null||$scope.selectedTravellers>6){$scope.travellerError=true;flag=1;$scope.travellerErrortext="Enter No of Travellers 1 to 6";}
else{$scope.travellerError=false;$scope.travellerErrortext="";for(var i=1;i<=$scope.selectedTravellers;i++){$scope.TotalMembers.push({id:i});}}}
$scope.removeMember=function(memberid){if(parseInt($scope.selectedTravellers)==1){$scope.memrequire=true;$scope.ageError=false;}
else{$scope.memrequire=false;var val=$filter('filter')($scope.TotalMembers,function(d){return d.id==memberid});var idx=$scope.TotalMembers.indexOf(val[0]);if(idx>-1){$scope.selectedTravellers=parseInt($scope.selectedTravellers)-1;$scope.dataValue.splice(idx+1,1);$scope.TotalMembers.splice($scope.selectedTravellers,1);for(i=1;i<=$scope.selectedTravellers;i++){if($scope.dataValue[i]==undefined||$scope.dataValue[i]==""){$scope.ageError=true;}
else{$scope.ageError=false;}}}}}
$scope.showsecondpopup=function(){if(validatecontrolsoncontinue()){$scope.travelProceedBtnLoader=true;$scope.showbtntravelloader=false;$scope.$root.travelfirstpop=false;$scope.$root.travelsecondpop=true;$scope.travelpopFirst="display-none";$scope.travelpopSecond="display-visible";$location.search("TravellerAge");}}
$scope.showfirstpopup=function(){$scope.$root.travelfirstpop=true;$scope.$root.travelsecondpop=false;$scope.ageError=false;}
$scope.addMember=function(){$scope.selectedTravellers=parseInt($scope.selectedTravellers)+1;$scope.TotalMembers.push({id:$scope.selectedTravellers});$scope.dataValue[$scope.selectedTravellers]="";}
$scope.gettravelquotespop=function(){validatecontrols();}
$scope.checktravelageerror=function(age){if(age==undefined||age==""||age==null){$scope.ageError=true;$scope.memrequire=false;}
else{$scope.ageError=false;}}
function validatecontrolsoncontinue(){$scope.formtraveldestinations=undefined;$scope.formtravelstartdate=undefined;$scope.datedifferror=false;$scope.formtravelenddate=undefined;if($scope.userMobile==undefined||$scope.userMobile==null||isNaN($scope.userMobile)==true||$scope.userMobile.toString().length<10||$scope.userMobile.toString().length>10){$scope.mobileerror=true;}
if($scope.destinationList.length==0){$scope.DestinationError=true;}
else{$scope.MaxDestinationError=false;for(i=0;i<$scope.destinationList.length;i++){if($scope.formtraveldestinations==undefined){$scope.formtraveldestinations=$scope.destinationList[i].value;$scope.formtraveldestinationsName=$scope.destinationList[i].text;}
else{$scope.formtraveldestinations=$scope.formtraveldestinations+','+$scope.destinationList[i].value;$scope.formtraveldestinationsName=$scope.formtraveldestinationsName+', '+$scope.destinationList[i].text;}}}
if($scope.travelStartDate==undefined||$scope.travelStartDate==""){$scope.startdateError=true;}
else{$scope.startdateError=false;}
if($scope.travelEndDate==undefined||$scope.travelEndDate==""){$scope.enddateError=true;}
else if(new Date($scope.travelStartDate)>new Date($scope.travelEndDate)){$scope.datedifferror=true;$scope.enddateError=false;}
else{$scope.enddateError=false;$scope.formtravelstartdate=$scope.travelStartDate;$scope.formtravelenddate=$scope.travelEndDate;}
if($scope.selectedTravellers==undefined||$scope.selectedTravellers<1||$scope.selectedTravellers>6||parseInt($scope.selectedTravellers)==0){$scope.travellerError=true;$scope.travellerErrortext="Enter No of Travellers 1 to 6";}
if($scope.DestinationError==true||$scope.travellerError==true||$scope.enddateError==true||$scope.startdateError==true||$scope.mobileerror==true||$scope.selectedTravellers==undefined||(new Date($scope.travelStartDate)>new Date($scope.travelEndDate))||$scope.travelEndDate==undefined||$scope.travelStartDate==undefined){return false;}
else{return true;}}
function validatecontrols(){if(validatecontrolsoncontinue()){$scope.wrongotpmsgshow=false;$scope.userOTP=undefined;var productid=1;$scope.formtravellerages=undefined;for(i=1;i<=$scope.selectedTravellers;i++){if($scope.dataValue[i]==undefined||$scope.dataValue[i]==""){$scope.ageError=true;return false;}
else{$scope.ageError=false;if($scope.formtravellerages==undefined){$scope.formtravellerages=$scope.dataValue[i];}
else{$scope.formtravellerages=$scope.formtravellerages+','+$scope.dataValue[i];}}}
$scope.showbtntravelloader=true;var currentPage=$location.absUrl();$scope.utm_source="";$scope.utm_campaign="";$scope.utm_term="";$scope.utm_medium="";if(currentPage.indexOf("utm_source")!=-1){$scope.utm_source=currentPage.slice(currentPage.indexOf("utm_source=")+11).split("&")[0];}
if(currentPage.indexOf("utm_campaign")!=-1){$scope.utm_campaign=currentPage.slice(currentPage.indexOf("utm_campaign=")+13).split("&")[0];}
if(currentPage.indexOf("utm_term")!=-1){$scope.utm_term=currentPage.slice(currentPage.indexOf("utm_term=")+9).split("&")[0];}
if(currentPage.indexOf("utm_medium")!=-1){$scope.utm_medium=currentPage.slice(currentPage.indexOf("utm_medium=")+11).split("&")[0];}
$scope.selectedtravelerDOBArray=[];var data={"userdetails":{"Destination":$scope.formtraveldestinations,"DestinationName":$scope.formtraveldestinationsName,"StartDate":$scope.formtravelstartdate,"EndDate":$scope.formtravelenddate,"TravellerAges":$scope.formtravellerages,"Product":"Travel","Username":$scope.username,"Usermobile":$scope.usermobile,"Useremail":$scope.useremail,"UtmSource":$scope.utm_source,"UtmCampaign":$scope.utm_campaign,"UtmTerm":$scope.utm_term,"UtmMedium":$scope.utm_medium}};$scope.selectedtravelerAgeArray=$scope.formtravellerages.toString().split(',');for(i=0;i<$scope.selectedtravelerAgeArray.length;i++){var d=new Date();var dobs=d.setFullYear(d.getFullYear()-parseInt($scope.selectedtravelerAgeArray[i]));$scope.selectedtravelerDOBArray.push(dobs);}
$scope.DOBArray=DataFactory.stringifyallDobs($scope.selectedtravelerDOBArray);localStorage.destinationList=$scope.destinationList;localStorage.selectedDestinationItem=$scope.selectedDestinationItem;localStorage.travelStartDate=$scope.travelStartDate;localStorage.travelEndDate=$scope.travelEndDate;localStorage.selectedTravellers=$scope.selectedTravellers;localStorage.userMobile=$scope.userMobile;localStorage.dataValue=$scope.dataValue;localStorage.DOBArray=$scope.DOBArray;localStorage.formtraveldestinations=$scope.formtraveldestinations;localStorage.formtravelenddate=$scope.formtravelenddate;localStorage.formtravelstartdate=$scope.formtravelstartdate;var saveRequirementData=CommonService.saveTravelRequirementData($scope,globals);var time="3000";var urlservice=globals.ServiceURL+"/QuoteService.svc/web/Save";var ServiceName="QuoteService";$timeout(function(){if($scope.TravelSavetime==0){$scope.TimeOutService(time,urlservice,ServiceName,$scope.products[7].product);$scope.TravelSavetime=2;}
else{$scope.TravelSavetime=0;}},3000);saveRequirementData.then(function(pl){if($scope.TravelSavetime==2){var timeoutvar=new Date().getTime();var dvar=(timeoutvar-$scope.timeoutarray['saveservice']);$scope.TimeOutService(time,urlservice,ServiceName,$scope.products[6].product,dvar);}
$scope.TravelSavetime=1;$scope.IGQuoteId=JSON.parse(angular.toJson(pl.data.IGQuoteId));$scope.leadCreationExceedMsg=JSON.parse(angular.toJson(pl.data.Message));if($scope.IGQuoteId>0){$scope.otpFn(1,productid);}},function(response){ServiceRespnse(response);});return true;}}
$scope.gettermquotes=function(id){$scope.wrongotpmsgshow=false;$scope.userOTP=undefined;var flag=1;var productid=3;if(id==9){$scope.termshow=false;productid=9;$scope.criticalshow=true;}
else{$scope.criticalshow=false;$scope.termshow=true;}
var datemessage=ValidationFactory.onlynumber($scope.IGdate);var monthmessage=ValidationFactory.onlynumber($scope.IGmonth);var yearmessage=ValidationFactory.onlynumber($scope.IGyear);if(!$scope.selectedItem2){flag=0;$scope.cityerror=true;}
else{$scope.cityerror=false;}
if(!$scope.txtActualIncome){flag=0;$scope.annualerror=true;}
else if($scope.annualerror==true||$scope.dotmessage==true){flag=0;}
else{$scope.incomeerror=false;$scope.annualerror=false;}
if($scope.formdob==undefined||$scope.IGdate==undefined||$scope.IGmonth==undefined||$scope.IGyear==undefined||datemessage=="False"||monthmessage=="False"||yearmessage=="False"){flag=0;$scope.dateerror=true;}
if(!$scope.userMobile){$scope.mobileerror=true;flag=0;}
else if($scope.userMobile.toString().length<10){$scope.mobileerror=true;flag=0;}
if(flag==1){$scope.showbtntermloader=true;localStorage.maleclass=$scope.maleclass;localStorage.femaleclass=$scope.femaleclass;localStorage.gender=$scope.gender;localStorage.nosmokeclass=$scope.nosmokeclass;localStorage.smokeclass=$scope.smokeclass;localStorage.smoker=$scope.smoker;localStorage.formtobacco=$scope.formtobacco;localStorage.txtActualIncome=$scope.txtActualIncome;$scope.formdob=$scope.IGdate+'-'+$scope.IGmonth+'-'+$scope.IGyear;localStorage.selectedItem2=$scope.selectedItem2;localStorage.selectedtermincomepop=$scope.selectedtermincomepop;localStorage.selectedcitynampop=$scope.selectedcitynampop;localStorage.formdob=$scope.formdob;localStorage.IGdate=$scope.IGdate;localStorage.IGmonth=$scope.IGmonth;localStorage.IGyear=$scope.IGyear;localStorage.userMobile=$scope.userMobile;$scope.dateofbirth=$scope.IGdate+"-"+$scope.IGmonth+"-"+$scope.IGyear;$scope.CityID=$scope.selectedItem2.cityid.split(",")[0];$scope.$root.scrollhide="whitebg";var userincomeinlacs=parseFloat(($scope.txtActualIncome.value / 100000).toFixed(0)*100000);if(userincomeinlacs>2500000){$scope.SumAssured=50000000;}
else{$scope.AgeInYears=$scope.age;if($scope.AgeInYears<=39){$scope.SumAssured=userincomeinlacs*20;}
else if($scope.AgeInYears>=40&&$scope.AgeInYears<=50){$scope.SumAssured=userincomeinlacs*15;}
else if($scope.AgeInYears>=51&&$scope.AgeInYears<=55){$scope.SumAssured=userincomeinlacs*10;}
else{$scope.SumAssured=userincomeinlacs*5;}}
var data={"userdetails":{"gender":$scope.gender,"istobacco":$scope.formtobacco,"productname":"Term","city":$scope.selectedItem2,"dateofbirth":$scope.dateofbirth,"actualincome":$scope.txtActualIncome.value,"incomerange":$scope.minincome+'-'+$scope.maxincome+' lacs',"PayingMode":'Yearly',"SelectedRiders":"","PolicyTerm":0,"userMaxAnnualIncomeRange":$scope.maxincome,"userMinAnnualIncomeRange":$scope.minincome,"Username":$scope.username,"Usermobile":$scope.usermobile,"Useremail":$scope.useremail}};if($scope.criticalshow==true){var saveRequirementData=CommonService.saveCriticalRequirementData($scope,globals);saveRequirementData.then(function(pl){$scope.IGQuoteId=JSON.parse(angular.toJson(pl.data.IGQuoteId));$scope.leadCreationExceedMsg=JSON.parse(angular.toJson(pl.data.Message));if($scope.IGQuoteId>0){if($scope.IGQuoteId>0){$scope.otpFn(1,9);}}},function(response){ServiceRespnse(response);});}
else if($scope.termshow==true){var data={"userdetails":{"gender":$scope.gender,"istobacco":$scope.formtobacco,"productname":"Term","city":$scope.selectedItem2,"dateofbirth":$scope.dateofbirth,"actualincome":$scope.txtActualIncome.value,"incomerange":$scope.minincome+'-'+$scope.maxincome+' lacs',"PayingMode":'Yearly',"SelectedRiders":"","PolicyTerm":0,"userMaxAnnualIncomeRange":$scope.maxincome,"userMinAnnualIncomeRange":$scope.minincome,"Username":$scope.username,"Usermobile":$scope.usermobile,"Useremail":$scope.useremail}};var saveRequirementData=CommonService.saveTermRequirementData($scope,globals);saveRequirementData.then(function(pl){$scope.IGQuoteId=JSON.parse(angular.toJson(pl.data.IGQuoteId));$scope.leadCreationExceedMsg=JSON.parse(angular.toJson(pl.data.Message));if($scope.IGQuoteId>0){$scope.otpFn(1,productid);}
else{$scope.showbtntermloader=false;}},function(response){ServiceRespnse(response);});}}}
$scope.validatedot=function(value){$scope=TermFactory.calculateSumAssuredRange($scope,value);}
$scope.products=[{product:"Car",id:"4"},{product:"Twowheeler",id:"8"},{product:"Health",id:"2"},{product:"Term",id:"3"},{product:"Child",id:"7"},{product:"Investment",id:"5"},{product:"Pension",id:"6"}];$scope.closebeenHerePop=function(){$scope.$root.beenHerePopUpAnimation="out fadeOut";$scope.$root.scrollhide="";$scope.$root.beenHerePopUp=false;$scope.showbeenhere=true;$location.search("Searches",null);window.history.back();$location.search("BeenHerePop",null);window.history.back();}
$scope.closemobilepopup1=function(item,product,type){$scope.popupformob=false;$scope.txtcarvariant=item.ModelName
$scope.selectedItem=item;}
$scope.updateincome=function(){TermFactory.userActualIncome($scope);}
$scope.leadredirection=function(item){var revisitflag=CommonService.revisit($scope,globals,item.IGQuoteId);revisitflag.then(function(data){$window.location.href=globals.RedirectURL+"/?CPID="+btoa(item.IGQuoteId)});}
$scope.JourneyDate=function(event){var allowedRegex=/[0-9\/]/g;if(!event.key.match(allowedRegex)){event.preventDefault();}}
$scope.UpdateMobileNo=function(flag){if(flag==1){$scope.showotpbox=false;$rootScope.travelsecondpop=false;$rootScope.travelfirstpop=true;window.history.back();window.history.back();}
else{$scope.showbtnleadloader=false;$scope.showbtncarloader=false;$scope.showotpbox=false;$scope.carpopup=true;$scope.healthfirstpop=true;$scope.pensionpopup=true;$scope.investpopup=true;$scope.childpopup=true;window.history.back();}}
$scope.submitleadform=function(flag,productId){if($scope.userOTP0!=undefined&&$scope.userOTP1!=undefined&&$scope.userOTP2!=undefined&&$scope.userOTP3!=undefined){$scope.userOTP=$scope.userOTP0.toString()+$scope.userOTP1.toString()+$scope.userOTP2.toString()+$scope.userOTP3.toString();$scope.wrongotpmsgshow=false;}
else{$scope.wrongotpmsgshow=true;}
if($scope.userOTP==undefined||$scope.userOTP==""||$scope.userOTP==null){$scope.wrongotpmsgshow=true;$scope.wrongotpmsg="Enter Correct OTP";}
else{$scope.wrongotpmsgshow=false;$scope.showbtnleadloader=true;$scope.leadcreationfn7(productId);}}
$scope.header=function(flag){};$scope.getIndex=function(flag){$window.location.href=globals.landingPage;};$scope.showSimpleToast=function(){$mdToast.show($mdToast.simple().textContent($scope.showText).position('top right').hideDelay(5000));};$scope.closemobilepopup=function(item,product,type){if(product=='car'&&type=='city'){$scope.carcitydropdown=false;$scope.txtCarcity=item.RTOCode;$scope.selectedItem1=item;}
else if(product=='car'&&type=='variant'){$scope.popupformob=false;$scope.txtcarvariant=item.ModelName
$scope.selectedItem=item;}
else if(product=='term'&&type=='city'){$scope.txtCityStateForTerm=true;$scope.termcitystate=false;$scope.txtCityStateTerm=item.cityname;$scope.selectedItem2=item;}
else if(product=='health'&&type=='city'){$scope.healthcitystate=false;$scope.txtCityStateForHealth=true;$scope.txtCityStateHealth=item.cityname;$scope.selectedItem2=item;}
else if(product=='bike'&&type=='bikerto'){$scope.ngBikeRto=true;$scope.ngbikerto=false;$scope.txtbikerto=item.cityname;$scope.selectedbikerto=item;}
else if(product=='bike'&&type=='biketype'){$scope.ngbiketype=true;$scope.ngddlbiketype=false;$scope.txtbiketype=item.bikename;$scope.selectedbikemmv=item;}}
function ServiceRespnse(errorRes){console.log(errorRes);}
$scope.encryptedData=function(value){if(value){const encrypted=CryptoJS.AES.encrypt(CryptoJS.enc.Utf8.parse(value+globals.staticKey),CryptoJS.enc.Utf8.parse(globals.encryptionKey),{keySize:128 / 8,iv:CryptoJS.enc.Utf8.parse(globals.encryptionIv),mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7});return encrypted.toString();}}
$scope.complaintValidation=function(id){if(id=='name'){if(!$scope.customerName){$scope.nameError=true;$scope.nameErrorMessage="Name is required."}
else if(ValidationFactory.namevalidate($scope.customerName)=="False"){$scope.nameError=true;$scope.nameErrorMessage="Please enter correct name."}
else{$scope.nameError=false;}
return $scope.nameError;}
else if(id=='email'){if(!$scope.customerEmail){$scope.emailError=true;$scope.emailErrorMessage="Email Id is required."}
else if(ValidationFactory.emailvalidate($scope.customerEmail)=="False"){$scope.emailError=true;$scope.emailErrorMessage="Please enter correct email id."}
else{$scope.emailError=false;}
return $scope.emailError;}
else if(id=="mobile"){if(!$scope.customerNumber){$scope.mobileError=true;$scope.mobileErrorMessage="Mobile No. is required."}
else if($scope.customerNumber.length<10){$scope.mobileError=true;$scope.mobileErrorMessage="Mobile No. must be 10 digit."}
else if(ValidationFactory.mobilevalidate($scope.customerNumber)=="False"){$scope.mobileError=true;$scope.mobileErrorMessage="Please enter valid mobile no."}
else{$scope.mobileError=false;}
return $scope.mobileError;}
else if(id=="product"){if(!$scope.customerProduct){$scope.productError=true;$scope.productErrorMessage="Product name is required."}
else{$scope.productError=false;}
return $scope.productError;}
else if(id=="issuetype"){if(!$scope.typeofissue){$scope.issueError=true;$scope.issueErrorMessage="Type of issue is required."}
else{if($scope.typeofissue=='Policy Related issue'||$scope.typeofissue=='Payment Issue'){$scope.isPolicyNo=true;$scope.isInsurer=true;}
else{$scope.isPolicyNo=false;$scope.isInsurer=false;}
$scope.issueError=false;}
return $scope.issueError;}
else if(id=="insurer"){if(!$scope.insurer){$scope.insurerError=true;$scope.insurerErrorMessage="Please select insurer";}
else{$scope.insurerError=false;}
return $scope.insurerError;}
else if(id=="policyno"){if(!$scope.policyNo){$scope.policyError=true;$scope.policyErrorMessage="Policy No. is required."}
else{$scope.policyError=false;}
return $scope.policyError;}
else if(id=="description"){if(!$scope.description){$scope.decrError=true;$scope.decrErrorMessage="Please enter correct description."}
else if($scope.description.length<10){$scope.decrError=true;$scope.decrErrorMessage="Description length must be greater than 10 characters";}
else{$scope.decrError=false;}
return $scope.decrError;}}
$scope.submitComplaint=function(){$scope.successmsg=false;$scope.id="";$scope.errormsg="All fiels are mandatory";var flag=0;if($scope.complaintValidation('name')){flag=1;}
if($scope.complaintValidation('email')){flag=1;}
if($scope.complaintValidation('mobile')){flag=1;}
if($scope.complaintValidation('product')){flag=1;}
if($scope.complaintValidation('issuetype')){flag=1;}
if($scope.complaintValidation('insurer')&&$scope.isInsurer){flag=1;}
if($scope.complaintValidation('policyno')&&$scope.isPolicyNo){flag=1;}
if($scope.complaintValidation('description')){flag=1;}
if(flag==0){$scope.complainBtnLoader=true;$scope.disabledBtn=true;$scope.id="";$scope.lodgeaclaim=CommonService.RegistrationComplain($scope);$scope.lodgeaclaim.then(function(result){if(result.data.Status){$scope.claimBtnLoader=true;console.log(result);$scope.complainBtnLoader=false;$scope.successmsg=true;$scope.id=result.data.ReferenceId;;$scope.disabledBtn=false;$scope.customerName="";$scope.customerEmail="";$scope.customerNumber="";$scope.insurer="";$scope.typeofissue="";$scope.description="";$scope.policyNo="";$scope.customerProduct="";$scope.error=false;}
else{$scope.errormsg=result.data.Message;$scope.error=true;}},function(reject){$scope.errormsg="Some internal issues....";$scope.error=true;$scope.complainBtnLoader=false;});}}
$scope.openLife=function(){$window.location.href="/life-insurance";};$scope.getInsurer=function(productid){var data=JSON.stringify({"InsurerData":{"User":{"username":"IGHEALTH2016","password":"IG@HEALTH@2016","vendorid":"2018","pid":"2","productid":productid}}});$scope.insuranceCompaniesData=CommonService.insurancecompanies(data);$scope.insuranceCompaniesData.then(function(result){result.data=angular.fromJson(result.data);console.log(result);$scope.insuranceCompanies=result.data.DocumentElement.GetCareerData;});}
$scope.clickItem=function(item,flag){if(flag=="income"){if(item==1){$scope.showIncomeList=true;if($scope.userActualIncome.length==0)
TermFactory.userActualIncome($scope);}
else{$scope.txtActualIncome=item;$scope.incomeItem=item.text;$scope.annualerror=false;$scope.showIncomeList=false;$scope.checktermincomeerror();}}
else if(flag=="city"){if(item==1){$scope.showCityList=true;$scope.commoncity1();}
else{$scope.selectedItem2=item;$scope.cityItem=item.cityname;$scope.cityerror=false;$scope.showCityList=false;$scope.checkcityerrors();}}
else if(flag=="model"){if(item==1){$scope.showModelList=true;$scope.carlist();}
else{$scope.selectedItem=item;$scope.modelItem=item.ModelName;$scope.carerror=false;$scope.showModelList=false;$scope.checkcarerror();}}
else if(flag=="rto"){if(item==1){$scope.showRtoList=true;$scope.citylist();}
else{$scope.selectedItem1=item;$scope.rtoItem=item.RTOCode;$scope.cityerror=false;$scope.showRtoList=false;}}
else if(flag=="regyear"){if(item==1){$scope.showRegList=true;}
else{$scope.carreg=item.value;$scope.regItem=item.text;$scope.popcarregerror=false;$scope.popcarregerror1=false;$scope.showRegList=false;$scope.claimItem="";$scope.PopulateClaimddl();$scope.carregyear();}}
else if(flag=="ppe"){if(item==1){$scope.showPpeList=true;}
else{$scope.carbreakingpol=item.value;$scope.ppeItem=item.text;$scope.popbikepolexperror=false;$scope.showPpeList=false;$scope.checkcarbreaking1();}}
else if(flag=="claim"){if(item==1){$scope.showClaimList=true;}
else{$scope.carclaim=item.value;$scope.claimItem=item.text;$scope.regerror=false;$scope.showClaimList=false;$scope.carclaimchange();}}
else if(flag=="claimtaken"){if(item==1){$scope.showClaimTakenList=true;}
else{$scope.claimtaken=item.value;$scope.claimTakenItem=item.text;$scope.regerror=false;$scope.showClaimTakenList=false;$scope.PopulateNCB();}}
else if(flag=="cng"){if(item==1){$scope.showCngList=true;}
else{$scope.carkitstatus=item.value;$scope.cngItem=item.text;$scope.popcarcnglpgerror=false;$scope.showCngList=false;$scope.carkitchange();}}
else if(flag=="paymode"){if(item==1){$scope.showPaymodeList=true;}
else{$scope.selectedincome=item.value;$scope.payItem=item.text;$scope.showPaymodeList=false;$scope.nonTermvalidate($scope.txtActualIncome,'invest');}}
else if(flag=="childpaymode"){if(item==1){$scope.showPaymodeList=true;}
else{$scope.childincometype=item.value;$scope.childpayItem=item.text;$scope.showPaymodeList=false;$scope.nonTermvalidate($scope.selectedincome,'child')}}
else if(flag=="pensionpaymode"){if(item==1){$scope.showPaymodeList=true;}
else{$scope.payMode=item.value;$scope.pensionpayItem=item.text;$scope.showPaymodeList=false;$scope.nonTermvalidate($scope.txtActualIncome,'pension')}}}
$scope.returnItem=function(item,flag){$scope.showIncomeList=false;$scope.showCityList=false;$scope.showPayList=false;$scope.showModelList=false;$scope.showRtoList=false;$scope.showRegList=false;$scope.showPpeList=false;$scope.showClaimList=false;$scope.showClaimTakenList=false;$scope.showCngList=false;$scope.showPaymodeList=false;if((item.length==0||!$scope.incomeItem)&&flag=="income"){$scope.incomeItem="";$scope.txtActualIncome="";}
else if((item.length==0||!$scope.cityItem)&&flag=="city"){$scope.cityItem="";$scope.selectedItem2="";}
else if((item.length==0||!$scope.modelItem)&&flag=="model"){$scope.modelItem="";$scope.selectedItem="";}
else if((item.length==0||!$scope.rtoItem)&&flag=="rto"){$scope.rtoItem="";$scope.selectedItem1="";}
else if((item.length==0||!$scope.regItem)&&flag=="regyear"){$scope.regItem="";$scope.carreg="";}
else if((item.length==0||!$scope.ppeItem)&&flag=="ppe"){$scope.ppeItem="";$scope.carbreakingpol="";}
else if((item.length==0||!$scope.claimItem)&&flag=="claim"){$scope.claimItem="";$scope.carclaim="";}
else if((item.length==0||!$scope.claimItem)&&flag=="claimtaken"){$scope.claimTakenItem="";$scope.claimtaken="";}
else if((item.length==0||!$scope.claimItem)&&flag=="cng"){$scope.cngItem="";$scope.carkitstatus="";}
else if((item.length==0||!$scope.selectedincome)&&flag=="paymode"){$scope.payItem="";$scope.selectedincome="";}
else if((item.length==0||!$scope.childincometype)&&flag=="childpaymode"){$scope.childpayItem="";$scope.childincometype="";}
else if((item.length==0||!$scope.childincometype)&&flag=="pensionpaymode"){$scope.pensionpayItem="";$scope.payMode="";}}
$scope.bikeClickItem=function(item,flag){if(flag=="ppe"){if(item==1){$scope.showPpeList=true;}
else{$scope.bikeexpiredpol=item.value;$scope.ppebikeItem=item.text;$scope.popbikepolexperror=false;$scope.showPpeList=false;$scope.bikepolicyexp();}}
else if(flag=="model"){if(item==1){$scope.showModelList=true;$scope.bikealldatalist();}
else{$scope.selectedbikemmv=item;$scope.bikeModelItem=item.bikename;$scope.showModelList=false;$scope.checkbikelisterror();}}
else if(flag=="rto"){if(item==1){$scope.showRtoList=true;$scope.bikecitylist();}
else{$scope.selectedbikerto=item;$scope.bikeRtoItem=item.cityname;$scope.showRtoList=false;$scope.checkbikertoerror();}}
else if(flag=="reg"){if(item==1){$scope.showRegList=true;}
else{$scope.bikereg=item.value;$scope.regItem=item.text;$scope.regYearItem="";$scope.showRegList=false;$scope.bikeregyear();$scope.carregyear();}}
else if(flag=="ppe"){if(item==1){$scope.showPpeList=true;}
else{$scope.bikeexpiredpol=item.value;$scope.ppeItem=item.text;$scope.showPpeList=false;$scope.bikepolicyexp();}}
else if(flag=="regyear"){if(item==1){$scope.showRegyearList=true;}
else{$scope.bikelastclaim=item.value;$scope.regYearItem=item.text;$scope.popbikelastclaimerror=false;$scope.showRegyearList=false;$scope.bikelastclaimfn();}}}
$scope.bikeReturnItem=function(item,flag){$scope.showPpeList=false;$scope.showModelList=false;$scope.showRtoList=false;$scope.showRegList=false;$scope.showPpeList=false;$scope.showRegyearList=false;if((item.length==0||!$scope.ppebikeItem)&&flag=="ppe"){$scope.ppebikeItem="";$scope.bikeexpiredpol="";}
else if((item.length==0||!$scope.bikeModelItem)&&flag=="model"){$scope.bikeModelItem="";$scope.selectedbikemmv="";}
else if((item.length==0||!$scope.bikeRtoItem)&&flag=="rto"){$scope.bikeRtoItem="";$scope.selectedbikerto="";}
else if((item.length==0||!$scope.regItem)&&flag=="reg"){$scope.regItem="";$scope.bikereg="";}
else if((item.length==0||!$scope.ppeItem)&&flag=="ppe"){$scope.ppeItem="";$scope.bikeexpiredpol="";}
else if((item.length==0||!$scope.regYearItem)&&flag=="regyear"){$scope.regYearItem="";$scope.bikelastclaim="";}}}]);



//commonfactory.js
app.factory('CommonFactory',function($filter,ValidationFactory,$window){return{daysInMonth:function(date){return new Date(date.getFullYear(),date.getMonth()+1,0).getDate();},CustomerAgeGroup:function(datediif){var userdatearray=datediif.split('-');var d1=new Date(userdatearray[1]+"/"+userdatearray[0]+"/"+userdatearray[2]);d2=new Date();if(d2<d1){var diff=monthDiff(d2,d1);if(diff==0)
return 0;else
return-diff;}
var years=d2.getFullYear()-d1.getFullYear();var months=d2.getMonth()-d1.getMonth();var monthDays1=this.daysInMonth(d1);var monthDays2=this.daysInMonth(d2);if(d2.getDate()<d1.getDate()&&monthDays1-d1.getDate()+d2.getDate()<monthDays2)
months-=1;return years*12+months;},convertinputincometotext:function($scope,income){var status=false;if(ValidationFactory.onlynumber(income)=="False"){status=true;}
else{status=false;$scope.usertextincome=parseFloat(income / 100000).toFixed(2)+' lacs.';}
return status;},calculateSumAssuredRange:function($scope,useractualincome){$scope.income=useractualincome
if($scope.income<10000){$scope.annualerror=true;}
else if($scope.income>500000){$scope.annualerror=true;}
else{$scope.annualerror=false;}
return $scope;}}});

//Datafactory.js
app.factory('DataFactory',function(ValidationFactory){var saveddata={};return{SetData:function(data1){saveddata=data1;},GetData:function(){return saveddata;},convertinputincometotext:function($scope,income){var status=false;if(ValidationFactory.onlynumber(income)=="False"){status=true;}
else{status=false;$scope.usertextincome=parseFloat(income / 100000).toFixed(2)+' lacs.';}
return status;},calculateSumAssuredRange:function($scope,useractualincome){$scope.income=useractualincome
if($scope.income<10000){$scope.annualerror=true;}
else if($scope.income>500000){$scope.annualerror=true;}
else{$scope.annualerror=false;}
return $scope;},stringifyallDobs:function(json){var convertedDOB=[];for(var i=0;i<json.length;i++){convertedDOB[i]=this.stringifydob(json[i]);}
return convertedDOB;},calculateSumAssuredRangeNonTerm:function($scope,useractualincome){$scope.income=useractualincome
if($scope.income<10000){$scope.annualerror=true;}
else if($scope.income>500000){$scope.annualerror=true;}
else{$scope.annualerror=false;}
return $scope;},stringifydob:function(value){var reISO=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/;var s=JSON.parse(JSON.stringify(new Date(value)));var a=reISO.exec(s);if(a){var val='/Date('+new Date(Date.UTC(+a[1],+a[2]-1,+a[3],+a[4],+a[5],+a[6])).getTime()+')/';}
return val;},userActualIncome:function($scope){$scope.userActualIncome=[];var Value=null;var Text='';var InitialValue=95000;for(i=InitialValue;i<2500000;){i=i+5000;Text=parseFloat(i / 100000).toFixed(2)+' Lacs';$scope.userActualIncome.push({ActualIncomeText:Text});}
return $scope.userActualIncome;},calculateSumAssuredRange:function($scope,useractualincome){if(useractualincome!=undefined){$scope.userfloatincome=parseFloat(useractualincome / 100000).toFixed(2);$scope.homepageincometext='';$scope.minincome='';$scope.maxincome='';var userincomeinlacs=Math.round($scope.userfloatincome);var count=useractualincome.toString().length;if(count<=7){$scope.homepageincometext=parseFloat(useractualincome / 100000).toFixed(2)+' Lacs';}
else{$scope.annualerror=true;}
if($scope.userfloatincome<1.0){$scope.annualerror=true;}
else if($scope.userfloatincome>25.0){$scope.annualerror=true;}
else{$scope.annualerror=false;}
if(userincomeinlacs>=0&&userincomeinlacs<=3){$scope.minincome=0;$scope.maxincome=3;}
else if(userincomeinlacs>=3&&userincomeinlacs<=4){$scope.minincome=3;$scope.maxincome=4;}
else if(userincomeinlacs>=4&&userincomeinlacs<=7){$scope.minincome=4;$scope.maxincome=7;}
else if(userincomeinlacs>=7&&userincomeinlacs<=10){$scope.minincome=7;$scope.maxincome=10;}
else if(userincomeinlacs>=10&&userincomeinlacs<=15){$scope.minincome=10;$scope.maxincome=15;}
else if(userincomeinlacs>=15){$scope.minincome=15;$scope.maxincome=20;}}
return $scope;}}});


//termfactory.js
app.factory('TermFactory',function($filter,ValidationFactory,$location){return{sumassuredconverttotext:function($scope,actualsumassured){var Value=null;for(i=0;i<$scope.sumassuredlist.length;i++){if(actualsumassured==$scope.sumassuredlist[i].summassuredvalue){Value=$scope.sumassuredlist[i].sumassuredtext;}}
return Value;},userActualIncome:function($scope){if($scope.product=="Term"){var Value=null;var Text='';var InitialValue=100000;for(i=InitialValue;i<10000000;){i=i+100000;if(i==10000000){Text=parseFloat(i / 10000000)+' Crore';}
else{Text=parseFloat(i / 100000)+' Lacs';}
$scope.userActualIncome.push({text:Text,value:i});}
return $scope.userActualIncome;}
else{var Value=null;var Text='';var InitialValue=0;for(i=InitialValue;i<10000000;){i=i+100000;if(i==10000000){Text=parseFloat(i / 10000000)+' Crore';}
else{Text=parseFloat(i / 100000)+' Lacs';}
$scope.userActualIncome.push({text:Text,value:i});}
return $scope.userActualIncome;}},calculateSumAssuredRange:function($scope,useractualincome){if(useractualincome!=undefined){$scope.userfloatincome=parseFloat(useractualincome / 100000).toFixed(2);$scope.homepageincometext='';$scope.minincome='';$scope.maxincome='';var userincomeinlacs=Math.round($scope.userfloatincome);var count=useractualincome.toString().length;if(count<=7){$scope.homepageincometext=parseFloat(useractualincome / 100000).toFixed(2)+' Lacs';}
else{$scope.annualerror=true;}
if($scope.userfloatincome<1.0){$scope.annualerror=true;}
else if($scope.userfloatincome>100.0){$scope.annualerror=true;}
else{$scope.annualerror=false;}
if(userincomeinlacs>=0&&userincomeinlacs<=3){$scope.minincome=0;$scope.maxincome=3;}
else if(userincomeinlacs>=3&&userincomeinlacs<=4){$scope.minincome=3;$scope.maxincome=4;}
else if(userincomeinlacs>=4&&userincomeinlacs<=7){$scope.minincome=4;$scope.maxincome=7;}
else if(userincomeinlacs>=7&&userincomeinlacs<=10){$scope.minincome=7;$scope.maxincome=10;}
else if(userincomeinlacs>=10&&userincomeinlacs<=15){$scope.minincome=10;$scope.maxincome=15;}
else if(userincomeinlacs>=15){$scope.minincome=15;$scope.maxincome=20;}}
return $scope;},convertincomeintotext:function($scope,value){var userfloatincome='';var count=value.toString().length;if((count==6||count==7)&&value!=2500000){userfloatincome=parseFloat(value / 100000).toFixed(2)+' Lacs';}
else{userfloatincome=parseFloat(value / 100000).toFixed(2)+' Lacs and more';}
return userfloatincome;},updateurl:function($scope,url){$scope.redirecturl=this.bindQuerystring($scope,url);return $scope.redirecturl;},convertinputincometotext:function($scope,income){var status=false;if(ValidationFactory.onlynumber(income)=="False"){status=true;}
else{status=false;$scope.usertextincome=parseFloat(income / 100000).toFixed(2)+' Lacs.';}
return status;}}});

//validationfactory.js
app.factory('ValidationFactory',function(){return{GetOTPString1:function()
{var leadrequest={"RequestString":{"OTPValidationRequest":{"User":{"UserName":"123","UserPassword":"123","UserIP":"192.168.1.129","Vendorid":"2018","Productid":"3"},"OTPValidation":{"Mobile":"9873008200","OTP":"4073","Tokenid":"WIN-I2MHQOTJM4B6df1875a-c2a4-46e0-8d68-0a889c269359"}}}};return leadrequest;},GetEncryptedString:function()
{var bikeleadrequest={"RequestString":{"MobileValidationRequest":{"User":{"UserName":"123","UserPassword":"123","UserIP":"192.168.1.129","Vendorid":"2018","Productid":"8"},"MobileValidation":{"Mobile":undefined,"isOTPRequire":"No","isOTPRequireForValidMobile":"No"}}}};return bikeleadrequest;},GetLeadCreationEncryptedString:function()
{var bikeleadrequest={"RequestString":{"LeadCreateRequest":{"User":{"UserName":"123","UserPassword":"123","UserIP":"192.168.1.129","Vendorid":2018,"Tokenid":"8a748771-574b-48b2-a113-ecb85bb3593f"},"Products":{"product":[{"productid":8}]},"Visitor":{"leads":{"lead":[{"leadId":""}]},"Name":"","EmailId":"","MobileNo":"","CountryCode":"+91","IsCallBackRequire":"false","OriginPageid":"2"}}}};return bikeleadrequest;},mobilevalidate:function(mobile){var reg=/^([0|\+[0-9]{1,5})?([1-9][0-9]{9})$/;if(mobile!=undefined&&mobile.toString().length==10&&reg.test(mobile)){var msgMobile="True";}
else{var msgMobile="False";}
return msgMobile;},emailvalidate:function(email){var reg=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;if(email!=undefined&&email.length!=4&&reg.test(email)){var msgEmail="True";}
else{var msgEmail="False";}
return msgEmail;},descriptionvalidate:function(text){var regex=/[^\w\s]/gi;if(text!=undefined&&text!=""&&!regex.test(text)){var msgText="True";}
else{var msgText="False";}
return msgText;},namevalidate:function(name){var regex=/^[a-zA-Z\s]*$/
if((name!=undefined)&&(name!="")&&(regex.test(name))){var msgName="True";}
else{var msgName="False";}
return msgName;},onlynumber:function(number){var reg=/[^0-9]+/g;if((number!=undefined)&&(!reg.test(number))){var msgNumber="True";}
else{var msgNumber="False";}
return msgNumber;},nospacevalidate:function(nospace){var reg=/\s/g;if((nospace!=undefined)&&(!reg.test(nospace))){var magNoSpace="True";}
else{var magNoSpace="False";}
return magNoSpace;},required:function(txt){var reg=/\s/g;if((txt!=undefined)&&(txt!="")){var msgRequired="True";}
else{var msgRequired="False";}
return msgRequired;},validatepancard:function(pancard){var regex=/^[a-zA-Z'.\\s]{1,40}$/;if((pancard!=undefined)&&(regex.test(pancard))){var msgName="True";}
else{var msgName="False";}
return msgName;},AgeGroup:function(datediif){var userdatearray=datediif.split('-');var d1=new Date(userdatearray[1]+"/"+userdatearray[0]+"/"+userdatearray[2]);d2=new Date();if(d2<d1){var diff=monthDiff(d2,d1);if(diff==0)
return 0;else
return-diff;}
var years=d2.getFullYear()-d1.getFullYear();var months=d2.getMonth()-d1.getMonth();var days=(d2.getDate()-d1.getDate())/30;return years*12+months+days;},}});

//services.js
var app=angular.module('App');app.service('CommonService',function($location,$filter,$http,globals){var CommonService={};CommonService.formatReg=function(registrationNo){var regNo=registrationNo;regNo=regNo.replace(/-/g,"");var regNoArray=new Array(4);regNoArray[0]=regNo.slice(0,2);regNoArray[1]='';regNoArray[2]='';regNoArray[3]='';try{if(!isNaN(regNo.slice(2,4))){regNoArray[1]=regNo.slice(2,4);}
else{if(!isNaN(regNo.slice(2,3))){regNoArray[1]=regNo.slice(2,3);}
if(isNaN(regNo.slice(3,4))){regNoArray[2]=regNo.slice(3,4);}}
if(!isNaN(regNo.slice(4,8))){regNoArray[3]=regNoArray[3]+regNo.slice(4,8);}
else{regNoArray[2]=regNoArray[2]+regNo.slice(4,5);if(isNaN(regNo.slice(5,6))==true&&isNaN(regNo.slice(6,7))==true){regNoArray[2]=regNoArray[2]+regNo.slice(5,7);}
else{if(isNaN(regNo.slice(5,6))){regNoArray[2]=regNoArray[2]+regNo.slice(5,6);}
else{regNoArray[3]=regNoArray[3]+regNo.slice(5,6);}
if(!isNaN(regNo.slice(6,7))){regNoArray[3]=regNoArray[3]+regNo.slice(6,7);}}
if(!isNaN(regNo.slice(7,11))){regNoArray[3]=regNoArray[3]+regNo.slice(7,11);}}}
catch(e){}
return regNoArray.join('-').replace(/--/g,"-").replace(/-\s*$/,"").replace(/[^- 0-9 a-z A-z]/g,"");};CommonService.insurancecompanies=function(data){var request=$http({method:"POST",url:globals.IGwServiceURL+"/IGGeneralServices.svc/web/GetInsurer",headers:{'Content-Type':'application/json; charset=utf-8'},dataType:"json",data:JSON.stringify({"RequestString":data})});return request;};CommonService.citylist=function($scope){var vData={IsTopLocation:$scope.CityValue};var request=$http({method:"POST",dataType:"json",url:globals.ServiceURL+'/MasterService.svc/web/GetCityList',contentType:"application/json; charset=utf-8",data:JSON.stringify(vData)});return request;};CommonService.getCountrylist=function(){var request=$http({method:"POST",url:globals.ServiceURL+'/MasterService.svc/web/GetCountryList',});return request;};CommonService.SendOTPReboot=function($scope){var mbl=$scope.userMobile;var vData={"IsResend":$scope.resendFlag,"MobileNumber":mbl,"CP_ID":$scope.IGQuoteId,"ClientKey":$scope.encryptedData($scope.IGQuoteId.toString()+mbl)}
var request=$http({method:"POST",dataType:"json",url:globals.ServiceURL+"/Lead.svc/web/SendOTPReboot",contentType:"application/json; charset=utf-8",data:JSON.stringify(vData)});return request;};CommonService.NewSendOTPReboot=function(mbl){var vData={"IsResend":false,"MobileNumber":mbl,"ForceOTP":true}
var request=$http({method:"POST",dataType:"json",url:globals.ServiceURL+"/Lead.svc/web/SendOTPReboot",contentType:"application/json; charset=utf-8",data:JSON.stringify(vData)});return request;};CommonService.getDataByUserVisits=function(otp,mobilenumber,Tokenid){var requestdata={"request":{"OTP":otp,"MobileNumber":mobilenumber,"Tokenid":Tokenid}};var request=$http({method:"POST",url:globals.ServiceURL+"/Lead.svc/web/GetUserVisits",data:JSON.stringify(requestdata)});return request;};CommonService.carmakemodel=function(carname,rtocode){var requestdata={"data":{"CarIDs":4,"CarMakeModelVarientFuleTypeCombination":carname,'rto':rtocode}};var request=$http({method:"POST",dataType:"json",url:globals.IGwServiceURL+"/InsureJoyServices.svc/web/CarMakeModelVarientFuelTypeService",contentType:"application/json; charset=utf-8",data:JSON.stringify(requestdata)});return request;};CommonService.setsessionvariable=function(key,data){var vData={type:"Set",key:0,sessionValue:JSON.stringify(data,null,"")};var request=$http({method:"POST",dataType:'jsonp',url:globals.IGwServiceURL+"/InsureJoyServices.svc/web/SetSession",data:JSON.stringify(vData)});return request;};CommonService.bikemakemodelservice=function(data){var request=$http({method:"post",url:globals.ServiceURL+"/MasterService.svc/web/GetTWModelList",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({"Combination":""})});return request;};CommonService.bikertoservice=function(data,rtocode,$scope){var request=$http({method:"POST",url:globals.ServiceURL+"/MasterService.svc/web/GetTWRTOList",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({"Combination":data,"FLADRtoata":rtocode})});return request;};CommonService.carupdatedmakemodelservice=function(data){var request=$http({method:"POST",url:globals.ServiceURL+"/MasterService.svc/web/GetCarModelList",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({"Combination":""})});return request;};CommonService.carupdatedrtoservice=function(data){var request=$http({method:"POST",url:globals.ServiceURL+"/MasterService.svc/web/GetCarRTOList",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({"Combination":""})});return request;};CommonService.fastlane=function(data){var requestdata={inputString:data};var request=$http({method:"POST",url:globals.IGwServiceURL+"/InsureJoyProposal.svc/web/GetVehicleLookup",contentType:"application/json",dataType:"json",data:'"'+data+'"'});return request;};CommonService.getCPIDdata=function(data){var requestdata=parseInt(data);var request=$http({method:"POST",url:globals.ServiceURL+"/Lead.svc/web/GetContinueJourneyDetails",contentType:"application/json",dataType:"json",data:requestdata});return request;};CommonService.sethelpdeskticket=function(data){var request=$http({method:"POST",url:globals.fershDeskURL,headers:{"Authorization":"Basic "+btoa("67PZTI5zoRxGMNT3H4HW"+":x")},contentType:"application/json",dataType:"json",data:data});return request;};CommonService.saveCriticalRequirementData=function($scope,globals){var SumAssured=Math.round((parseInt($scope.txtActualIncome.value)*12)/100000)*100000;if(SumAssured>5000000)
{SumAssured=5000000;}
var requestdata={"IGQuoteId":0,"DeviceType":$scope.apidevice,"DeviceName":$scope.apios,"Browser":$scope.apiBrowser,"PartnerAgentId":$scope.utmpartneragentiddata,"LandingURL":$scope.webURL,"PartnerLeadId":$scope.utmpartnerleadiddata,"RequestType":"","Requests":[{"__type":"CancerRequest:#ServiceEntities","ProductId":9,"IsOffline":true,"CityID":parseInt(($scope.selectedItem2.cityid.split(',')[0]).trim()),"DateOfBirth":JSON.parse(CommonService.stringifyWcf($scope.formdob,1)),"Gender":$scope.gender,"IsTobacco":$scope.formtobacco.toLowerCase(),"PolicyTerm":0,"SumAssured":SumAssured,"UserInputIncome":parseInt($scope.txtActualIncome.value),}],"ServiceTimeOut":0,"utmMedium":$scope.utmmediumdata,"MobileNo":$scope.userMobile,"utmCompaign":$scope.utmcampaigndata,"utmSource":$scope.utmsourcedata,"utmTerm":""};var request=$http({method:"POST",dataType:"jsonp",url:globals.ServiceURL+"/QuoteService.svc/web/Save",data:requestdata});return request;};CommonService.saveCarRequirementData=function($scope,globals){if($scope.carbreaking==0&&$scope.carbreakingexp==1)
{var breaking=91;}
else if($scope.carbreaking==0&&$scope.carbreakingexp==0)
{var breaking=90;}
else{var breaking=0;}
if($scope.newcarSearch==true)
{var IsNewVehicle=true;}
else{var IsNewVehicle=false;}
var requestdata={"IGQuoteId":0,"IsDnc":true,"PartnerAgentId":$scope.utmpartneragentiddata,"DeviceType":$scope.apidevice,"DeviceName":$scope.apios,"Browser":$scope.apiBrowser,"PartnerLeadId":$scope.utmpartnerleadiddata,"RequestType":"","IPAddress":"1.1.1.1","LandingURL":$scope.webURL,"Requests":[{"__type":"CarRequest:#ServiceEntities","ProductId":4,"BreakingDays":breaking,"ClaimTaken":$scope.ClaimTaken,"ClaimedNCB":$scope.carclaimedncb,"RequiredNCB":$scope.carrequiredncb,"IDV":0,"InsurerIds":[1,17],"IsNewVehicle":IsNewVehicle,"ModelId":$scope.selectedItem.ModelId,"RTOCode":$scope.selectedItem1.RTOCode,"KitValue":$scope.$root.entercngkitvalue,"RegistrationDate":$scope.Registrationdate,"RegistrationYear":$scope.carreg,"RegistrationNo":$scope.carregnumber,"ChasisNo":$scope.bikechasisno==undefined?"":$scope.bikechasisno,"EngineNo":$scope.formengineno==undefined?"":$scope.formengineno,"Features":[{"__type":"BooleanFeature:#ServiceEntities","Name":"ZeroDept","IsSelected":false},{"__type":"BooleanFeature:#ServiceEntities","Name":"RSAC","IsSelected":false},{"__type":"BooleanFeature:#ServiceEntities","Name":"NCBProtection","IsSelected":false},{"__type":"BooleanFeature:#ServiceEntities","Name":"Invoice","IsSelected":false},{"__type":"BooleanFeature:#ServiceEntities","Name":"Enginegear","IsSelected":false},{"__type":"BooleanFeature:#ServiceEntities","Name":"KeyLockReplacement","IsSelected":false},{"__type":"BooleanFeature:#ServiceEntities","Name":"HydrostaticLock","IsSelected":false},{"__type":"BooleanFeature:#ServiceEntities","Name":"Hospital","IsSelected":false},{"__type":"BooleanFeature:#ServiceEntities","Name":"Medical","IsSelected":false},{"__type":"BooleanFeature:#ServiceEntities","Name":"CashAllowance","IsSelected":false},{"__type":"BooleanFeature:#ServiceEntities","Name":"TyreCover","IsSelected":false},{"__type":"BooleanFeature:#ServiceEntities","Name":"CostOfConsumables","IsSelected":false},{"__type":"BooleanFeature:#ServiceEntities","Name":"AntiTheftDevice","IsSelected":false},{"__type":"BooleanFeature:#ServiceEntities","Name":"LegalLiabilityPaidDriver","IsSelected":false},{"__type":"CustomFeature:#ServiceEntities","Name":"PAUnnamed","Value":0,"IsSelected":false},{"__type":"CustomFeature:#ServiceEntities","Name":"VoluntryDiscount","Value":0,"IsSelected":false},{"__type":"CustomFeature:#ServiceEntities","Name":"ElectricalAccessory","Value":0,"IsSelected":false},{"__type":"CustomFeature:#ServiceEntities","Name":"NonElectricalAccessory","Value":0,"IsSelected":false},{"__type":"CNGFeature:#ServiceEntities","Name":"CNG","Type":"NONE","Value":$scope.$root.entercngkitvalue},{"__type":"AAIFeature:#ServiceEntities","Name":"AAI","LicenseNumber":"6324523vsadfa","AssociateName":"mangal deep gupta","ExpiryDate":JSON.parse(CommonService.stringifyWcf("12-12-2017",1)),"IsLifeMember":true,"IsSelected":false}]}],"ServiceTimeOut":11,"utmMedium":$scope.utmmediumdata,"utmCompaign":$scope.utmcampaigndata,"MobileNo":$scope.userMobile,"utmSource":$scope.utmsourcedata,"utmTerm":$scope.utmtermdata};var request=$http({method:"POST",dataType:"jsonp",url:globals.ServiceURL+"/QuoteService.svc/web/Save",data:requestdata});return request;};CommonService.saveBikeRequirementData=function($scope){if($scope.newcarSearch==true)
{var IsNewVehicle=true;}
else{var IsNewVehicle=false;}
var requestdata={"IGQuoteId":0,"IsDnc":true,"IsOffline":true,"DeviceType":$scope.apidevice,"DeviceName":$scope.apios,"Browser":$scope.apiBrowser,"PartnerAgentId":$scope.utmpartneragentiddata,"PartnerLeadId":$scope.utmpartnerleadiddata,"RequestType":"","IPAddress":"1.1.1.1","LandingURL":$scope.webURL,"Requests":[{"__type":"TWRequest:#ServiceEntities","ProductId":8,"BreakingDays":$scope.bikeexpiredpol,"ClaimTaken":$scope.ClaimTaken,"ClaimedNCB":$scope.ClaimedNCB,"RequiredNCB":$scope.RequiredNCB,"IDV":0,"InsurerIds":[1,17],"IsNewVehicle":IsNewVehicle,"ModelId":$scope.selectedbikemmv.modelid,"RTOCode":$scope.selectedbikerto.RTOCode,"RegistrationYear":$scope.bikereg,"RegistrationNo":$scope.bikeregnumber,"RegistrationDate":$scope.Registrationdate,"ChasisNo":$scope.bikechasisno==undefined?"":$scope.bikechasisno,"EngineNo":$scope.bikeengineno==undefined?"":$scope.bikeengineno,"Features":[{"__type":"BooleanFeature:#ServiceEntities","Name":"ZeroDept","IsSelected":false},{"__type":"BooleanFeature:#ServiceEntities","Name":"RSAC","IsSelected":false},{"__type":"CustomFeature:#ServiceEntities","Name":"PAUnnamed","Value":0}]}],"ServiceTimeOut":11,"utmMedium":$scope.utmmediumdata,"utmCompaign":$scope.utmcampaigndata,"utmSource":$scope.utmsourcedata,"MobileNo":$scope.userMobile,"utmTerm":$scope.utmtermdata};var request=$http({method:"POST",dataType:"jsonp",url:globals.ServiceURL+"/QuoteService.svc/web/Save",data:requestdata});return request;};CommonService.saveHealthRequirementData=function($scope,globals){var requestdata={"IGQuoteId":0,"IsDnc":true,"PartnerAgentId":$scope.utmpartneragentiddata,"DeviceType":$scope.apidevice,"DeviceName":$scope.apios,"Browser":$scope.apiBrowser,"LandingURL":$scope.webURL,"PartnerLeadId":$scope.utmpartnerleadiddata,"RequestType":"","IPAddress":"1.1.1.1","LandingURL":$scope.webURL,"Requests":[{"__type":"HealthRequest:#ServiceEntities","Features":[],"ProductId":2,"IsOffline":true,"CityId":parseInt(($scope.selectedItem2.cityid.split(',')[0]).trim()),"DOB":JSON.parse(CommonService.stringifyWcf($scope.formdob,1)),"Gender":$scope.gender,"InsurerIds":"","IsQuotes":"","NetworkHospital1":null,"NetworkHospital2":null,"NetworkHospital3":null,"NumberOfAdults":parseInt($scope.selectedadult),"NumberOfChildren":parseInt($scope.selectedchild),"PolicyTerm":1,"SumInsured":550000,"Medicaltest":0,"DiseasID":"","FeatureID":"","HospitalID":"","IGQuoteId":0}],"ServiceTimeOut":123,"utmMedium":$scope.utmmediumdata,"utmCompaign":$scope.utmcampaigndata,"MobileNo":$scope.userMobile,"utmSource":$scope.utmsourcedata,"utmTerm":$scope.utmtermdata};var request=$http({method:"POST",dataType:"jsonp",url:globals.ServiceURL+"/QuoteService.svc/web/Save",data:requestdata});return request;};CommonService.saveHealthRequirementDataEnhance=function($scope,globals){var requestdata={"IGQuoteId":0,"IsDnc":true,"PartnerAgentId":$scope.utmpartneragentiddata,"DeviceType":$scope.apidevice,"DeviceName":$scope.apios,"Browser":$scope.apiBrowser,"LandingURL":$scope.webURL,"PartnerLeadId":$scope.utmpartnerleadiddata,"RequestType":"","IPAddress":"1.1.1.1","LandingURL":$scope.webURL,"Requests":[{"__type":"HealthRequest:#ServiceEntities","Features":[],"ProductId":2,"IsOffline":true,"CityId":parseInt(($scope.selectedItem2.cityid.split(',')[0]).trim()),"DOB":JSON.parse(CommonService.stringifyWcf($scope.formdob,1)),"Gender":$scope.gender,"InsurerIds":"","IsQuotes":"","NetworkHospital1":null,"NetworkHospital2":null,"NetworkHospital3":null,"NumberOfAdults":parseInt($scope.selectedadult),"NumberOfChildren":parseInt($scope.selectedchild),"PolicyTerm":1,"SumInsured":550000,"DeductibleAmount":$scope.deductmodel.value,"Medicaltest":0,"DiseasID":"","FeatureID":"","HospitalID":"","IGQuoteId":0}],"ServiceTimeOut":123,"utmMedium":$scope.utmmediumdata,"utmCompaign":$scope.utmcampaigndata,"utmSource":$scope.utmsourcedata,"MobileNo":$scope.userMobile,"utmTerm":$scope.utmtermdata};var request=$http({method:"POST",dataType:"jsonp",url:globals.ServiceURL+"/QuoteService.svc/web/Save",data:requestdata});return request;};CommonService.saveTermRequirementData=function($scope,globals){var termage=75-$scope.AgeInYears;var requestdata={"IGQuoteId":0,"IsDnc":true,"DeviceType":$scope.apidevice,"DeviceName":$scope.apios,"Browser":$scope.apiBrowser,"PartnerAgentId":$scope.utmpartneragentiddata,"LandingURL":$scope.webURL,"PartnerLeadId":$scope.utmpartnerleadiddata,"RequestType":"","IPAddress":"1.1.1.1","LandingURL":$scope.webURL,"Requests":[{"__type":"TermRequest:#ServiceEntities","Features":null,"ProductId":3,"AnnualIncomeRange":$scope.txtActualIncome.value,"CityID":parseInt(($scope.selectedItem2.cityid.split(',')[0]).trim()),"DateOfBirth":JSON.parse(CommonService.stringifyWcf($scope.formdob,1)),"Gender":$scope.gender,"IsTobacco":$scope.formtobacco.toLowerCase(),"PayingMode":'Yearly',"PolicyTerm":0,"SelectedRiders":[],"SumAssured":$scope.SumAssured,"UserInputIncome":parseInt($scope.txtActualIncome.value),"MinAnnualIncomeRange":parseInt($scope.minincome),"MaxAnnualIncomeRange":parseInt($scope.maxincome),"Features":null}],"ServiceTimeOut":0,"utmMedium":$scope.utmmediumdata,"utmCompaign":$scope.utmcampaigndata,"utmSource":$scope.utmsourcedata,"MobileNo":$scope.userMobile,"utmTerm":$scope.utmtermdata};var request=$http({method:"POST",dataType:"jsonp",url:globals.ServiceURL+"/QuoteService.svc/web/Save",data:requestdata});return request;};CommonService.saveInvestmentRequirementData=function($scope,globals){var requestdata={"IGQuoteId":0,"IsDnc":true,"DeviceType":$scope.apidevice,"DeviceName":$scope.apios,"Browser":$scope.apiBrowser,"PartnerAgentId":$scope.utmpartneragentiddata,"LandingURL":$scope.webURL,"PartnerLeadId":$scope.utmpartnerleadiddata,"RequestType":"","Requests":[{"__type":"NonTermRequest:#ServiceEntities","DOBs":[JSON.parse(CommonService.stringifyWcf($scope.formdob,1))],"Features":[{"__type":"BooleanFeature:#ServiceEntities","Id":"0","Name":""},{"__type":"CustomFeature:#ServiceEntities","Name":"","Id":"0"},{"__type":"CustomFeature:#ServiceEntities","Id":"0","Name":""},{"__type":"CustomFeature:#ServiceEntities","Id":"0","Name":""},{"__type":"CustomFeature:#ServiceEntities","Id":"0","Name":""},],"Amount":$scope.txtActualIncome,"PayingMode":$scope.selectedincome,"MaturityTerm":"5","MaxMaturityTerm":40,"Gender":$scope.formgender,"CityId":3035,"MinRisk":0,"MaxRisk":0,"ProductId":5,"MaturityType":"HistoricalGrowth","PaymentDuration":40}],"ServiceTimeOut":"2147483647","utmMedium":$scope.utmmediumdata,"utmCompaign":$scope.utmcampaigndata,"utmSource":$scope.utmsourcedata,"MobileNo":$scope.userMobile,"utmTerm":$scope.utmtermdata};var request=$http({method:"POST",dataType:"jsonp",url:globals.ServiceURL+"/QuoteService.svc/web/Save",data:requestdata});return request;};CommonService.savePensionRequirementData=function($scope,globals){var requestdata={"IGQuoteId":0,"IsDnc":true,"DeviceType":$scope.apidevice,"DeviceName":$scope.apios,"Browser":$scope.apiBrowser,"PartnerAgentId":$scope.utmpartneragentiddata,"LandingURL":$scope.webURL,"PartnerLeadId":$scope.utmpartnerleadiddata,"RequestType":"String content","Requests":[{"__type":"NonTermRequest:#ServiceEntities","DOBs":[JSON.parse(CommonService.stringifyWcf($scope.formdob,1))],"Features":[{"__type":"BooleanFeature:#ServiceEntities","Name":"","Id":0}],"Amount":$scope.txtActualIncome,"PayingMode":$scope.payMode,"MaturityTerm":"24","Gender":$scope.formgender,"CityId":3035,"PensionFor":"self","ProductId":6,"MinRisk":0,"MaxRisk":0,"PaymentDuration":24,"PensionTill":90}],"ServiceTimeOut":2147483647,"utmMedium":$scope.utmmediumdata,"utmCompaign":$scope.utmcampaigndata,"utmSource":$scope.utmsourcedata,"MobileNo":$scope.userMobile,"utmTerm":$scope.utmtermdata};var request=$http({method:"POST",dataType:"jsonp",url:globals.ServiceURL+"/QuoteService.svc/web/Save",data:requestdata});return request;};CommonService.saveChildRequirementData=function($scope,globals){var requestdata={"IGQuoteId":0,"DeviceType":$scope.apidevice,"DeviceName":$scope.apios,"Browser":$scope.apiBrowser,"IsDnc":true,"LandingURL":$scope.webURL,"PartnerAgentId":$scope.utmpartneragentiddata,"PartnerLeadId":$scope.utmpartnerleadiddata,"RequestType":"","Requests":[{"__type":"NonTermRequest:#ServiceEntities","DOBs":[JSON.parse(CommonService.stringifyWcf($scope.formdob,1)),JSON.parse(CommonService.stringifyWcf($scope.childDOB,1))],"Features":[{"__type":"BooleanFeature:#ServiceEntities","Id":"0","Name":""},{"__type":"BooleanFeature:#ServiceEntities","Id":"0","Name":""}],"Amount":$scope.selectedincome,"PayingMode":$scope.childincometype,"MaturityTerm":$scope.MaturityTerm,"Gender":$scope.formgender,"CityId":3035,"MinRisk":1,"MaxRisk":5,"ProductId":7,"MaturityType":"HistoricalGrowth","PaymentDuration":0}],"ServiceTimeOut":"2147483647","utmMedium":$scope.utmmediumdata,"utmCompaign":$scope.utmcampaigndata,"utmSource":$scope.utmsourcedata,"MobileNo":$scope.userMobile,"utmTerm":$scope.utmtermdata};var request=$http({method:"POST",dataType:"jsonp",url:globals.ServiceURL+"/QuoteService.svc/web/Save",data:requestdata});return request;};CommonService.saveTravelRequirementData=function($scope,globals){if($scope.formtraveldestinations)
var requestdata={"IGQuoteId":0,"IsDnc":true,"DeviceType":$scope.apidevice,"DeviceName":$scope.apios,"Browser":$scope.apiBrowser,"PartnerAgentId":$scope.utmpartneragentiddata,"LandingURL":$scope.webURL,"PartnerLeadId":$scope.utmpartnerleadiddata,"RequestType":"","Requests":[{"__type":"TravelRequest:#ServiceEntities","Features":[],"ProductId":1,"CityId":3035,"DOBs":$scope.DOBArray,"Destinations":$scope.formtraveldestinations.toString().split(","),"EndDate":JSON.parse(CommonService.stringifyWcf($scope.formtravelenddate,3)),"PolicyType":1,"StartDate":JSON.parse(CommonService.stringifyWcf($scope.formtravelstartdate,3)),"SumInsured":50000,"TripType":1}],"utmMedium":$scope.utmmediumdata,"utmCompaign":$scope.utmcampaigndata,"utmSource":$scope.utmsourcedata,"MobileNo":$scope.userMobile,"utmTerm":$scope.utmtermdata};var request=$http({method:"POST",dataType:"jsonp",url:globals.ServiceURL+"/QuoteService.svc/web/Save",data:requestdata});return request;};CommonService.GetMobileVerificationWithOTPRequest=function(data){var requestdata={RequestString:JSON.stringify(data.RequestString,null,"    ")};var request=$http({method:"POST",dataType:"jsonp",url:globals.IGwServiceURL+"/Lead.svc/web/GetMobileVerificationWithOTPRequest",data:JSON.stringify(requestdata)});return request;};CommonService.GetMobileVerificationWithOTPRequest1=function(data){var requestdata={RequestString:JSON.stringify(data.RequestString,null,"    ")};var request=$http({method:"POST",dataType:"jsonp",url:globals.IGwServiceURL+"/Lead.svc/web/GetLeadCreateRequest",data:JSON.stringify(requestdata)});return request;};CommonService.GetMobileVerificationWithOTPRequest2=function(data){var requestdata={RequestString:JSON.stringify(data.RequestString,null,"    ")};var request=$http({method:"POST",dataType:"jsonp",url:globals.IGwServiceURL+"/Lead.svc/web/GetOTPVerificationRequest",data:JSON.stringify(requestdata)});return request;}
CommonService.TimeOutProposalService=function(IGquoteId,product,browser,os,urlservice,Threshold,IP,ServiceName,device,timetaken){var data={"request":{"CPID":IGquoteId,"TimeOutUrl":urlservice,"Browser":browser,"ServiceName":ServiceName,"Threshold":Threshold,"Carrier":"","DeviceType":device,"Location":IP,"OS":os,"ProductName":product}}
if(timetaken!=undefined)
{data.request.TimeDuration=timetaken;}
var request=$http({method:"POST",dataType:"jsonp",url:globals.ServiceURL+"/CommonService.svc/web/GetTimeOutUrl",data:data});return request;};CommonService.getDataByMobile=function(mobilenumber){var requestdata={MobileNumber:mobilenumber};var request=$http({method:"POST",url:globals.ServiceURL+"/Lead.svc/web/GetLeadByMobileNumber",data:JSON.stringify(requestdata)});return request;};CommonService.revisit=function($scope,globals,cpid){var vData={Request:cpid};var request=$http({method:"POST",dataType:"json",url:globals.ServiceURL+'/Lead.svc/web/UpdateLeadRemarks',contentType:"application/json; charset=utf-8",data:cpid});return request;};CommonService.stringifyWcf=function(json,flag){var reISO=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/;var reMsAjax=/^\/Date\((d|-|.*)\)[\/|\\]$/;return JSON.stringify(json,function(key,value1){var value;if(typeof value1=="string"){if(flag==1)
{value=value1.split('-')[1]+'-'+value1.split('-')[0]+'-'+value1.split('-')[2];}
else if(flag==3)
{value=value1.split('/')[0]+'-'+value1.split('/')[1]+'-'+value1.split('/')[2];}
else
{value=value1.split('-')[1]+'-'+value1.split('-')[0]+'-'+value1.split('-')[2];}
value1=new Date(value);if(isNaN(Date.parse(value1))){var splitdata=value.split('-');value=new Date(splitdata[2],splitdata[0]-1,(splitdata[1]));}
else{value=new Date(value)}
value=value.setDate(value.getDate()+1);var s=JSON.parse(JSON.stringify(new Date(value)));var a=reISO.exec(s);if(a){var val='/Date('+new Date(Date.UTC(+a[1],+a[2]-1,+a[3],+a[4],+a[5],+a[6])).getTime()+')/';this[key]=val;return val;}}
return value;})}
CommonService.insurancecompanies=function(data){var request=$http({method:"POST",url:globals.ServiceURL+"/IGGeneralServices.svc/web/GetInsurer",headers:{'Content-Type':'application/json; charset=utf-8'},dataType:"json",data:JSON.stringify({"RequestString":data})});return request;};CommonService.sethelpdeskticket=function(data){var request=$http({method:"POST",url:globals.fershDeskURL,headers:{"Authorization":"Basic "+btoa("Hiw8F38wrT1enWBFRz"+":x")},contentType:"application/json",dataType:"json",data:JSON.stringify(data)});return request;};CommonService.RegistrationComplain=function($scope){var data={"ClientKey":$scope.encryptedData($scope.customerNumber),"CustomerName":$scope.customerName,"Descriptions":$scope.description,"EmailId":$scope.customerEmail,"InsurerId":$scope.insurer,"IssueType":$scope.typeofissue,"MobileNumber":$scope.customerNumber,"PolicyNo":$scope.policyNo,"ProductId":$scope.customerProduct}
var request=$http({method:"POST",dataType:"jsonp",url:globals.ServiceURL+"/IGGeneralServices.svc/web/RegistrationComplain",data:data});return request;};return CommonService;});


//directive.js
app.directive('mdBlur',function($timeout){var directive={restrict:'A',link:function(scope,element,attributes){$timeout(function(){angular.element(element[0].querySelector("input.md-input")).bind("blur",function(){$timeout(function(){scope.$eval(attributes.mdBlur);},100);});},0);}};return directive;});app.directive("scrollBottom",function(){return{link:function(scope,element,attr){var $id=$("#"+attr.scrollBottom);$(element).on("click",function(){$id.scrollTop($id[0].scrollHeight);});}}});app.directive('alphabetNumberspacex',function(){return{require:'ngModel',link:function(scope,element,attr,ngModelCtrl){function fromUser(text){if(text){text=text.toString();var transformedInput=text.replace(/['"<>]/g,'');if(transformedInput!==text){ngModelCtrl.$setViewValue(transformedInput);ngModelCtrl.$render()}
return transformedInput}
return undefined}
ngModelCtrl.$parsers.push(fromUser)}}});app.directive('commaseparator',function($filter){return{require:'ngModel',link:function(scope,elem,attrs,ctrl){if(!ctrl){return;}
ctrl.$formatters.unshift(function(){return $filter('commainr')(ctrl.$modelValue);});ctrl.$parsers.unshift(function(viewValue){var plainNumber=viewValue.replace(/[\,\.\-\+]/g,''),b=$filter('commainr')(plainNumber);elem.val(b);return plainNumber;});}};});app.filter('commainr',function(){return function(input){if(!isNaN(input)&&input!=undefined&&input!=null){var result=input.toString();var lastThree=result.substring(result.length-3);var otherNumbers=result.substring(0,result.length-3);if(otherNumbers!='')
lastThree=','+lastThree;var output=otherNumbers.replace(/\B(?=(\d{2})+(?!\d))/g,",")+lastThree;return output}}});app.directive('numbersOnly',function(){return{require:'ngModel',link:function(scope,element,attr,ngModelCtrl){function fromUser(text){if(text){var transformedInput=text.replace(/[^0-9]/g,'');if(transformedInput!==text){ngModelCtrl.$setViewValue(transformedInput);ngModelCtrl.$render();}
return transformedInput;}
return undefined;}
ngModelCtrl.$parsers.push(fromUser);}};});app.directive('alphabetOnly',function(){return{require:'ngModel',link:function(scope,element,attr,ngModelCtrl){function fromUser(text){if(text){text=text.toString();var transformedInput=text.replace(/[^a-zA-Z]/g,'');if(transformedInput!==text){ngModelCtrl.$setViewValue(transformedInput);ngModelCtrl.$render()}
return transformedInput}
return undefined}
ngModelCtrl.$parsers.push(fromUser)}}});app.directive('alphabetNumberspace',function(){return{require:'ngModel',link:function(scope,element,attr,ngModelCtrl){function fromUser(text){if(text){text=text.toString();var transformedInput=text.replace(/[^a-zA-Z0-9\s]/g,'');if(transformedInput!==text){ngModelCtrl.$setViewValue(transformedInput);ngModelCtrl.$render()}
return transformedInput}
return undefined}
ngModelCtrl.$parsers.push(fromUser)}}});app.directive('policyNumber',function(){return{require:'ngModel',link:function(scope,element,attr,ngModelCtrl){function fromUser(text){if(text){text=text.toString();var transformedInput=text.replace(/[^a-zA-Z0-9]/g,'');if(transformedInput!==text){ngModelCtrl.$setViewValue(transformedInput);ngModelCtrl.$render()}
return transformedInput}
return undefined}
ngModelCtrl.$parsers.push(fromUser)}}});app.directive('alphabetspace',function(){return{require:'ngModel',link:function(scope,element,attr,ngModelCtrl){function fromUser(text){if(text){text=text.toString();var transformedInput=text.replace(/[^a-zA-Z\s]/g,'');if(transformedInput!==text){ngModelCtrl.$setViewValue(transformedInput);ngModelCtrl.$render()}
return transformedInput}
return undefined}
ngModelCtrl.$parsers.push(fromUser)}}});app.directive('alphabetNumber',function(){return{require:'ngModel',link:function(scope,element,attr,ngModelCtrl){function fromUser(text){if(text){text=text.toString();var transformedInput=text.replace(/[^a-zA-Z0-9]/g,'');if(transformedInput!==text){ngModelCtrl.$setViewValue(transformedInput);ngModelCtrl.$render()}
return transformedInput}
return undefined}
ngModelCtrl.$parsers.push(fromUser)}}});app.filter('startsWithLetter',function(){return function(items,letter){console.log(letter);var filtered=[];if(letter){var letterMatch=new RegExp(letter,'i');var letterlength=letter.length;if(items){for(var i=0;i<items.length;i++){var item=items[i];if(letterMatch.test(item.text.substring(0,letterlength))){filtered.push(item);}}}
return filtered;}
else{return items;}};});app.filter('startsWithLetter1',function(){return function(items,letter){var filtered=[];if(letter){var letterMatch=new RegExp(letter,'i');var letterlength=letter.length;if(items!=undefined){for(var i=0;i<items.length;i++){var item=items[i];if(letterMatch.test(item.cityname.substring(0,letterlength))){filtered.push(item)}}}
if(items!=undefined){for(var i=0;i<items.length;i++){var item3=items[i];var item1=item3.cityname;var item2=item1;if(letterMatch.test(item2.substring(0,item2.length))){if(filtered.indexOf(item3)==-1)
filtered.push(item3)}}}
return filtered}else
return items}});app.filter('filterDestination',function(){return function(input,letter){if(letter!=undefined&&letter!=""){input=input||[];var out=[];var letterMatch=new RegExp(letter.toLowerCase(),'i');input.forEach(function(input){if(letterMatch.test(input.destinationName.substring(0,letter.length).toLowerCase())){out.push(input);}});return out;}
else{return input;}}});app.filter('FilterCarModel',function(){return function(items,letter){var filtered=[];if(letter!=undefined){var letterarray=letter.split(' ');var letterMatch=new RegExp(letter,'i');var letterlength=letter.length;for(var i=0;i<items.length;i++){var item=items[i];if(letterMatch.test(item.ModelName.substring(0,letterlength))){filtered.push(item)}}
for(var i=0;i<items.length;i++){var item3=items[i];var item1=item3.ModelName.split(',');var item2=item1[0];var k=0;for(var q=0;q<letterarray.length;q++){if(item2.toLowerCase().indexOf(letterarray[q].toLowerCase())!=-1)
k++;}
if(k==letterarray.length){if(filtered.indexOf(item3)==-1)
filtered.push(item3)}}
return filtered}else
return items}});app.filter('FilterRto',function(){return function(items,letter){var filtered=[];if(letter!=undefined){var letterMatch=new RegExp(letter,'i');var letterlength=letter.length;for(var i=0;i<items.length;i++){var item=items[i];if(letterMatch.test(item.RTOCode.substring(0,letterlength))){filtered.push(item)}}
for(var i=0;i<items.length;i++){var item3=items[i];var item1=item3.RTOCode.split(',');var item2=item1[0];if(letterMatch.test(item2.substring(0,item2.length))){if(filtered.indexOf(item3)==-1)
filtered.push(item3)}}
return filtered}else
return items}});app.filter('FilterBikeModel',function(){return function(items,letter){var filtered=[];if(letter!=undefined){var letterarray=letter.split(' ');var letterMatch=new RegExp(letter,'i');var letterlength=letter.length;for(var i=0;i<items.length;i++){var item=items[i];if(item.bikename==undefined){console.log(item);}
if(letterMatch.test(item.bikename.substring(0,letterlength))){filtered.push(item)}}
for(var i=0;i<items.length;i++){var item3=items[i];var item1=item3.bikename.split(',');var item2=item1[0];var k=0;for(var q=0;q<letterarray.length;q++){if(item2.toLowerCase().indexOf(letterarray[q].toLowerCase())!=-1)
k++;}
if(k==letterarray.length){if(filtered.indexOf(item3)==-1)
filtered.push(item3)}}
return filtered}else
return items}});app.directive("limitTo",[function(){return{restrict:"A",link:function(scope,elem,attrs){var limit=parseInt(attrs.limitTo);angular.element(elem).on("keypress",function(e){if(this.value.length==limit)e.preventDefault();});}}}]);app.filter('SearchWithLetter',function(){return function(items,letter){var filtered=[];var letterMatch=new RegExp(letter,'i');for(var i=0;i<items.length;i++){var item=items[i];if(letterMatch.test(item.cityname)){filtered.push(item);}}
return filtered;};});app.directive('focusMe',['$timeout','$parse',function($timeout,$parse){return{link:function(scope,element,attrs){var model=$parse(attrs.focusMe);scope.$watch(model,function(value){console.log('value=',value);if(value===true){$timeout(function(){element[0].focus();});}});element.bind('blur',function(){console.log('blur');scope.$apply(model.assign(scope,false));});}};}]);app.filter('roundof',function($filter){return function(input){return Math.round(input);};});app.filter('freeaddon',function($filter){return function(input){if(parseInt(input)==0){var input="Free";}
return input;};});app.filter('trim',function(){return function(value){if(!angular.isString(value)){return value;}
return value.replace(/[\s]/g,'');};});app.filter('rupeesFigure',function(){return function(income){if(!isNaN(income)&&angular.isNumber(income)){var userfloatincome='';var count=(parseInt(income)).toString().length;if(count<4){userfloatincome=parseFloat(income / 1000).toFixed(2)+' K*';}
else if(count==4||count==5){userfloatincome=parseFloat(income / 1000).toFixed(2)+' K*';}
else if(count==6||count==7){userfloatincome=parseFloat(income / 100000).toFixed(2)+' Lacs*';}
else if(count==8||count==9){userfloatincome=parseFloat(income / 10000000).toFixed(2)+' Crore*';}
return userfloatincome;}
else{return;}};});app.directive('ngEnter',function(){return function(scope,element,attrs){element.bind("keydown keypress",function(event){if(event.which===13){scope.$apply(function(){scope.$eval(attrs.ngEnter,{'event':event});});event.preventDefault();}});};});app.filter('INR',function(){return function(input){if(!isNaN(input)){var result=input.toString().split('.');var lastThree=result[0].substring(result[0].length-3);var otherNumbers=result[0].substring(0,result[0].length-3);if(otherNumbers!='')
lastThree=','+lastThree;var output=otherNumbers.replace(/\B(?=(\d{2})+(?!\d))/g,",")+lastThree;if(result.length>1){output+="."+result[1];}
return output;}}});app.filter("unique",function(){return function(collection,keyname){var output=[],keys=[];angular.forEach(collection,function(item){var key=item[keyname];if(keys.indexOf(key)===-1){keys.push(key);output.push(item);}});return output;};});app.filter('startsWithLetter1',function(){return function(items,letter){var filtered=[];if(letter!=undefined&&letter!=""){var letterMatch=new RegExp(letter,'i');var letterlength=letter.length;if(items!=undefined){for(var i=0;i<items.length;i++){var item=items[i];if(letterMatch.test(item.cityname.substring(0,letterlength))){filtered.push(item)}}}
if(items!=undefined){for(var i=0;i<items.length;i++){var item3=items[i];var item1=item3.cityname.replace(',','');var item2=item1;if(letterMatch.test(item2.substring(0,item2.length))){if(filtered.indexOf(item3)==-1)
filtered.push(item3)}}}
return filtered}else
return items}});app.directive('offClick',function($document,$parse,$timeout){return{restrict:'A',compile:function(tElement,tAttrs){var fn=$parse(tAttrs.offClick);return function(scope,iElement,iAttrs){function eventHandler(ev){if(iElement[0].contains(ev.target)){$document.one('click touchend',eventHandler);}else{scope.$apply(function(){fn(scope);});}}
scope.$watch(iAttrs.offClickActivator,function(activate){if(activate){$timeout(function(){$document.one('click touchend',eventHandler);});}else{$document.off('click touchend',eventHandler);}});};}};});
